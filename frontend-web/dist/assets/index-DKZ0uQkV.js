var tw=Object.defineProperty;var Nc=e=>{throw TypeError(e)};var nw=(e,t,n)=>t in e?tw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var x=(e,t,n)=>nw(e,typeof t!="symbol"?t+"":t,n),Lc=(e,t,n)=>t.has(e)||Nc("Cannot "+n);var Or=(e,t,n)=>(Lc(e,t,"read from private field"),n?n.call(e):t.get(e)),zr=(e,t,n)=>t.has(e)?Nc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Dr=(e,t,n,r)=>(Lc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function rw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yh={exports:{}},xo={},wh={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=Symbol.for("react.element"),iw=Symbol.for("react.portal"),sw=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),aw=Symbol.for("react.profiler"),lw=Symbol.for("react.provider"),uw=Symbol.for("react.context"),cw=Symbol.for("react.forward_ref"),dw=Symbol.for("react.suspense"),fw=Symbol.for("react.memo"),hw=Symbol.for("react.lazy"),Oc=Symbol.iterator;function pw(e){return e===null||typeof e!="object"?null:(e=Oc&&e[Oc]||e["@@iterator"],typeof e=="function"?e:null)}var Sh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vh=Object.assign,xh={};function br(e,t,n){this.props=e,this.context=t,this.refs=xh,this.updater=n||Sh}br.prototype.isReactComponent={};br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _h(){}_h.prototype=br.prototype;function Jl(e,t,n){this.props=e,this.context=t,this.refs=xh,this.updater=n||Sh}var Xl=Jl.prototype=new _h;Xl.constructor=Jl;vh(Xl,br.prototype);Xl.isPureReactComponent=!0;var zc=Array.isArray,kh=Object.prototype.hasOwnProperty,Zl={current:null},Eh={key:!0,ref:!0,__self:!0,__source:!0};function Ch(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)kh.call(t,r)&&!Eh.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ui,type:e,key:s,ref:o,props:i,_owner:Zl.current}}function mw(e,t){return{$$typeof:Ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ui}function gw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Dc=/\/+/g;function Yo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gw(""+e.key):t.toString(36)}function ks(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ui:case iw:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Yo(o,0):r,zc(i)?(n="",e!=null&&(n=e.replace(Dc,"$&/")+"/"),ks(i,t,n,"",function(u){return u})):i!=null&&(eu(i)&&(i=mw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",zc(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Yo(s,a);o+=ks(s,t,n,l,i)}else if(l=pw(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Yo(s,a++),o+=ks(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xi(e,t,n){if(e==null)return e;var r=[],i=0;return ks(e,r,"","",function(s){return t.call(n,s,i++)}),r}function yw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Es={transition:null},ww={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Es,ReactCurrentOwner:Zl};function Th(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Xi,forEach:function(e,t,n){Xi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xi(e,function(){t++}),t},toArray:function(e){return Xi(e,function(t){return t})||[]},only:function(e){if(!eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=br;q.Fragment=sw;q.Profiler=aw;q.PureComponent=Jl;q.StrictMode=ow;q.Suspense=dw;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ww;q.act=Th;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vh({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Zl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)kh.call(t,l)&&!Eh.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ui,type:e.type,key:i,ref:s,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:uw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lw,_context:e},e.Consumer=e};q.createElement=Ch;q.createFactory=function(e){var t=Ch.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:cw,render:e}};q.isValidElement=eu;q.lazy=function(e){return{$$typeof:hw,_payload:{_status:-1,_result:e},_init:yw}};q.memo=function(e,t){return{$$typeof:fw,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Es.transition;Es.transition={};try{e()}finally{Es.transition=t}};q.unstable_act=Th;q.useCallback=function(e,t){return Be.current.useCallback(e,t)};q.useContext=function(e){return Be.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};q.useEffect=function(e,t){return Be.current.useEffect(e,t)};q.useId=function(){return Be.current.useId()};q.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Be.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};q.useRef=function(e){return Be.current.useRef(e)};q.useState=function(e){return Be.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Be.current.useTransition()};q.version="18.3.1";wh.exports=q;var E=wh.exports;const je=Bi(E),Sw=rw({__proto__:null,default:je},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw=E,xw=Symbol.for("react.element"),_w=Symbol.for("react.fragment"),kw=Object.prototype.hasOwnProperty,Ew=vw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cw={key:!0,ref:!0,__self:!0,__source:!0};function bh(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)kw.call(t,r)&&!Cw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:xw,type:e,key:s,ref:o,props:i,_owner:Ew.current}}xo.Fragment=_w;xo.jsx=bh;xo.jsxs=bh;yh.exports=xo;var k=yh.exports,Ba={},Ih={exports:{}},rt={},Rh={exports:{}},Ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,B){var g=O.length;O.push(B);e:for(;0<g;){var G=g-1>>>1,te=O[G];if(0<i(te,B))O[G]=B,O[g]=te,g=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],g=O.pop();if(g!==B){O[0]=g;e:for(var G=0,te=O.length,v=te>>>1;G<v;){var _e=2*(G+1)-1,ft=O[_e],ae=_e+1,Et=O[ae];if(0>i(ft,g))ae<te&&0>i(Et,ft)?(O[G]=Et,O[ae]=g,G=ae):(O[G]=ft,O[_e]=g,G=_e);else if(ae<te&&0>i(Et,g))O[G]=Et,O[ae]=g,G=ae;else break e}}return B}function i(O,B){var g=O.sortIndex-B.sortIndex;return g!==0?g:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,w=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=O)r(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function C(O){if(S=!1,y(O),!w)if(n(l)!==null)w=!0,he(R);else{var B=n(u);B!==null&&ce(C,B.startTime-O)}}function R(O,B){w=!1,S&&(S=!1,p(I),I=-1),h=!0;var g=f;try{for(y(B),d=n(l);d!==null&&(!(d.expirationTime>B)||O&&!L());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var te=G(d.expirationTime<=B);B=e.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),y(B)}else r(l);d=n(l)}if(d!==null)var v=!0;else{var _e=n(u);_e!==null&&ce(C,_e.startTime-B),v=!1}return v}finally{d=null,f=g,h=!1}}var _=!1,P=null,I=-1,F=5,A=-1;function L(){return!(e.unstable_now()-A<F)}function D(){if(P!==null){var O=e.unstable_now();A=O;var B=!0;try{B=P(!0,O)}finally{B?W():(_=!1,P=null)}}else _=!1}var W;if(typeof m=="function")W=function(){m(D)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,$=Y.port2;Y.port1.onmessage=D,W=function(){$.postMessage(null)}}else W=function(){b(D,0)};function he(O){P=O,_||(_=!0,W())}function ce(O,B){I=b(function(){O(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){w||h||(w=!0,he(R))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var g=f;f=B;try{return O()}finally{f=g}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var g=f;f=O;try{return B()}finally{f=g}},e.unstable_scheduleCallback=function(O,B,g){var G=e.unstable_now();switch(typeof g=="object"&&g!==null?(g=g.delay,g=typeof g=="number"&&0<g?G+g:G):g=G,O){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=g+te,O={id:c++,callback:B,priorityLevel:O,startTime:g,expirationTime:te,sortIndex:-1},g>G?(O.sortIndex=g,t(u,O),n(l)===null&&O===n(u)&&(S?(p(I),I=-1):S=!0,ce(C,g-G))):(O.sortIndex=te,t(l,O),w||h||(w=!0,he(R))),O},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(O){var B=f;return function(){var g=f;f=B;try{return O.apply(this,arguments)}finally{f=g}}}})(Ph);Rh.exports=Ph;var Tw=Rh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw=E,nt=Tw;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ah=new Set,mi={};function Fn(e,t){yr(e,t),yr(e+"Capture",t)}function yr(e,t){for(mi[e]=t,e=0;e<t.length;e++)Ah.add(t[e])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=Object.prototype.hasOwnProperty,Iw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jc={},Fc={};function Rw(e){return Ua.call(Fc,e)?!0:Ua.call(jc,e)?!1:Iw.test(e)?Fc[e]=!0:(jc[e]=!0,!1)}function Pw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Aw(e,t,n,r){if(t===null||typeof t>"u"||Pw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var tu=/[\-:]([a-z])/g;function nu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tu,nu);Re[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tu,nu);Re[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tu,nu);Re[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function ru(e,t,n,r){var i=Re.hasOwnProperty(t)?Re[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Aw(t,n,i,r)&&(n=null),r||i===null?Rw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zi=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),iu=Symbol.for("react.strict_mode"),Ha=Symbol.for("react.profiler"),Mh=Symbol.for("react.provider"),Nh=Symbol.for("react.context"),su=Symbol.for("react.forward_ref"),Va=Symbol.for("react.suspense"),$a=Symbol.for("react.suspense_list"),ou=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),Lh=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function jr(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,Go;function Yr(e){if(Go===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Go=t&&t[1]||""}return`
`+Go+e}var Ko=!1;function Jo(e,t){if(!e||Ko)return"";Ko=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ko=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yr(e):""}function Mw(e){switch(e.tag){case 5:return Yr(e.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 2:case 15:return e=Jo(e.type,!1),e;case 11:return e=Jo(e.type.render,!1),e;case 1:return e=Jo(e.type,!0),e;default:return""}}function Wa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kn:return"Fragment";case Gn:return"Portal";case Ha:return"Profiler";case iu:return"StrictMode";case Va:return"Suspense";case $a:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nh:return(e.displayName||"Context")+".Consumer";case Mh:return(e._context.displayName||"Context")+".Provider";case su:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ou:return t=e.displayName||null,t!==null?t:Wa(e.type)||"Memo";case en:t=e._payload,e=e._init;try{return Wa(e(t))}catch{}}return null}function Nw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wa(t);case 8:return t===iu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lw(e){var t=Oh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function es(e){e._valueTracker||(e._valueTracker=Lw(e))}function zh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Oh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qa(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Uc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dh(e,t){t=t.checked,t!=null&&ru(e,"checked",t,!1)}function Qa(e,t){Dh(e,t);var n=gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ya(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ya(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ya(e,t,n){(t!=="number"||Us(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gr=Array.isArray;function ar(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ga(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Gr(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gn(n)}}function jh(e,t){var n=gn(t.value),r=gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $c(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ka(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ts,Bh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ow=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(e){Ow.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xr[t]=Xr[e]})});function Uh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xr.hasOwnProperty(e)&&Xr[e]?(""+t).trim():t+"px"}function Hh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Uh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var zw=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ja(e,t){if(t){if(zw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Xa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Za=null;function au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var el=null,lr=null,ur=null;function Wc(e){if(e=$i(e)){if(typeof el!="function")throw Error(M(280));var t=e.stateNode;t&&(t=To(t),el(e.stateNode,e.type,t))}}function Vh(e){lr?ur?ur.push(e):ur=[e]:lr=e}function $h(){if(lr){var e=lr,t=ur;if(ur=lr=null,Wc(e),t)for(e=0;e<t.length;e++)Wc(t[e])}}function Wh(e,t){return e(t)}function qh(){}var Xo=!1;function Qh(e,t,n){if(Xo)return e(t,n);Xo=!0;try{return Wh(e,t,n)}finally{Xo=!1,(lr!==null||ur!==null)&&(qh(),$h())}}function yi(e,t){var n=e.stateNode;if(n===null)return null;var r=To(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var tl=!1;if($t)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){tl=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{tl=!1}function Dw(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Zr=!1,Hs=null,Vs=!1,nl=null,jw={onError:function(e){Zr=!0,Hs=e}};function Fw(e,t,n,r,i,s,o,a,l){Zr=!1,Hs=null,Dw.apply(jw,arguments)}function Bw(e,t,n,r,i,s,o,a,l){if(Fw.apply(this,arguments),Zr){if(Zr){var u=Hs;Zr=!1,Hs=null}else throw Error(M(198));Vs||(Vs=!0,nl=u)}}function Bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qc(e){if(Bn(e)!==e)throw Error(M(188))}function Uw(e){var t=e.alternate;if(!t){if(t=Bn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qc(i),e;if(s===r)return qc(i),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Gh(e){return e=Uw(e),e!==null?Kh(e):null}function Kh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kh(e);if(t!==null)return t;e=e.sibling}return null}var Jh=nt.unstable_scheduleCallback,Qc=nt.unstable_cancelCallback,Hw=nt.unstable_shouldYield,Vw=nt.unstable_requestPaint,we=nt.unstable_now,$w=nt.unstable_getCurrentPriorityLevel,lu=nt.unstable_ImmediatePriority,Xh=nt.unstable_UserBlockingPriority,$s=nt.unstable_NormalPriority,Ww=nt.unstable_LowPriority,Zh=nt.unstable_IdlePriority,_o=null,At=null;function qw(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(_o,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Gw,Qw=Math.log,Yw=Math.LN2;function Gw(e){return e>>>=0,e===0?32:31-(Qw(e)/Yw|0)|0}var ns=64,rs=4194304;function Kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ws(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Kr(a):(s&=o,s!==0&&(r=Kr(s)))}else o=n&~i,o!==0?r=Kr(o):s!==0&&(r=Kr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),i=1<<n,r|=e[n],t&=~i;return r}function Kw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-St(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Kw(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ep(){var e=ns;return ns<<=1,!(ns&4194240)&&(ns=64),e}function Zo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function Xw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-St(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function uu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Z=0;function tp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var np,cu,rp,ip,sp,il=!1,is=[],ln=null,un=null,cn=null,wi=new Map,Si=new Map,nn=[],Zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yc(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(t.pointerId)}}function Br(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=$i(t),t!==null&&cu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function eS(e,t,n,r,i){switch(t){case"focusin":return ln=Br(ln,e,t,n,r,i),!0;case"dragenter":return un=Br(un,e,t,n,r,i),!0;case"mouseover":return cn=Br(cn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return wi.set(s,Br(wi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Si.set(s,Br(Si.get(s)||null,e,t,n,r,i)),!0}return!1}function op(e){var t=Tn(e.target);if(t!==null){var n=Bn(t);if(n!==null){if(t=n.tag,t===13){if(t=Yh(n),t!==null){e.blockedOn=t,sp(e.priority,function(){rp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Za=r,n.target.dispatchEvent(r),Za=null}else return t=$i(n),t!==null&&cu(t),e.blockedOn=n,!1;t.shift()}return!0}function Gc(e,t,n){Cs(e)&&n.delete(t)}function tS(){il=!1,ln!==null&&Cs(ln)&&(ln=null),un!==null&&Cs(un)&&(un=null),cn!==null&&Cs(cn)&&(cn=null),wi.forEach(Gc),Si.forEach(Gc)}function Ur(e,t){e.blockedOn===t&&(e.blockedOn=null,il||(il=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,tS)))}function vi(e){function t(i){return Ur(i,e)}if(0<is.length){Ur(is[0],e);for(var n=1;n<is.length;n++){var r=is[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ln!==null&&Ur(ln,e),un!==null&&Ur(un,e),cn!==null&&Ur(cn,e),wi.forEach(t),Si.forEach(t),n=0;n<nn.length;n++)r=nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nn.length&&(n=nn[0],n.blockedOn===null);)op(n),n.blockedOn===null&&nn.shift()}var cr=Gt.ReactCurrentBatchConfig,qs=!0;function nS(e,t,n,r){var i=Z,s=cr.transition;cr.transition=null;try{Z=1,du(e,t,n,r)}finally{Z=i,cr.transition=s}}function rS(e,t,n,r){var i=Z,s=cr.transition;cr.transition=null;try{Z=4,du(e,t,n,r)}finally{Z=i,cr.transition=s}}function du(e,t,n,r){if(qs){var i=sl(e,t,n,r);if(i===null)ua(e,t,r,Qs,n),Yc(e,r);else if(eS(i,e,t,n,r))r.stopPropagation();else if(Yc(e,r),t&4&&-1<Zw.indexOf(e)){for(;i!==null;){var s=$i(i);if(s!==null&&np(s),s=sl(e,t,n,r),s===null&&ua(e,t,r,Qs,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ua(e,t,r,null,n)}}var Qs=null;function sl(e,t,n,r){if(Qs=null,e=au(r),e=Tn(e),e!==null)if(t=Bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function ap(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($w()){case lu:return 1;case Xh:return 4;case $s:case Ww:return 16;case Zh:return 536870912;default:return 16}default:return 16}}var sn=null,fu=null,Ts=null;function lp(){if(Ts)return Ts;var e,t=fu,n=t.length,r,i="value"in sn?sn.value:sn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ts=i.slice(e,1<r?1-r:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function Kc(){return!1}function it(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ss:Kc,this.isPropagationStopped=Kc,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=it(Ir),Vi=ge({},Ir,{view:0,detail:0}),iS=it(Vi),ea,ta,Hr,ko=ge({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hr&&(Hr&&e.type==="mousemove"?(ea=e.screenX-Hr.screenX,ta=e.screenY-Hr.screenY):ta=ea=0,Hr=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),Jc=it(ko),sS=ge({},ko,{dataTransfer:0}),oS=it(sS),aS=ge({},Vi,{relatedTarget:0}),na=it(aS),lS=ge({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),uS=it(lS),cS=ge({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dS=it(cS),fS=ge({},Ir,{data:0}),Xc=it(fS),hS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mS[e])?!!t[e]:!1}function pu(){return gS}var yS=ge({},Vi,{key:function(e){if(e.key){var t=hS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wS=it(yS),SS=ge({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=it(SS),vS=ge({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),xS=it(vS),_S=ge({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),kS=it(_S),ES=ge({},ko,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CS=it(ES),TS=[9,13,27,32],mu=$t&&"CompositionEvent"in window,ei=null;$t&&"documentMode"in document&&(ei=document.documentMode);var bS=$t&&"TextEvent"in window&&!ei,up=$t&&(!mu||ei&&8<ei&&11>=ei),ed=" ",td=!1;function cp(e,t){switch(e){case"keyup":return TS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function IS(e,t){switch(e){case"compositionend":return dp(t);case"keypress":return t.which!==32?null:(td=!0,ed);case"textInput":return e=t.data,e===ed&&td?null:e;default:return null}}function RS(e,t){if(Jn)return e==="compositionend"||!mu&&cp(e,t)?(e=lp(),Ts=fu=sn=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return up&&t.locale!=="ko"?null:t.data;default:return null}}var PS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PS[e.type]:t==="textarea"}function fp(e,t,n,r){Vh(r),t=Ys(t,"onChange"),0<t.length&&(n=new hu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ti=null,xi=null;function AS(e){kp(e,0)}function Eo(e){var t=er(e);if(zh(t))return e}function MS(e,t){if(e==="change")return t}var hp=!1;if($t){var ra;if($t){var ia="oninput"in document;if(!ia){var rd=document.createElement("div");rd.setAttribute("oninput","return;"),ia=typeof rd.oninput=="function"}ra=ia}else ra=!1;hp=ra&&(!document.documentMode||9<document.documentMode)}function id(){ti&&(ti.detachEvent("onpropertychange",pp),xi=ti=null)}function pp(e){if(e.propertyName==="value"&&Eo(xi)){var t=[];fp(t,xi,e,au(e)),Qh(AS,t)}}function NS(e,t,n){e==="focusin"?(id(),ti=t,xi=n,ti.attachEvent("onpropertychange",pp)):e==="focusout"&&id()}function LS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eo(xi)}function OS(e,t){if(e==="click")return Eo(t)}function zS(e,t){if(e==="input"||e==="change")return Eo(t)}function DS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:DS;function _i(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ua.call(t,i)||!xt(e[i],t[i]))return!1}return!0}function sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function od(e,t){var n=sd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sd(n)}}function mp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gp(){for(var e=window,t=Us();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Us(e.document)}return t}function gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jS(e){var t=gp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mp(n.ownerDocument.documentElement,n)){if(r!==null&&gu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=od(n,s);var o=od(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FS=$t&&"documentMode"in document&&11>=document.documentMode,Xn=null,ol=null,ni=null,al=!1;function ad(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;al||Xn==null||Xn!==Us(r)||(r=Xn,"selectionStart"in r&&gu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ni&&_i(ni,r)||(ni=r,r=Ys(ol,"onSelect"),0<r.length&&(t=new hu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xn)))}function os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zn={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},sa={},yp={};$t&&(yp=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function Co(e){if(sa[e])return sa[e];if(!Zn[e])return e;var t=Zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yp)return sa[e]=t[n];return e}var wp=Co("animationend"),Sp=Co("animationiteration"),vp=Co("animationstart"),xp=Co("transitionend"),_p=new Map,ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){_p.set(e,t),Fn(t,[e])}for(var oa=0;oa<ld.length;oa++){var aa=ld[oa],BS=aa.toLowerCase(),US=aa[0].toUpperCase()+aa.slice(1);wn(BS,"on"+US)}wn(wp,"onAnimationEnd");wn(Sp,"onAnimationIteration");wn(vp,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(xp,"onTransitionEnd");yr("onMouseEnter",["mouseout","mouseover"]);yr("onMouseLeave",["mouseout","mouseover"]);yr("onPointerEnter",["pointerout","pointerover"]);yr("onPointerLeave",["pointerout","pointerover"]);Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jr));function ud(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Bw(r,t,void 0,e),e.currentTarget=null}function kp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ud(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ud(i,a,u),s=l}}}if(Vs)throw e=nl,Vs=!1,nl=null,e}function le(e,t){var n=t[fl];n===void 0&&(n=t[fl]=new Set);var r=e+"__bubble";n.has(r)||(Ep(t,e,2,!1),n.add(r))}function la(e,t,n){var r=0;t&&(r|=4),Ep(n,e,r,t)}var as="_reactListening"+Math.random().toString(36).slice(2);function ki(e){if(!e[as]){e[as]=!0,Ah.forEach(function(n){n!=="selectionchange"&&(HS.has(n)||la(n,!1,e),la(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[as]||(t[as]=!0,la("selectionchange",!1,t))}}function Ep(e,t,n,r){switch(ap(t)){case 1:var i=nS;break;case 4:i=rS;break;default:i=du}n=i.bind(null,t,n,e),i=void 0,!tl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ua(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Tn(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Qh(function(){var u=s,c=au(n),d=[];e:{var f=_p.get(e);if(f!==void 0){var h=hu,w=e;switch(e){case"keypress":if(bs(n)===0)break e;case"keydown":case"keyup":h=wS;break;case"focusin":w="focus",h=na;break;case"focusout":w="blur",h=na;break;case"beforeblur":case"afterblur":h=na;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=oS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=xS;break;case wp:case Sp:case vp:h=uS;break;case xp:h=kS;break;case"scroll":h=iS;break;case"wheel":h=CS;break;case"copy":case"cut":case"paste":h=dS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Zc}var S=(t&4)!==0,b=!S&&e==="scroll",p=S?f!==null?f+"Capture":null:f;S=[];for(var m=u,y;m!==null;){y=m;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,p!==null&&(C=yi(m,p),C!=null&&S.push(Ei(m,C,y)))),b)break;m=m.return}0<S.length&&(f=new h(f,w,null,n,c),d.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Za&&(w=n.relatedTarget||n.fromElement)&&(Tn(w)||w[Wt]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=u,w=w?Tn(w):null,w!==null&&(b=Bn(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=u),h!==w)){if(S=Jc,C="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(S=Zc,C="onPointerLeave",p="onPointerEnter",m="pointer"),b=h==null?f:er(h),y=w==null?f:er(w),f=new S(C,m+"leave",h,n,c),f.target=b,f.relatedTarget=y,C=null,Tn(c)===u&&(S=new S(p,m+"enter",w,n,c),S.target=y,S.relatedTarget=b,C=S),b=C,h&&w)t:{for(S=h,p=w,m=0,y=S;y;y=Qn(y))m++;for(y=0,C=p;C;C=Qn(C))y++;for(;0<m-y;)S=Qn(S),m--;for(;0<y-m;)p=Qn(p),y--;for(;m--;){if(S===p||p!==null&&S===p.alternate)break t;S=Qn(S),p=Qn(p)}S=null}else S=null;h!==null&&cd(d,f,h,S,!1),w!==null&&b!==null&&cd(d,b,w,S,!0)}}e:{if(f=u?er(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var R=MS;else if(nd(f))if(hp)R=zS;else{R=LS;var _=NS}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=OS);if(R&&(R=R(e,u))){fp(d,R,n,c);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Ya(f,"number",f.value)}switch(_=u?er(u):window,e){case"focusin":(nd(_)||_.contentEditable==="true")&&(Xn=_,ol=u,ni=null);break;case"focusout":ni=ol=Xn=null;break;case"mousedown":al=!0;break;case"contextmenu":case"mouseup":case"dragend":al=!1,ad(d,n,c);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":ad(d,n,c)}var P;if(mu)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Jn?cp(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(up&&n.locale!=="ko"&&(Jn||I!=="onCompositionStart"?I==="onCompositionEnd"&&Jn&&(P=lp()):(sn=c,fu="value"in sn?sn.value:sn.textContent,Jn=!0)),_=Ys(u,I),0<_.length&&(I=new Xc(I,e,null,n,c),d.push({event:I,listeners:_}),P?I.data=P:(P=dp(n),P!==null&&(I.data=P)))),(P=bS?IS(e,n):RS(e,n))&&(u=Ys(u,"onBeforeInput"),0<u.length&&(c=new Xc("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=P))}kp(d,t)})}function Ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ys(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yi(e,n),s!=null&&r.unshift(Ei(e,s,i)),s=yi(e,t),s!=null&&r.push(Ei(e,s,i))),e=e.return}return r}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cd(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=yi(n,s),l!=null&&o.unshift(Ei(n,l,a))):i||(l=yi(n,s),l!=null&&o.push(Ei(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var VS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function dd(e){return(typeof e=="string"?e:""+e).replace(VS,`
`).replace($S,"")}function ls(e,t,n){if(t=dd(t),dd(e)!==t&&n)throw Error(M(425))}function Gs(){}var ll=null,ul=null;function cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dl=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,fd=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof fd<"u"?function(e){return fd.resolve(null).then(e).catch(QS)}:dl;function QS(e){setTimeout(function(){throw e})}function ca(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vi(t)}function dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rr=Math.random().toString(36).slice(2),It="__reactFiber$"+Rr,Ci="__reactProps$"+Rr,Wt="__reactContainer$"+Rr,fl="__reactEvents$"+Rr,YS="__reactListeners$"+Rr,GS="__reactHandles$"+Rr;function Tn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hd(e);e!==null;){if(n=e[It])return n;e=hd(e)}return t}e=n,n=e.parentNode}return null}function $i(e){return e=e[It]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function To(e){return e[Ci]||null}var hl=[],tr=-1;function Sn(e){return{current:e}}function ue(e){0>tr||(e.current=hl[tr],hl[tr]=null,tr--)}function se(e,t){tr++,hl[tr]=e.current,e.current=t}var yn={},Le=Sn(yn),We=Sn(!1),Mn=yn;function wr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qe(e){return e=e.childContextTypes,e!=null}function Ks(){ue(We),ue(Le)}function pd(e,t,n){if(Le.current!==yn)throw Error(M(168));se(Le,t),se(We,n)}function Cp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(M(108,Nw(e)||"Unknown",i));return ge({},n,r)}function Js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Mn=Le.current,se(Le,e),se(We,We.current),!0}function md(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Cp(e,t,Mn),r.__reactInternalMemoizedMergedChildContext=e,ue(We),ue(Le),se(Le,e)):ue(We),se(We,n)}var Ft=null,bo=!1,da=!1;function Tp(e){Ft===null?Ft=[e]:Ft.push(e)}function KS(e){bo=!0,Tp(e)}function vn(){if(!da&&Ft!==null){da=!0;var e=0,t=Z;try{var n=Ft;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ft=null,bo=!1}catch(i){throw Ft!==null&&(Ft=Ft.slice(e+1)),Jh(lu,vn),i}finally{Z=t,da=!1}}return null}var nr=[],rr=0,Xs=null,Zs=0,st=[],ot=0,Nn=null,Ut=1,Ht="";function kn(e,t){nr[rr++]=Zs,nr[rr++]=Xs,Xs=e,Zs=t}function bp(e,t,n){st[ot++]=Ut,st[ot++]=Ht,st[ot++]=Nn,Nn=e;var r=Ut;e=Ht;var i=32-St(r)-1;r&=~(1<<i),n+=1;var s=32-St(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ut=1<<32-St(t)+i|n<<i|r,Ht=s+e}else Ut=1<<s|n<<i|r,Ht=e}function yu(e){e.return!==null&&(kn(e,1),bp(e,1,0))}function wu(e){for(;e===Xs;)Xs=nr[--rr],nr[rr]=null,Zs=nr[--rr],nr[rr]=null;for(;e===Nn;)Nn=st[--ot],st[ot]=null,Ht=st[--ot],st[ot]=null,Ut=st[--ot],st[ot]=null}var tt=null,Ze=null,fe=!1,yt=null;function Ip(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,Ze=dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nn!==null?{id:Ut,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,Ze=null,!0):!1;default:return!1}}function pl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ml(e){if(fe){var t=Ze;if(t){var n=t;if(!gd(e,t)){if(pl(e))throw Error(M(418));t=dn(n.nextSibling);var r=tt;t&&gd(e,t)?Ip(r,n):(e.flags=e.flags&-4097|2,fe=!1,tt=e)}}else{if(pl(e))throw Error(M(418));e.flags=e.flags&-4097|2,fe=!1,tt=e}}}function yd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function us(e){if(e!==tt)return!1;if(!fe)return yd(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cl(e.type,e.memoizedProps)),t&&(t=Ze)){if(pl(e))throw Rp(),Error(M(418));for(;t;)Ip(e,t),t=dn(t.nextSibling)}if(yd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=dn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=tt?dn(e.stateNode.nextSibling):null;return!0}function Rp(){for(var e=Ze;e;)e=dn(e.nextSibling)}function Sr(){Ze=tt=null,fe=!1}function Su(e){yt===null?yt=[e]:yt.push(e)}var JS=Gt.ReactCurrentBatchConfig;function Vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function cs(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wd(e){var t=e._init;return t(e._payload)}function Pp(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=mn(p,m),p.index=0,p.sibling=null,p}function s(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,m,y,C){return m===null||m.tag!==6?(m=wa(y,p.mode,C),m.return=p,m):(m=i(m,y),m.return=p,m)}function l(p,m,y,C){var R=y.type;return R===Kn?c(p,m,y.props.children,C,y.key):m!==null&&(m.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===en&&wd(R)===m.type)?(C=i(m,y.props),C.ref=Vr(p,m,y),C.return=p,C):(C=Ls(y.type,y.key,y.props,null,p.mode,C),C.ref=Vr(p,m,y),C.return=p,C)}function u(p,m,y,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Sa(y,p.mode,C),m.return=p,m):(m=i(m,y.children||[]),m.return=p,m)}function c(p,m,y,C,R){return m===null||m.tag!==7?(m=Pn(y,p.mode,C,R),m.return=p,m):(m=i(m,y),m.return=p,m)}function d(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=wa(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zi:return y=Ls(m.type,m.key,m.props,null,p.mode,y),y.ref=Vr(p,null,m),y.return=p,y;case Gn:return m=Sa(m,p.mode,y),m.return=p,m;case en:var C=m._init;return d(p,C(m._payload),y)}if(Gr(m)||jr(m))return m=Pn(m,p.mode,y,null),m.return=p,m;cs(p,m)}return null}function f(p,m,y,C){var R=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return R!==null?null:a(p,m,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zi:return y.key===R?l(p,m,y,C):null;case Gn:return y.key===R?u(p,m,y,C):null;case en:return R=y._init,f(p,m,R(y._payload),C)}if(Gr(y)||jr(y))return R!==null?null:c(p,m,y,C,null);cs(p,y)}return null}function h(p,m,y,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return p=p.get(y)||null,a(m,p,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Zi:return p=p.get(C.key===null?y:C.key)||null,l(m,p,C,R);case Gn:return p=p.get(C.key===null?y:C.key)||null,u(m,p,C,R);case en:var _=C._init;return h(p,m,y,_(C._payload),R)}if(Gr(C)||jr(C))return p=p.get(y)||null,c(m,p,C,R,null);cs(m,C)}return null}function w(p,m,y,C){for(var R=null,_=null,P=m,I=m=0,F=null;P!==null&&I<y.length;I++){P.index>I?(F=P,P=null):F=P.sibling;var A=f(p,P,y[I],C);if(A===null){P===null&&(P=F);break}e&&P&&A.alternate===null&&t(p,P),m=s(A,m,I),_===null?R=A:_.sibling=A,_=A,P=F}if(I===y.length)return n(p,P),fe&&kn(p,I),R;if(P===null){for(;I<y.length;I++)P=d(p,y[I],C),P!==null&&(m=s(P,m,I),_===null?R=P:_.sibling=P,_=P);return fe&&kn(p,I),R}for(P=r(p,P);I<y.length;I++)F=h(P,p,I,y[I],C),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?I:F.key),m=s(F,m,I),_===null?R=F:_.sibling=F,_=F);return e&&P.forEach(function(L){return t(p,L)}),fe&&kn(p,I),R}function S(p,m,y,C){var R=jr(y);if(typeof R!="function")throw Error(M(150));if(y=R.call(y),y==null)throw Error(M(151));for(var _=R=null,P=m,I=m=0,F=null,A=y.next();P!==null&&!A.done;I++,A=y.next()){P.index>I?(F=P,P=null):F=P.sibling;var L=f(p,P,A.value,C);if(L===null){P===null&&(P=F);break}e&&P&&L.alternate===null&&t(p,P),m=s(L,m,I),_===null?R=L:_.sibling=L,_=L,P=F}if(A.done)return n(p,P),fe&&kn(p,I),R;if(P===null){for(;!A.done;I++,A=y.next())A=d(p,A.value,C),A!==null&&(m=s(A,m,I),_===null?R=A:_.sibling=A,_=A);return fe&&kn(p,I),R}for(P=r(p,P);!A.done;I++,A=y.next())A=h(P,p,I,A.value,C),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?I:A.key),m=s(A,m,I),_===null?R=A:_.sibling=A,_=A);return e&&P.forEach(function(D){return t(p,D)}),fe&&kn(p,I),R}function b(p,m,y,C){if(typeof y=="object"&&y!==null&&y.type===Kn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Zi:e:{for(var R=y.key,_=m;_!==null;){if(_.key===R){if(R=y.type,R===Kn){if(_.tag===7){n(p,_.sibling),m=i(_,y.props.children),m.return=p,p=m;break e}}else if(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===en&&wd(R)===_.type){n(p,_.sibling),m=i(_,y.props),m.ref=Vr(p,_,y),m.return=p,p=m;break e}n(p,_);break}else t(p,_);_=_.sibling}y.type===Kn?(m=Pn(y.props.children,p.mode,C,y.key),m.return=p,p=m):(C=Ls(y.type,y.key,y.props,null,p.mode,C),C.ref=Vr(p,m,y),C.return=p,p=C)}return o(p);case Gn:e:{for(_=y.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=i(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=Sa(y,p.mode,C),m.return=p,p=m}return o(p);case en:return _=y._init,b(p,m,_(y._payload),C)}if(Gr(y))return w(p,m,y,C);if(jr(y))return S(p,m,y,C);cs(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,y),m.return=p,p=m):(n(p,m),m=wa(y,p.mode,C),m.return=p,p=m),o(p)):n(p,m)}return b}var vr=Pp(!0),Ap=Pp(!1),eo=Sn(null),to=null,ir=null,vu=null;function xu(){vu=ir=to=null}function _u(e){var t=eo.current;ue(eo),e._currentValue=t}function gl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function dr(e,t){to=e,vu=ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(vu!==e)if(e={context:e,memoizedValue:t,next:null},ir===null){if(to===null)throw Error(M(308));ir=e,to.dependencies={lanes:0,firstContext:e}}else ir=ir.next=e;return t}var bn=null;function ku(e){bn===null?bn=[e]:bn.push(e)}function Mp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ku(t)):(n.next=i.next,i.next=n),t.interleaved=n,qt(e,r)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tn=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Np(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qt(e,n)}return i=r.interleaved,i===null?(t.next=t,ku(r)):(t.next=i.next,i.next=t),r.interleaved=t,qt(e,n)}function Is(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uu(e,n)}}function Sd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function no(e,t,n,r){var i=e.updateQueue;tn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,S=a;switch(f=t,h=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){d=w.call(h,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,f=typeof w=="function"?w.call(h,d,f):w,f==null)break e;d=ge({},d,f);break e;case 2:tn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);On|=o,e.lanes=o,e.memoizedState=d}}function vd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var Wi={},Mt=Sn(Wi),Ti=Sn(Wi),bi=Sn(Wi);function In(e){if(e===Wi)throw Error(M(174));return e}function Cu(e,t){switch(se(bi,t),se(Ti,e),se(Mt,Wi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ka(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ka(t,e)}ue(Mt),se(Mt,t)}function xr(){ue(Mt),ue(Ti),ue(bi)}function Lp(e){In(bi.current);var t=In(Mt.current),n=Ka(t,e.type);t!==n&&(se(Ti,e),se(Mt,n))}function Tu(e){Ti.current===e&&(ue(Mt),ue(Ti))}var pe=Sn(0);function ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=[];function bu(){for(var e=0;e<fa.length;e++)fa[e]._workInProgressVersionPrimary=null;fa.length=0}var Rs=Gt.ReactCurrentDispatcher,ha=Gt.ReactCurrentBatchConfig,Ln=0,me=null,ke=null,Ce=null,io=!1,ri=!1,Ii=0,XS=0;function Ae(){throw Error(M(321))}function Iu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Ru(e,t,n,r,i,s){if(Ln=s,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rs.current=e===null||e.memoizedState===null?nv:rv,e=n(r,i),ri){s=0;do{if(ri=!1,Ii=0,25<=s)throw Error(M(301));s+=1,Ce=ke=null,t.updateQueue=null,Rs.current=iv,e=n(r,i)}while(ri)}if(Rs.current=so,t=ke!==null&&ke.next!==null,Ln=0,Ce=ke=me=null,io=!1,t)throw Error(M(300));return e}function Pu(){var e=Ii!==0;return Ii=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?me.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function dt(){if(ke===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Ce===null?me.memoizedState:Ce.next;if(t!==null)Ce=t,ke=e;else{if(e===null)throw Error(M(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ce===null?me.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Ri(e,t){return typeof t=="function"?t(e):t}function pa(e){var t=dt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=ke,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ln&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,me.lanes|=c,On|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,xt(r,t.memoizedState)||($e=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,me.lanes|=s,On|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ma(e){var t=dt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);xt(s,t.memoizedState)||($e=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Op(){}function zp(e,t){var n=me,r=dt(),i=t(),s=!xt(r.memoizedState,i);if(s&&(r.memoizedState=i,$e=!0),r=r.queue,Au(Fp.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Pi(9,jp.bind(null,n,r,i,t),void 0,null),Te===null)throw Error(M(349));Ln&30||Dp(n,t,i)}return i}function Dp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jp(e,t,n,r){t.value=n,t.getSnapshot=r,Bp(t)&&Up(e)}function Fp(e,t,n){return n(function(){Bp(t)&&Up(e)})}function Bp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function Up(e){var t=qt(e,1);t!==null&&vt(t,e,1,-1)}function xd(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},t.queue=e,e=e.dispatch=tv.bind(null,me,e),[t.memoizedState,e]}function Pi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hp(){return dt().memoizedState}function Ps(e,t,n,r){var i=Tt();me.flags|=e,i.memoizedState=Pi(1|t,n,void 0,r===void 0?null:r)}function Io(e,t,n,r){var i=dt();r=r===void 0?null:r;var s=void 0;if(ke!==null){var o=ke.memoizedState;if(s=o.destroy,r!==null&&Iu(r,o.deps)){i.memoizedState=Pi(t,n,s,r);return}}me.flags|=e,i.memoizedState=Pi(1|t,n,s,r)}function _d(e,t){return Ps(8390656,8,e,t)}function Au(e,t){return Io(2048,8,e,t)}function Vp(e,t){return Io(4,2,e,t)}function $p(e,t){return Io(4,4,e,t)}function Wp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qp(e,t,n){return n=n!=null?n.concat([e]):null,Io(4,4,Wp.bind(null,t,e),n)}function Mu(){}function Qp(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Iu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yp(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Iu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gp(e,t,n){return Ln&21?(xt(n,t)||(n=ep(),me.lanes|=n,On|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function ZS(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{Z=n,ha.transition=r}}function Kp(){return dt().memoizedState}function ev(e,t,n){var r=pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jp(e))Xp(t,n);else if(n=Mp(e,t,n,r),n!==null){var i=Fe();vt(n,e,r,i),Zp(n,t,r)}}function tv(e,t,n){var r=pn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jp(e))Xp(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xt(a,o)){var l=t.interleaved;l===null?(i.next=i,ku(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Mp(e,t,i,r),n!==null&&(i=Fe(),vt(n,e,r,i),Zp(n,t,r))}}function Jp(e){var t=e.alternate;return e===me||t!==null&&t===me}function Xp(e,t){ri=io=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uu(e,n)}}var so={readContext:ct,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},nv={readContext:ct,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:_d,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ps(4194308,4,Wp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ev.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:xd,useDebugValue:Mu,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=xd(!1),t=e[0];return e=ZS.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,i=Tt();if(fe){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Te===null)throw Error(M(349));Ln&30||Dp(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,_d(Fp.bind(null,r,s,e),[e]),r.flags|=2048,Pi(9,jp.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Tt(),t=Te.identifierPrefix;if(fe){var n=Ht,r=Ut;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ii++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=XS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rv={readContext:ct,useCallback:Qp,useContext:ct,useEffect:Au,useImperativeHandle:qp,useInsertionEffect:Vp,useLayoutEffect:$p,useMemo:Yp,useReducer:pa,useRef:Hp,useState:function(){return pa(Ri)},useDebugValue:Mu,useDeferredValue:function(e){var t=dt();return Gp(t,ke.memoizedState,e)},useTransition:function(){var e=pa(Ri)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Op,useSyncExternalStore:zp,useId:Kp,unstable_isNewReconciler:!1},iv={readContext:ct,useCallback:Qp,useContext:ct,useEffect:Au,useImperativeHandle:qp,useInsertionEffect:Vp,useLayoutEffect:$p,useMemo:Yp,useReducer:ma,useRef:Hp,useState:function(){return ma(Ri)},useDebugValue:Mu,useDeferredValue:function(e){var t=dt();return ke===null?t.memoizedState=e:Gp(t,ke.memoizedState,e)},useTransition:function(){var e=ma(Ri)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Op,useSyncExternalStore:zp,useId:Kp,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ro={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),i=pn(e),s=Vt(r,i);s.payload=t,n!=null&&(s.callback=n),t=fn(e,s,i),t!==null&&(vt(t,e,i,r),Is(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),i=pn(e),s=Vt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=fn(e,s,i),t!==null&&(vt(t,e,i,r),Is(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=pn(e),i=Vt(n,r);i.tag=2,t!=null&&(i.callback=t),t=fn(e,i,r),t!==null&&(vt(t,e,r,n),Is(t,e,r))}};function kd(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!_i(n,r)||!_i(i,s):!0}function em(e,t,n){var r=!1,i=yn,s=t.contextType;return typeof s=="object"&&s!==null?s=ct(s):(i=qe(t)?Mn:Le.current,r=t.contextTypes,s=(r=r!=null)?wr(e,i):yn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ro,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ed(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function wl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Eu(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ct(s):(s=qe(t)?Mn:Le.current,i.context=wr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(yl(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ro.enqueueReplaceState(i,i.state,null),no(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _r(e,t){try{var n="",r=t;do n+=Mw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ga(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sv=typeof WeakMap=="function"?WeakMap:Map;function tm(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ao||(ao=!0,Rl=r),Sl(e,t)},n}function nm(e,t,n){n=Vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Sl(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sl(e,t),typeof r!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Cd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sv;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sv.bind(null,e,t,n),t.then(e,e))}function Td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,fn(n,t,1))),n.lanes|=1),e)}var ov=Gt.ReactCurrentOwner,$e=!1;function De(e,t,n,r){t.child=e===null?Ap(t,null,n,r):vr(t,e.child,n,r)}function Id(e,t,n,r,i){n=n.render;var s=t.ref;return dr(t,i),r=Ru(e,t,n,r,s,i),n=Pu(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qt(e,t,i)):(fe&&n&&yu(t),t.flags|=1,De(e,t,r,i),t.child)}function Rd(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Bu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,rm(e,t,s,r,i)):(e=Ls(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_i,n(o,r)&&e.ref===t.ref)return Qt(e,t,i)}return t.flags|=1,e=mn(s,r),e.ref=t.ref,e.return=t,t.child=e}function rm(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(_i(s,r)&&e.ref===t.ref)if($e=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,Qt(e,t,i)}return vl(e,t,n,r,i)}function im(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(or,Xe),Xe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(or,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,se(or,Xe),Xe|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,se(or,Xe),Xe|=r;return De(e,t,i,n),t.child}function sm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vl(e,t,n,r,i){var s=qe(n)?Mn:Le.current;return s=wr(t,s),dr(t,i),n=Ru(e,t,n,r,s,i),r=Pu(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qt(e,t,i)):(fe&&r&&yu(t),t.flags|=1,De(e,t,n,i),t.child)}function Pd(e,t,n,r,i){if(qe(n)){var s=!0;Js(t)}else s=!1;if(dr(t,i),t.stateNode===null)As(e,t),em(t,n,r),wl(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=qe(n)?Mn:Le.current,u=wr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ed(t,o,r,u),tn=!1;var f=t.memoizedState;o.state=f,no(t,r,o,i),l=t.memoizedState,a!==r||f!==l||We.current||tn?(typeof c=="function"&&(yl(t,n,c,r),l=t.memoizedState),(a=tn||kd(t,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Np(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:mt(t.type,a),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ct(l):(l=qe(n)?Mn:Le.current,l=wr(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Ed(t,o,r,l),tn=!1,f=t.memoizedState,o.state=f,no(t,r,o,i);var w=t.memoizedState;a!==d||f!==w||We.current||tn?(typeof h=="function"&&(yl(t,n,h,r),w=t.memoizedState),(u=tn||kd(t,n,u,r,f,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return xl(e,t,n,r,s,i)}function xl(e,t,n,r,i,s){sm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&md(t,n,!1),Qt(e,t,s);r=t.stateNode,ov.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=vr(t,e.child,null,s),t.child=vr(t,null,a,s)):De(e,t,a,s),t.memoizedState=r.state,i&&md(t,n,!0),t.child}function om(e){var t=e.stateNode;t.pendingContext?pd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pd(e,t.context,!1),Cu(e,t.containerInfo)}function Ad(e,t,n,r,i){return Sr(),Su(i),t.flags|=256,De(e,t,n,r),t.child}var _l={dehydrated:null,treeContext:null,retryLane:0};function kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function am(e,t,n){var r=t.pendingProps,i=pe.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),se(pe,i&1),e===null)return ml(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mo(o,r,0,null),e=Pn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=kl(n),t.memoizedState=_l,e):Nu(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return av(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=mn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=mn(a,s):(s=Pn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?kl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=_l,r}return s=e.child,e=s.sibling,r=mn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Nu(e,t){return t=Mo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,r){return r!==null&&Su(r),vr(t,e.child,null,n),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function av(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ga(Error(M(422))),ds(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mo({mode:"visible",children:r.children},i,0,null),s=Pn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&vr(t,e.child,null,o),t.child.memoizedState=kl(o),t.memoizedState=_l,s);if(!(t.mode&1))return ds(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(M(419)),r=ga(s,r,void 0),ds(e,t,o,r)}if(a=(o&e.childLanes)!==0,$e||a){if(r=Te,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qt(e,i),vt(r,e,i,-1))}return Fu(),r=ga(Error(M(421))),ds(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=vv.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ze=dn(i.nextSibling),tt=t,fe=!0,yt=null,e!==null&&(st[ot++]=Ut,st[ot++]=Ht,st[ot++]=Nn,Ut=e.id,Ht=e.overflow,Nn=t),t=Nu(t,r.children),t.flags|=4096,t)}function Md(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gl(e.return,t,n)}function ya(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lm(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(De(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Md(e,n,t);else if(e.tag===19)Md(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(pe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ro(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ya(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ro(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ya(t,!0,n,null,s);break;case"together":ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function As(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lv(e,t,n){switch(t.tag){case 3:om(t),Sr();break;case 5:Lp(t);break;case 1:qe(t.type)&&Js(t);break;case 4:Cu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;se(eo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?am(e,t,n):(se(pe,pe.current&1),e=Qt(e,t,n),e!==null?e.sibling:null);se(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,im(e,t,n)}return Qt(e,t,n)}var um,El,cm,dm;um=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};El=function(){};cm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,In(Mt.current);var s=null;switch(n){case"input":i=qa(e,i),r=qa(e,r),s=[];break;case"select":i=ge({},i,{value:void 0}),r=ge({},r,{value:void 0}),s=[];break;case"textarea":i=Ga(e,i),r=Ga(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gs)}Ja(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&le("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};dm=function(e,t,n,r){n!==r&&(t.flags|=4)};function $r(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uv(e,t,n){var r=t.pendingProps;switch(wu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return qe(t.type)&&Ks(),Me(t),null;case 3:return r=t.stateNode,xr(),ue(We),ue(Le),bu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(Ml(yt),yt=null))),El(e,t),Me(t),null;case 5:Tu(t);var i=In(bi.current);if(n=t.type,e!==null&&t.stateNode!=null)cm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Me(t),null}if(e=In(Mt.current),us(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[It]=t,r[Ci]=s,e=(t.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(i=0;i<Jr.length;i++)le(Jr[i],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":Uc(r,s),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},le("invalid",r);break;case"textarea":Vc(r,s),le("invalid",r)}Ja(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ls(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ls(r.textContent,a,e),i=["children",""+a]):mi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&le("scroll",r)}switch(n){case"input":es(r),Hc(r,s,!0);break;case"textarea":es(r),$c(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gs)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[It]=t,e[Ci]=r,um(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xa(n,r),n){case"dialog":le("cancel",e),le("close",e),i=r;break;case"iframe":case"object":case"embed":le("load",e),i=r;break;case"video":case"audio":for(i=0;i<Jr.length;i++)le(Jr[i],e);i=r;break;case"source":le("error",e),i=r;break;case"img":case"image":case"link":le("error",e),le("load",e),i=r;break;case"details":le("toggle",e),i=r;break;case"input":Uc(e,r),i=qa(e,r),le("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ge({},r,{value:void 0}),le("invalid",e);break;case"textarea":Vc(e,r),i=Ga(e,r),le("invalid",e);break;default:i=r}Ja(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Hh(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bh(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gi(e,l):typeof l=="number"&&gi(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mi.hasOwnProperty(s)?l!=null&&s==="onScroll"&&le("scroll",e):l!=null&&ru(e,s,l,o))}switch(n){case"input":es(e),Hc(e,r,!1);break;case"textarea":es(e),$c(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ar(e,!!r.multiple,s,!1):r.defaultValue!=null&&ar(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Gs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)dm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=In(bi.current),In(Mt.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(s=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:ls(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ls(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return Me(t),null;case 13:if(ue(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&Ze!==null&&t.mode&1&&!(t.flags&128))Rp(),Sr(),t.flags|=98560,s=!1;else if(s=us(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[It]=t}else Sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),s=!1}else yt!==null&&(Ml(yt),yt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ee===0&&(Ee=3):Fu())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return xr(),El(e,t),e===null&&ki(t.stateNode.containerInfo),Me(t),null;case 10:return _u(t.type._context),Me(t),null;case 17:return qe(t.type)&&Ks(),Me(t),null;case 19:if(ue(pe),s=t.memoizedState,s===null)return Me(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)$r(s,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ro(e),o!==null){for(t.flags|=128,$r(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(pe,pe.current&1|2),t.child}e=e.sibling}s.tail!==null&&we()>kr&&(t.flags|=128,r=!0,$r(s,!1),t.lanes=4194304)}else{if(!r)if(e=ro(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$r(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!fe)return Me(t),null}else 2*we()-s.renderingStartTime>kr&&n!==1073741824&&(t.flags|=128,r=!0,$r(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=we(),t.sibling=null,n=pe.current,se(pe,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return ju(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function cv(e,t){switch(wu(t),t.tag){case 1:return qe(t.type)&&Ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xr(),ue(We),ue(Le),bu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tu(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return xr(),null;case 10:return _u(t.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}var fs=!1,Ne=!1,dv=typeof WeakSet=="function"?WeakSet:Set,j=null;function sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Cl(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Nd=!1;function fv(e,t){if(ll=qs,e=gp(),gu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ul={focusedElem:e,selectionRange:n},qs=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,b=w.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?S:mt(t.type,S),b);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(C){ye(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return w=Nd,Nd=!1,w}function ii(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cl(t,n,s)}i=i.next}while(i!==r)}}function Po(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fm(e){var t=e.alternate;t!==null&&(e.alternate=null,fm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Ci],delete t[fl],delete t[YS],delete t[GS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hm(e){return e.tag===5||e.tag===3||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gs));else if(r!==4&&(e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}function Il(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Il(e,t,n),e=e.sibling;e!==null;)Il(e,t,n),e=e.sibling}var be=null,gt=!1;function Xt(e,t,n){for(n=n.child;n!==null;)pm(e,t,n),n=n.sibling}function pm(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(_o,n)}catch{}switch(n.tag){case 5:Ne||sr(n,t);case 6:var r=be,i=gt;be=null,Xt(e,t,n),be=r,gt=i,be!==null&&(gt?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(gt?(e=be,n=n.stateNode,e.nodeType===8?ca(e.parentNode,n):e.nodeType===1&&ca(e,n),vi(e)):ca(be,n.stateNode));break;case 4:r=be,i=gt,be=n.stateNode.containerInfo,gt=!0,Xt(e,t,n),be=r,gt=i;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cl(n,t,o),i=i.next}while(i!==r)}Xt(e,t,n);break;case 1:if(!Ne&&(sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,t,a)}Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,Xt(e,t,n),Ne=r):Xt(e,t,n);break;default:Xt(e,t,n)}}function Od(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dv),t.forEach(function(r){var i=xv.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,gt=!1;break e;case 3:be=a.stateNode.containerInfo,gt=!0;break e;case 4:be=a.stateNode.containerInfo,gt=!0;break e}a=a.return}if(be===null)throw Error(M(160));pm(s,o,i),be=null,gt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ye(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mm(t,e),t=t.sibling}function mm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pt(t,e),Ct(e),r&4){try{ii(3,e,e.return),Po(3,e)}catch(S){ye(e,e.return,S)}try{ii(5,e,e.return)}catch(S){ye(e,e.return,S)}}break;case 1:pt(t,e),Ct(e),r&512&&n!==null&&sr(n,n.return);break;case 5:if(pt(t,e),Ct(e),r&512&&n!==null&&sr(n,n.return),e.flags&32){var i=e.stateNode;try{gi(i,"")}catch(S){ye(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Dh(i,s),Xa(a,o);var u=Xa(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Hh(i,d):c==="dangerouslySetInnerHTML"?Bh(i,d):c==="children"?gi(i,d):ru(i,c,d,u)}switch(a){case"input":Qa(i,s);break;case"textarea":jh(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ar(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?ar(i,!!s.multiple,s.defaultValue,!0):ar(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ci]=s}catch(S){ye(e,e.return,S)}}break;case 6:if(pt(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(M(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){ye(e,e.return,S)}}break;case 3:if(pt(t,e),Ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(t.containerInfo)}catch(S){ye(e,e.return,S)}break;case 4:pt(t,e),Ct(e);break;case 13:pt(t,e),Ct(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zu=we())),r&4&&Od(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||c,pt(t,e),Ne=u):pt(t,e),Ct(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(j=e,c=e.child;c!==null;){for(d=j=c;j!==null;){switch(f=j,h=f.child,f.tag){case 0:case 11:case 14:case 15:ii(4,f,f.return);break;case 1:sr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){ye(r,n,S)}}break;case 5:sr(f,f.return);break;case 22:if(f.memoizedState!==null){Dd(d);continue}}h!==null?(h.return=f,j=h):Dd(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uh("display",o))}catch(S){ye(e,e.return,S)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){ye(e,e.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pt(t,e),Ct(e),r&4&&Od(e);break;case 21:break;default:pt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hm(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gi(i,""),r.flags&=-33);var s=Ld(e);Il(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ld(e);bl(e,a,o);break;default:throw Error(M(161))}}catch(l){ye(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hv(e,t,n){j=e,gm(e)}function gm(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fs;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ne;a=fs;var u=Ne;if(fs=o,(Ne=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?jd(i):l!==null?(l.return=o,j=l):jd(i);for(;s!==null;)j=s,gm(s),s=s.sibling;j=i,fs=a,Ne=u}zd(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):zd(e)}}function zd(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Po(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&vd(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&vi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ne||t.flags&512&&Tl(t)}catch(f){ye(t,t.return,f)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function Dd(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function jd(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Po(4,t)}catch(l){ye(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ye(t,i,l)}}var s=t.return;try{Tl(t)}catch(l){ye(t,s,l)}break;case 5:var o=t.return;try{Tl(t)}catch(l){ye(t,o,l)}}}catch(l){ye(t,t.return,l)}if(t===e){j=null;break}var a=t.sibling;if(a!==null){a.return=t.return,j=a;break}j=t.return}}var pv=Math.ceil,oo=Gt.ReactCurrentDispatcher,Lu=Gt.ReactCurrentOwner,ut=Gt.ReactCurrentBatchConfig,K=0,Te=null,xe=null,Ie=0,Xe=0,or=Sn(0),Ee=0,Ai=null,On=0,Ao=0,Ou=0,si=null,Ve=null,zu=0,kr=1/0,jt=null,ao=!1,Rl=null,hn=null,hs=!1,on=null,lo=0,oi=0,Pl=null,Ms=-1,Ns=0;function Fe(){return K&6?we():Ms!==-1?Ms:Ms=we()}function pn(e){return e.mode&1?K&2&&Ie!==0?Ie&-Ie:JS.transition!==null?(Ns===0&&(Ns=ep()),Ns):(e=Z,e!==0||(e=window.event,e=e===void 0?16:ap(e.type)),e):1}function vt(e,t,n,r){if(50<oi)throw oi=0,Pl=null,Error(M(185));Hi(e,n,r),(!(K&2)||e!==Te)&&(e===Te&&(!(K&2)&&(Ao|=n),Ee===4&&rn(e,Ie)),Qe(e,r),n===1&&K===0&&!(t.mode&1)&&(kr=we()+500,bo&&vn()))}function Qe(e,t){var n=e.callbackNode;Jw(e,t);var r=Ws(e,e===Te?Ie:0);if(r===0)n!==null&&Qc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qc(n),t===1)e.tag===0?KS(Fd.bind(null,e)):Tp(Fd.bind(null,e)),qS(function(){!(K&6)&&vn()}),n=null;else{switch(tp(r)){case 1:n=lu;break;case 4:n=Xh;break;case 16:n=$s;break;case 536870912:n=Zh;break;default:n=$s}n=Em(n,ym.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ym(e,t){if(Ms=-1,Ns=0,K&6)throw Error(M(327));var n=e.callbackNode;if(fr()&&e.callbackNode!==n)return null;var r=Ws(e,e===Te?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uo(e,r);else{t=r;var i=K;K|=2;var s=Sm();(Te!==e||Ie!==t)&&(jt=null,kr=we()+500,Rn(e,t));do try{yv();break}catch(a){wm(e,a)}while(!0);xu(),oo.current=s,K=i,xe!==null?t=0:(Te=null,Ie=0,t=Ee)}if(t!==0){if(t===2&&(i=rl(e),i!==0&&(r=i,t=Al(e,i))),t===1)throw n=Ai,Rn(e,0),rn(e,r),Qe(e,we()),n;if(t===6)rn(e,r);else{if(i=e.current.alternate,!(r&30)&&!mv(i)&&(t=uo(e,r),t===2&&(s=rl(e),s!==0&&(r=s,t=Al(e,s))),t===1))throw n=Ai,Rn(e,0),rn(e,r),Qe(e,we()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:En(e,Ve,jt);break;case 3:if(rn(e,r),(r&130023424)===r&&(t=zu+500-we(),10<t)){if(Ws(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dl(En.bind(null,e,Ve,jt),t);break}En(e,Ve,jt);break;case 4:if(rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-St(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pv(r/1960))-r,10<r){e.timeoutHandle=dl(En.bind(null,e,Ve,jt),r);break}En(e,Ve,jt);break;case 5:En(e,Ve,jt);break;default:throw Error(M(329))}}}return Qe(e,we()),e.callbackNode===n?ym.bind(null,e):null}function Al(e,t){var n=si;return e.current.memoizedState.isDehydrated&&(Rn(e,t).flags|=256),e=uo(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&Ml(t)),e}function Ml(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function mv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~Ou,t&=~Ao,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function Fd(e){if(K&6)throw Error(M(327));fr();var t=Ws(e,0);if(!(t&1))return Qe(e,we()),null;var n=uo(e,t);if(e.tag!==0&&n===2){var r=rl(e);r!==0&&(t=r,n=Al(e,r))}if(n===1)throw n=Ai,Rn(e,0),rn(e,t),Qe(e,we()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,En(e,Ve,jt),Qe(e,we()),null}function Du(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(kr=we()+500,bo&&vn())}}function zn(e){on!==null&&on.tag===0&&!(K&6)&&fr();var t=K;K|=1;var n=ut.transition,r=Z;try{if(ut.transition=null,Z=1,e)return e()}finally{Z=r,ut.transition=n,K=t,!(K&6)&&vn()}}function ju(){Xe=or.current,ue(or)}function Rn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,WS(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(wu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ks();break;case 3:xr(),ue(We),ue(Le),bu();break;case 5:Tu(r);break;case 4:xr();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:_u(r.type._context);break;case 22:case 23:ju()}n=n.return}if(Te=e,xe=e=mn(e.current,null),Ie=Xe=t,Ee=0,Ai=null,Ou=Ao=On=0,Ve=si=null,bn!==null){for(t=0;t<bn.length;t++)if(n=bn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}bn=null}return e}function wm(e,t){do{var n=xe;try{if(xu(),Rs.current=so,io){for(var r=me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}io=!1}if(Ln=0,Ce=ke=me=null,ri=!1,Ii=0,Lu.current=null,n===null||n.return===null){Ee=1,Ai=t,xe=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Td(o);if(h!==null){h.flags&=-257,bd(h,o,a,s,t),h.mode&1&&Cd(s,u,t),t=h,l=u;var w=t.updateQueue;if(w===null){var S=new Set;S.add(l),t.updateQueue=S}else w.add(l);break e}else{if(!(t&1)){Cd(s,u,t),Fu();break e}l=Error(M(426))}}else if(fe&&a.mode&1){var b=Td(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),bd(b,o,a,s,t),Su(_r(l,a));break e}}s=l=_r(l,a),Ee!==4&&(Ee=2),si===null?si=[s]:si.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=tm(s,l,t);Sd(s,p);break e;case 1:a=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(hn===null||!hn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=nm(s,a,t);Sd(s,C);break e}}s=s.return}while(s!==null)}xm(n)}catch(R){t=R,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Sm(){var e=oo.current;return oo.current=so,e===null?so:e}function Fu(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Te===null||!(On&268435455)&&!(Ao&268435455)||rn(Te,Ie)}function uo(e,t){var n=K;K|=2;var r=Sm();(Te!==e||Ie!==t)&&(jt=null,Rn(e,t));do try{gv();break}catch(i){wm(e,i)}while(!0);if(xu(),K=n,oo.current=r,xe!==null)throw Error(M(261));return Te=null,Ie=0,Ee}function gv(){for(;xe!==null;)vm(xe)}function yv(){for(;xe!==null&&!Hw();)vm(xe)}function vm(e){var t=km(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?xm(e):xe=t,Lu.current=null}function xm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cv(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,xe=null;return}}else if(n=uv(n,t,Xe),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Ee===0&&(Ee=5)}function En(e,t,n){var r=Z,i=ut.transition;try{ut.transition=null,Z=1,wv(e,t,n,r)}finally{ut.transition=i,Z=r}return null}function wv(e,t,n,r){do fr();while(on!==null);if(K&6)throw Error(M(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Xw(e,s),e===Te&&(xe=Te=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hs||(hs=!0,Em($s,function(){return fr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ut.transition,ut.transition=null;var o=Z;Z=1;var a=K;K|=4,Lu.current=null,fv(e,n),mm(n,e),jS(ul),qs=!!ll,ul=ll=null,e.current=n,hv(n),Vw(),K=a,Z=o,ut.transition=s}else e.current=n;if(hs&&(hs=!1,on=e,lo=i),s=e.pendingLanes,s===0&&(hn=null),qw(n.stateNode),Qe(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ao)throw ao=!1,e=Rl,Rl=null,e;return lo&1&&e.tag!==0&&fr(),s=e.pendingLanes,s&1?e===Pl?oi++:(oi=0,Pl=e):oi=0,vn(),null}function fr(){if(on!==null){var e=tp(lo),t=ut.transition,n=Z;try{if(ut.transition=null,Z=16>e?16:e,on===null)var r=!1;else{if(e=on,on=null,lo=0,K&6)throw Error(M(331));var i=K;for(K|=4,j=e.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:ii(8,c,s)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var f=c.sibling,h=c.return;if(fm(c),c===u){j=null;break}if(f!==null){f.return=h,j=f;break}j=h}}}var w=s.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var b=S.sibling;S.sibling=null,S=b}while(S!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ii(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,j=p;break e}j=s.return}}var m=e.current;for(j=m;j!==null;){o=j;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,j=y;else e:for(o=m;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Po(9,a)}}catch(R){ye(a,a.return,R)}if(a===o){j=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,j=C;break e}j=a.return}}if(K=i,vn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(_o,e)}catch{}r=!0}return r}finally{Z=n,ut.transition=t}}return!1}function Bd(e,t,n){t=_r(n,t),t=tm(e,t,1),e=fn(e,t,1),t=Fe(),e!==null&&(Hi(e,1,t),Qe(e,t))}function ye(e,t,n){if(e.tag===3)Bd(e,e,n);else for(;t!==null;){if(t.tag===3){Bd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hn===null||!hn.has(r))){e=_r(n,e),e=nm(t,e,1),t=fn(t,e,1),e=Fe(),t!==null&&(Hi(t,1,e),Qe(t,e));break}}t=t.return}}function Sv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Ie&n)===n&&(Ee===4||Ee===3&&(Ie&130023424)===Ie&&500>we()-zu?Rn(e,0):Ou|=n),Qe(e,t)}function _m(e,t){t===0&&(e.mode&1?(t=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):t=1);var n=Fe();e=qt(e,t),e!==null&&(Hi(e,t,n),Qe(e,n))}function vv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_m(e,n)}function xv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),_m(e,n)}var km;km=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,lv(e,t,n);$e=!!(e.flags&131072)}else $e=!1,fe&&t.flags&1048576&&bp(t,Zs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;As(e,t),e=t.pendingProps;var i=wr(t,Le.current);dr(t,n),i=Ru(null,t,r,e,i,n);var s=Pu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(s=!0,Js(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Eu(t),i.updater=Ro,t.stateNode=i,i._reactInternals=t,wl(t,r,e,n),t=xl(null,t,r,!0,s,n)):(t.tag=0,fe&&s&&yu(t),De(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(As(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=kv(r),e=mt(r,e),i){case 0:t=vl(null,t,r,e,n);break e;case 1:t=Pd(null,t,r,e,n);break e;case 11:t=Id(null,t,r,e,n);break e;case 14:t=Rd(null,t,r,mt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mt(r,i),vl(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mt(r,i),Pd(e,t,r,i,n);case 3:e:{if(om(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Np(e,t),no(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=_r(Error(M(423)),t),t=Ad(e,t,r,n,i);break e}else if(r!==i){i=_r(Error(M(424)),t),t=Ad(e,t,r,n,i);break e}else for(Ze=dn(t.stateNode.containerInfo.firstChild),tt=t,fe=!0,yt=null,n=Ap(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sr(),r===i){t=Qt(e,t,n);break e}De(e,t,r,n)}t=t.child}return t;case 5:return Lp(t),e===null&&ml(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,cl(r,i)?o=null:s!==null&&cl(r,s)&&(t.flags|=32),sm(e,t),De(e,t,o,n),t.child;case 6:return e===null&&ml(t),null;case 13:return am(e,t,n);case 4:return Cu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vr(t,null,r,n):De(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mt(r,i),Id(e,t,r,i,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,se(eo,r._currentValue),r._currentValue=o,s!==null)if(xt(s.value,o)){if(s.children===i.children&&!We.current){t=Qt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gl(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gl(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}De(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,dr(t,n),i=ct(i),r=r(i),t.flags|=1,De(e,t,r,n),t.child;case 14:return r=t.type,i=mt(r,t.pendingProps),i=mt(r.type,i),Rd(e,t,r,i,n);case 15:return rm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mt(r,i),As(e,t),t.tag=1,qe(r)?(e=!0,Js(t)):e=!1,dr(t,n),em(t,r,i),wl(t,r,i,n),xl(null,t,r,!0,e,n);case 19:return lm(e,t,n);case 22:return im(e,t,n)}throw Error(M(156,t.tag))};function Em(e,t){return Jh(e,t)}function _v(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new _v(e,t,n,r)}function Bu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kv(e){if(typeof e=="function")return Bu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===su)return 11;if(e===ou)return 14}return 2}function mn(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ls(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Bu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Kn:return Pn(n.children,i,s,t);case iu:o=8,i|=8;break;case Ha:return e=lt(12,n,t,i|2),e.elementType=Ha,e.lanes=s,e;case Va:return e=lt(13,n,t,i),e.elementType=Va,e.lanes=s,e;case $a:return e=lt(19,n,t,i),e.elementType=$a,e.lanes=s,e;case Lh:return Mo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mh:o=10;break e;case Nh:o=9;break e;case su:o=11;break e;case ou:o=14;break e;case en:o=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=lt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Pn(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function Mo(e,t,n,r){return e=lt(22,e,r,t),e.elementType=Lh,e.lanes=n,e.stateNode={isHidden:!1},e}function wa(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Sa(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ev(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,s,o,a,l){return e=new Ev(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=lt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eu(s),e}function Cv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cm(e){if(!e)return yn;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(qe(n))return Cp(e,n,t)}return t}function Tm(e,t,n,r,i,s,o,a,l){return e=Uu(n,r,!0,e,i,s,o,a,l),e.context=Cm(null),n=e.current,r=Fe(),i=pn(n),s=Vt(r,i),s.callback=t??null,fn(n,s,i),e.current.lanes=i,Hi(e,i,r),Qe(e,r),e}function No(e,t,n,r){var i=t.current,s=Fe(),o=pn(i);return n=Cm(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fn(i,t,o),e!==null&&(vt(e,i,o,s),Is(e,i,o)),o}function co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ud(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hu(e,t){Ud(e,t),(e=e.alternate)&&Ud(e,t)}function Tv(){return null}var bm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vu(e){this._internalRoot=e}Lo.prototype.render=Vu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));No(e,t,null,null)};Lo.prototype.unmount=Vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zn(function(){No(null,e,null,null)}),t[Wt]=null}};function Lo(e){this._internalRoot=e}Lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ip();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nn.length&&t!==0&&t<nn[n].priority;n++);nn.splice(n,0,e),n===0&&op(e)}};function $u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hd(){}function bv(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=co(o);s.call(u)}}var o=Tm(t,r,e,0,null,!1,!1,"",Hd);return e._reactRootContainer=o,e[Wt]=o.current,ki(e.nodeType===8?e.parentNode:e),zn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=co(l);a.call(u)}}var l=Uu(e,0,!1,null,null,!1,!1,"",Hd);return e._reactRootContainer=l,e[Wt]=l.current,ki(e.nodeType===8?e.parentNode:e),zn(function(){No(t,l,n,r)}),l}function zo(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=co(o);a.call(l)}}No(t,o,e,i)}else o=bv(n,t,e,i,r);return co(o)}np=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kr(t.pendingLanes);n!==0&&(uu(t,n|1),Qe(t,we()),!(K&6)&&(kr=we()+500,vn()))}break;case 13:zn(function(){var r=qt(e,1);if(r!==null){var i=Fe();vt(r,e,1,i)}}),Hu(e,1)}};cu=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=Fe();vt(t,e,134217728,n)}Hu(e,134217728)}};rp=function(e){if(e.tag===13){var t=pn(e),n=qt(e,t);if(n!==null){var r=Fe();vt(n,e,t,r)}Hu(e,t)}};ip=function(){return Z};sp=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};el=function(e,t,n){switch(t){case"input":if(Qa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=To(r);if(!i)throw Error(M(90));zh(r),Qa(r,i)}}}break;case"textarea":jh(e,n);break;case"select":t=n.value,t!=null&&ar(e,!!n.multiple,t,!1)}};Wh=Du;qh=zn;var Iv={usingClientEntryPoint:!1,Events:[$i,er,To,Vh,$h,Du]},Wr={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rv={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gh(e),e===null?null:e.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||Tv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{_o=ps.inject(Rv),At=ps}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iv;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$u(t))throw Error(M(200));return Cv(e,t,null,n)};rt.createRoot=function(e,t){if(!$u(e))throw Error(M(299));var n=!1,r="",i=bm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,null,n,!1,r,i),e[Wt]=t.current,ki(e.nodeType===8?e.parentNode:e),new Vu(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Gh(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return zn(e)};rt.hydrate=function(e,t,n){if(!Oo(t))throw Error(M(200));return zo(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!$u(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Tm(t,null,e,1,n??null,i,!1,s,o),e[Wt]=t.current,ki(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Lo(t)};rt.render=function(e,t,n){if(!Oo(t))throw Error(M(200));return zo(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!Oo(e))throw Error(M(40));return e._reactRootContainer?(zn(function(){zo(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};rt.unstable_batchedUpdates=Du;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Oo(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return zo(e,t,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function Im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Im)}catch(e){console.error(e)}}Im(),Ih.exports=rt;var Pv=Ih.exports,Vd=Pv;Ba.createRoot=Vd.createRoot,Ba.hydrateRoot=Vd.hydrateRoot;function Av(e){const t=[];for(const n of e.commitTasks)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t,"Errors during commit")}}function Mv(e){var n;const t=[];for(const r of e.cells)if((r==null?void 0:r.type)==="effect"&&(r.deps=null,r.cleanup))try{(n=r.cleanup)==null||n.call(r)}catch(i){t.push(i)}finally{r.cleanup=void 0}if(t.length>0){if(t.length===1)throw t[0];for(const r of t)console.error(r);throw new AggregateError(t,"Errors during cleanup")}}let ai=null;function Nv(e,t){e.currentIndex=0;const n=ai;ai=e;try{if(t(),e.isFirstRender=!1,e.cells.length!==e.currentIndex)throw new Error(`Rendered ${e.currentIndex} hooks but expected ${e.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{ai=n}}function Wu(){if(!ai)throw new Error("No resource fiber available");return ai}function Lv(e){return null}function Rm(e,t){const n=e[Pm];if(!n)throw new Error("ResourceElement.type is not a valid Resource");return n(t)}const Pm=Symbol("fnSymbol");function Mi(e,t,n=Lv()){return{type:e,dispatchUpdate:t,devStrictMode:n,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function hr(e){if(!e.isMounted)throw new Error("Tried to unmount a fiber that is already unmounted");e.isMounted=!1,Mv(e)}function An(e,t){const n={commitTasks:[],props:t,output:void 0};return Nv(e,()=>{e.renderContext=n;try{n.output=Rm(e.type,t)}finally{e.renderContext=void 0}}),n}function Ni(e,t){e.isMounted=!0,e.isNeverMounted=!1,Av(t)}const Ov=()=>null,zv=(e,t)=>e+(t()?1:0);function Dv(e){const[,t]=E.useReducer(zv,0),n=Ov(),r=E.useMemo(()=>Mi(e.type,t,n),[e.type,e.key]),i=An(r,e.props);return E.useLayoutEffect(()=>()=>hr(r),[r]),E.useLayoutEffect(()=>{Ni(r,i)}),i.output}function ee(e){const t=n=>({type:t,props:n});return t[Pm]=e,t}function Yt(e,t){return{...t,key:e}}const jv=(e,t)=>{if(e.renderContext)throw new Error("Resource updated during render");if(e.isMounted)e.dispatchUpdate(t);else if(e.isNeverMounted)throw new Error("Resource updated before mount")};function Fv(e){const t=Wu(),n=t.currentIndex++;if(!t.isFirstRender&&n>=t.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");const r=t.cells[n];if(r){if(r.type!=="state")throw new Error("Hook order changed between renders");return r}const s={type:"state",value:typeof e=="function"?e():e,set:o=>{jv(t,()=>{const a=s.value,l=typeof o=="function"?o(a):o;return Object.is(a,l)?!1:(s.value=l,!0)})}};return t.cells[n]=s,s}function _t(e){const t=Fv(e);return[t.value,t.set]}const Am=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0},Bv=(e,t)=>{const n=Wu(),r=n.currentIndex++;if(!n.isFirstRender&&r>=n.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");let i=n.cells[r];if(i||(i=t(),n.cells[r]=i),i.type!==e)throw new Error("Hook order changed between renders");return i},Uv=e=>{Wu().renderContext.commitTasks.push(e)},Hv=()=>({type:"effect",cleanup:void 0,deps:null});function Pe(e,t){const n=Bv("effect",Hv);if(!(t&&n.deps&&Am(n.deps,t))){if(n.deps!==null&&!!t!=!!n.deps)throw new Error("tapEffect called with and without dependencies across re-renders");Uv(()=>{var i;const r=[];try{(i=n.cleanup)==null||i.call(n)}catch(s){r.push(s)}finally{n.cleanup=void 0}try{const s=e();if(s!==void 0&&typeof s!="function")throw new Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof s}`);n.cleanup=s}catch(s){r.push(s)}if(n.deps=t,r.length>0){if(r.length===1)throw r[0];for(const s of r)console.error(s);throw new AggregateError(r,"Errors during commit")}})}}function an(e){const[t]=_t(()=>({current:e}));return t}function Er(e,t){const[n]=_t(e);return n}const J=(e,t)=>{const n=an();return n.current||(n.current={value:e(),deps:t}),Am(n.current.deps,t)||(n.current.value=e(),n.current.deps=t),n.current.value},Mm=(e,t)=>J(()=>e,t);function qu(e){const t=an(e);return Pe(()=>{t.current=e}),t.current}function Nm(e,t){const[n,r]=_t(0),i=Er(()=>()=>r(a=>a+1)),s=J(()=>(e.key,Mi(e.type,a=>{a()&&i()})),[e.type,e.key]),o=An(s,e.props);return Pe(()=>()=>hr(s),[s]),Pe(()=>{Ni(s,o)},[s,o]),o.output}function Ot(e){return Rm(e.type,e.props)}function Qu(e,t){const[n,r]=_t(0),i=Er(()=>()=>r(l=>l+1)),s=Er(()=>new Map),o=t?Mm(e,t):e,a=J(()=>{const l=o(),u=new Set,c=[];let d=0;for(let f=0;f<l.length;f++){const h=l[f],w=h.key;if(w===void 0)throw new Error(`tapResources did not provide a key for array at index ${f}`);if(u.has(w))throw new Error(`Duplicate key ${w} in tapResources`);u.add(w);let S=s.get(w);if(S)if(S.fiber.type!==h.type){const b=Mi(h.type,m=>{m()&&i()}),p=An(b,h.props);S.next=[b,p],c.push(p.output)}else S.next=An(S.fiber,h.props),c.push(S.next.output);else{const b=Mi(h.type,m=>{m()&&i()}),p=An(b,h.props);S={fiber:b,next:p},d++,s.set(w,S),c.push(p.output)}}if(s.size>c.length-d)for(const f of s.keys())u.has(f)||(s.get(f).next="delete");return c},[o,n]);return Pe(()=>()=>{for(const l of s.keys()){const u=s.get(l).fiber;hr(u)}},[]),Pe(()=>{for(const[l,u]of s.entries())u.next==="delete"?(u.fiber.isMounted&&hr(u.fiber),s.delete(l)):Array.isArray(u.next)?(hr(u.fiber),u.fiber=u.next[0],Ni(u.fiber,u.next[1])):Ni(u.fiber,u.next)},[a]),a}const Vv=50;let Pt={schedulers:new Set([]),isScheduled:!1};class $v{constructor(t){x(this,"_task");x(this,"_isDirty",!1);this._task=t}get isDirty(){return this._isDirty}markDirty(){this._isDirty=!0,Pt.schedulers.add(this),Wv()}runTask(){this._isDirty=!1,this._task()}}const Wv=()=>{Pt.isScheduled||(Pt.isScheduled=!0,queueMicrotask(Lm))},Lm=()=>{try{const e=[];let t=0;for(const n of Pt.schedulers)if(Pt.schedulers.delete(n),!!n.isDirty){if(t++,t>Vv)throw new Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");try{n.runTask()}catch(r){e.push(r)}}if(e.length>0){if(e.length===1)throw e[0];for(const n of e)console.error(n);throw new AggregateError(e,"Errors occurred during flushSync")}}finally{Pt.schedulers.clear(),Pt.isScheduled=!1}},Om=e=>{const t=Pt;Pt={schedulers:new Set([]),isScheduled:!0};try{const n=e();return Lm(),n}finally{Pt=t}},qv=e=>{const t=Er(()=>new $v(()=>{r.current=null,l()})),n=J(()=>(e.key,Mi(e.type,u=>{u()&&t.markDirty()})),[e.type,e.key]),r=an(null);r.current=An(n,e.props);const i=an(!1),s=an(e.props),o=an(r.current.output),a=Er(()=>new Set),l=qu(()=>{i.current&&(r.current===null&&(r.current=An(n,s.current)),!t.isDirty&&(s.current=r.current.props,Ni(n,r.current),!(t.isDirty||o.current===r.current.output)&&(o.current=r.current.output,a.forEach(u=>u()))))});return Pe(()=>(i.current=!0,()=>{i.current=!1,hr(n)}),[n]),Pe(()=>{Om(l)}),J(()=>({getValue:()=>o.current,subscribe:u=>(a.add(u),()=>a.delete(u))}),[])},li=Symbol("tap.Context"),zm=e=>({[li]:e}),Dm=(e,t,n)=>{const r=e[li];e[li]=t;try{return n()}finally{e[li]=r}},jm=e=>e[li],Nl=Symbol("assistant-ui.store.clientIndex"),Qv=e=>e[Nl],Fm=zm([]),Yu=()=>jm(Fm),Yv=(e,t)=>{const n=Yu(),r=J(()=>[...n,e],[n,e]);return Dm(Fm,r,t)},Gv=new Set(["$$typeof","nodeType","then"]),Do=(e,t)=>{if(e===Symbol.toStringTag)return t;if(typeof e!="symbol"){if(e==="toJSON")return()=>t;if(!Gv.has(e))return!1}};class Gu{getOwnPropertyDescriptor(t,n){const r=this.get(t,n);if(r!==void 0)return{value:r,writable:!1,enumerable:!0,configurable:!1}}set(){return!1}setPrototypeOf(){return!1}defineProperty(){return!1}deleteProperty(){return!1}preventExtensions(){return!1}}const Bm=e=>{const t=ee(e);return n=>{const r=t(n);return n.key===void 0?r:Yt(n.key,r)}},fo=Symbol("assistant-ui.store.getValue"),Kv=e=>{const t=e[fo];if(!t)throw new Error("Client scope contains a non-client resource. Ensure your Derived get() returns a client created with tapClientResource(), not a plain resource.");return t.state},$d=new Map;function Jv(e){let t=$d.get(e);return t||(t=function(...n){if(!this||typeof this!="object")throw new Error(`Method "${String(e)}" called without proper context. This may indicate the function was called incorrectly.`);const r=this[fo];if(!r)throw new Error(`Method "${String(e)}" called on invalid client proxy. Ensure you are calling this method on a valid client instance.`);const i=r.methods[e];if(!i)throw new Error(`Method "${String(e)}" is not implemented.`);if(typeof i!="function")throw new Error(`"${String(e)}" is not a function.`);return i(...n)},$d.set(e,t)),t}class Xv extends Gu{constructor(n,r){super();x(this,"outputRef");x(this,"index");x(this,"boundFns");x(this,"cachedReceiver");this.outputRef=n,this.index=r}get(n,r,i){if(r===fo)return this.outputRef.current;if(r===Nl)return this.index;const s=Do(r,"ClientProxy");if(s!==!1)return s;const o=this.outputRef.current.methods[r];if(typeof o=="function"){this.cachedReceiver!==i&&(this.boundFns=new Map,this.cachedReceiver=i);let a=this.boundFns.get(r);return a||(a=Jv(r).bind(i),this.boundFns.set(r,a)),a}return o}ownKeys(){return Object.keys(this.outputRef.current.methods)}has(n,r){return r===fo||r===Nl?!0:r in this.outputRef.current.methods}}const Um=Bm(e=>{const t=an(null),n=Yu().length,r=J(()=>new Proxy({},new Xv(t,n)),[n]),i=Yv(r,()=>Nm(e));return t.current||(t.current=i),Pe(()=>{t.current=i}),{methods:r,state:i.state,key:e.key}}),jo=e=>Ot(Um(e)),ui=Symbol("assistant-ui.store.proxiedAssistantState"),va=e=>e==="on"||e==="subscribe"||typeof e=="symbol",Hm=e=>{class t extends Gu{get(r,i){const s=Do(i,"AssistantState");if(s!==!1)return s;const o=i;if(!va(o))return Kv(e[o]())}ownKeys(){return Object.keys(e).filter(r=>!va(r))}has(r,i){return!va(i)&&i in e}}return new Proxy({},new t)},Zv=e=>e[ui],Wd=()=>()=>{},Vm=e=>{const t=()=>{throw new Error(e)};return t.source=null,t.query=null,t};class ex extends Gu{get(t,n){if(n==="subscribe"||n==="on")return Wd;if(n===ui)return tx;const r=Do(n,"DefaultAssistantClient");return r!==!1?r:Vm("You are using a component or hook that requires an AuiProvider. Wrap your component in an <AuiProvider> component.")}ownKeys(){return["subscribe","on",ui]}has(t,n){return n==="subscribe"||n==="on"||n===ui}}const Fo=new Proxy({},new ex),tx=Hm(Fo),nx=()=>new Proxy({},{get(e,t){const n=Do(t,"AssistantClient");return n!==!1?n:Vm(`The current scope does not have a "${String(t)}" property.`)}}),$m=E.createContext(Fo),rx=()=>E.useContext($m),Un=({value:e,children:t})=>k.jsx($m.Provider,{value:e,children:t}),Nt=ee(e=>null),Ll=Symbol("assistant-ui.default-peers");function Wm(e,t){const n=e,r=n[Ll]??{};for(const i of Object.keys(t))if(i in r)throw new Error(`Default peer "${i}" is already attached to this resource`);n[Ll]={...r,...t}}function ix(e){return e[Ll]}function sx(e,t){const n={},r={};for(const[s,o]of Object.entries(e))o.type===Nt?r[s]=o:n[s]=o;const i=(s,o=new Set)=>{if(o.has(s))return[];o.add(s);const a=ix(s.type);if(!a)return[];const l=[];for(const[u,c]of Object.entries(a))if(l.push([u,c]),c.type!==Nt){const d=i(c,o);l.push(...d)}return l};for(const[s,o]of Object.entries(n)){const a=i(o);for(const[l,u]of a)l in n||l in r||t[l].source!==null||(u.type===Nt?r[l]=u:n[l]=u)}return{rootClients:n,derivedClients:r}}const qd=e=>J(()=>e,[...Object.entries(e).flat()]),ox=(e,t)=>{const{rootClients:n,derivedClients:r}=sx(e,t);return{rootClients:qd(n),derivedClients:qd(r)}},qm=e=>typeof e=="string"?{scope:e.split(".")[0],event:e}:{scope:e.scope,event:e.event},ax=ee(()=>Er(()=>{const e=new Map,t=new Set,n=new Set;return{on(r,i){const s=i;if(r==="*")return t.add(s),()=>t.delete(s);let o=e.get(r);return o||(o=new Set,e.set(r,o)),o.add(s),()=>{o.delete(s),o.size===0&&e.delete(r)}},emit(r,i,s){const o=e.get(r);!o&&t.size===0||queueMicrotask(()=>{const a=[];if(o)for(const l of o)try{l(i,s)}catch(u){a.push(u)}if(t.size>0){const l={event:r,payload:i};for(const u of t)try{u(l,s)}catch(c){a.push(c)}}if(a.length>0){if(a.length===1)throw a[0];for(const l of a)console.error(l);throw new AggregateError(a,"Errors occurred during event emission")}})},subscribe(r){return n.add(r),()=>n.delete(r)},notifySubscribers(){for(const r of n)try{r()}catch(i){console.error("NotificationManager: subscriber callback error",i)}}}})),Qm=zm(null),lx=(e,t)=>Dm(Qm,e,t),Ym=()=>{const e=jm(Qm);if(!e)throw new Error("AssistantTapContext is not available");return e},Gm=()=>Ym().clientRef,Ku=()=>{const{emit:e}=Ym(),t=Yu();return qu((n,r)=>{e(n,r,t)})},Km=e=>J(()=>e,e),ux=ee(({element:e,emit:t,clientRef:n})=>{const{methods:r,state:i}=lx({clientRef:n,emit:t},()=>jo(e));return J(()=>({state:i,methods:r}),[r,i])}),cx=ee(({element:e,notifications:t,clientRef:n,name:r})=>{const i=qv(ux({element:e,emit:t.emit,clientRef:n}));return Pe(()=>i.subscribe(t.notifySubscribers),[i,t]),J(()=>{const s=()=>i.getValue().methods;return Object.defineProperties(s,{source:{value:"root",writable:!1},query:{value:{},writable:!1},name:{value:r,configurable:!0}}),s},[i,r])}),dx=ee(()=>J(()=>({clients:[],subscribe:void 0,on:void 0}),[])),fx=ee(({clients:e,clientRef:t})=>{const n=Ot(ax());Pe(()=>t.parent.subscribe(n.notifySubscribers),[t,n]);const r=Km(Qu(()=>Object.keys(e).map(i=>Yt(i,cx({element:e[i],notifications:n,clientRef:t,name:i}))),[e,n,t]));return J(()=>({clients:r,subscribe:n.subscribe,on:function(i,s){if(!this)throw new Error("const { on } = useAui() is not supported. Use aui.on() instead.");const{scope:o,event:a}=qm(i);if(o!=="*"&&this[o].source===null)throw new Error(`Scope "${o}" is not available. Use { scope: "*", event: "${a}" } to listen globally.`);const l=n.on(a,(c,d)=>{if(o==="*"){s(c);return}const f=this[o](),h=Qv(f);f===d[h]&&s(c)});if(o!=="*"&&t.parent[o].source===null)return l;const u=t.parent.on(i,s);return()=>{l(),u()}}}),[r,n,t])}),Qd=(e,t,n)=>{if("source"in e&&"query"in e)return e;if(n.dep===e)return n.meta;const r=e.getMeta(t.current);return n.meta=r,n.dep=e,r},hx=ee(({element:e,clientRef:t,name:n})=>{const r=qu(()=>e.props);return J(()=>{const i=()=>r().get(t.current),s={};return Object.defineProperties(i,{source:{get:()=>Qd(r(),t,s).source},query:{get:()=>Qd(r(),t,s).query},name:{value:n,configurable:!0}}),i},[t,n])}),px=ee(({clients:e,clientRef:t})=>Km(Qu(()=>Object.keys(e).map(n=>Yt(n,hx({element:e[n],clientRef:t,name:n}))),[e,t]))),mx=ee(({parent:e,clients:t})=>{const{rootClients:n,derivedClients:r}=ox(t,e),i=an({parent:e,current:null}).current;Pe(()=>{i.current=a});const s=Nm(Object.keys(n).length>0?fx({clients:n,clientRef:i}):dx()),o=Ot(px({clients:r,clientRef:i})),a=J(()=>{const l=e===Fo?nx():e,u=Object.create(l);Object.assign(u,{subscribe:s.subscribe??e.subscribe,on:s.on??e.on,[ui]:Hm(u)});for(const c of s.clients)u[c.name]=c;for(const c of o)u[c.name]=c;return u},[e,s,o]);return i.current===null&&(i.current=a),a});function Se(e,{parent:t}={parent:rx()}){if(e)return Dv(mx({parent:t??Fo,clients:e}));if(t===null)throw new Error("received null parent, this usage is not allowed");return t}const ne=e=>{const t=Se(),n=Zv(t),r=E.useSyncExternalStore(t.subscribe,()=>e(n),()=>e(n));if(r===n)throw new Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return E.useDebugValue(r),r},gx=je.createContext(!0);function Yd(){throw new Error("A function wrapped in useEffectEvent can't be called during rendering.")}const yx="use"in je?()=>{try{return je.use(gx)}catch{return!1}}:()=>!1;function wx(e){const t=je.useRef(Yd);return je.useInsertionEffect(()=>{t.current=e},[e]),(...n)=>{yx()&&Yd();const r=t.current;return r(...n)}}const xa=(e,t)=>{const n=Se(),r=wx(t),{scope:i,event:s}=qm(e);E.useEffect(()=>n.on({scope:i,event:s},r),[n,i,s,r])},Sx=Bm(e=>{if(e.key===void 0)throw new Error("tapClientResource: Element has no key");return Ot(Um(e))});function Cr(e,t){const n=Qu(()=>e().map(o=>Sx(o)),t),r=J(()=>Object.keys(n),[n]),i=J(()=>n.reduce((o,a,l)=>(o[a.key]=l,o),{}),[n]);return{state:J(()=>n.map(o=>o.state),[n]),get:o=>{if("index"in o){if(o.index<0||o.index>=r.length)throw new Error(`tapClientLookup: Index ${o.index} out of bounds (length: ${r.length})`);return n[o.index].methods}const a=i[o.key];if(a===void 0)throw new Error(`tapClientLookup: Key "${o.key}" not found`);return n[a].methods}}}const vx=e=>Array.from(e).map(n=>n.getModelContext()).sort((n,r)=>(r.priority??0)-(n.priority??0)).reduce((n,r)=>{var i;if(r.system&&(n.system?n.system+=`

${r.system}`:n.system=r.system),r.tools)for(const[s,o]of Object.entries(r.tools)){const a=(i=n.tools)==null?void 0:i[s];if(a&&a!==o)throw new Error(`You tried to define a tool with the name ${s}, but it already exists.`);n.tools||(n.tools={}),n.tools[s]=o}return r.config&&(n.config={...n.config,...r.config}),r.callSettings&&(n.callSettings={...n.callSettings,...r.callSettings}),n},{});class Ju{constructor(){x(this,"_providers",new Set);x(this,"_subscribers",new Set)}getModelContext(){return vx(this._providers)}registerModelContextProvider(t){var r;this._providers.add(t);const n=(r=t.subscribe)==null?void 0:r.call(t,()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(t),n==null||n(),this.notifySubscribers()}}notifySubscribers(){for(const t of this._subscribers)t()}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}}class Xu{constructor(){x(this,"_contextProvider",new Ju)}registerModelContextProvider(t){return this._contextProvider.registerModelContextProvider(t)}getModelContextProvider(){return this._contextProvider}}class qi{constructor(){x(this,"_subscribers",new Set)}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}waitForUpdate(){return new Promise(t=>{const n=this.subscribe(()=>{n(),t()})})}_notifySubscribers(){const t=[];for(const n of this._subscribers)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t)}}}const xx=e=>e.status.type==="complete";class Jm extends qi{constructor(){super(...arguments);x(this,"isEditing",!0);x(this,"_attachments",[]);x(this,"_text","");x(this,"_role","user");x(this,"_runConfig",{});x(this,"_quote");x(this,"_dictation");x(this,"_dictationSession");x(this,"_dictationUnsubscribes",[]);x(this,"_dictationBaseText","");x(this,"_currentInterimText","");x(this,"_dictationSessionIdCounter",0);x(this,"_activeDictationSessionId");x(this,"_isCleaningDictation",!1);x(this,"_eventSubscribers",new Map)}get attachmentAccept(){var n;return((n=this.getAttachmentAdapter())==null?void 0:n.accept)??"*"}get attachments(){return this._attachments}setAttachments(n){this._attachments=n,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}get text(){return this._text}get role(){return this._role}get runConfig(){return this._runConfig}get quote(){return this._quote}setQuote(n){this._quote!==n&&(this._quote=n,this._notifySubscribers())}setText(n){if(this._text!==n){if(this._text=n,this._dictation){this._dictationBaseText=n,this._currentInterimText="";const{status:r,inputDisabled:i}=this._dictation;this._dictation=i?{status:r,inputDisabled:i}:{status:r}}this._notifySubscribers()}}setRole(n){this._role!==n&&(this._role=n,this._notifySubscribers())}setRunConfig(n){this._runConfig!==n&&(this._runConfig=n,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const n=this.getAttachmentAdapter();n&&await Promise.all(this._attachments.map(r=>n.remove(r)))}async reset(){if(this._attachments.length===0&&this._text===""&&this._role==="user"&&Object.keys(this._runConfig).length===0&&this._quote===void 0)return;this._role="user",this._runConfig={},this._quote=void 0;const n=this._onClearAttachments();this._emptyTextAndAttachments(),await n}async clearAttachments(){const n=this._onClearAttachments();this.setAttachments([]),await n}async send(){this._dictationSession&&(this._dictationSession.cancel(),this._cleanupDictation());const n=this.getAttachmentAdapter(),r=n&&this.attachments.length>0?Promise.all(this.attachments.map(async a=>xx(a)?a:await n.send(a))):[],i=this.text,s=this._quote;this._quote=void 0,this._emptyTextAndAttachments();const o={createdAt:new Date,role:this.role,content:i?[{type:"text",text:i}]:[],attachments:await r,runConfig:this.runConfig,metadata:{custom:{...s?{quote:s}:{}}}};this.handleSend(o),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const i=o=>{const a=this._attachments.findIndex(l=>l.id===o.id);a!==-1?this._attachments=[...this._attachments.slice(0,a),o,...this._attachments.slice(a+1)]:this._attachments=[...this._attachments,o],this._notifySubscribers()},s=r.add({file:n});if(Symbol.asyncIterator in s)for await(const o of s)i(o);else i(await s);this._notifyEventSubscribers("attachmentAdd"),this._notifySubscribers()}async removeAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const i=this._attachments.findIndex(o=>o.id===n);if(i===-1)throw new Error("Attachment not found");const s=this._attachments[i];await r.remove(s),this._attachments=[...this._attachments.slice(0,i),...this._attachments.slice(i+1)],this._notifySubscribers()}get dictation(){return this._dictation}_isActiveSession(n,r){return this._activeDictationSessionId===n&&this._dictationSession===r}startDictation(){const n=this.getDictationAdapter();if(!n)throw new Error("Dictation adapter not configured");if(this._dictationSession){for(const d of this._dictationUnsubscribes)d();this._dictationUnsubscribes=[],this._dictationSession.stop().catch(()=>{}),this._dictationSession=void 0}const r=n.disableInputDuringDictation??!1;this._dictationBaseText=this._text,this._currentInterimText="";const i=n.listen();this._dictationSession=i;const s=++this._dictationSessionIdCounter;this._activeDictationSessionId=s,this._dictation={status:i.status,inputDisabled:r},this._notifySubscribers();const o=i.onSpeech(c=>{if(!this._isActiveSession(s,i))return;const d=c.isFinal!==!1,h=this._dictationBaseText&&!this._dictationBaseText.endsWith(" ")&&c.transcript?" ":"";if(d){if(this._dictationBaseText=this._dictationBaseText+h+c.transcript,this._currentInterimText="",this._text=this._dictationBaseText,this._dictation){const{transcript:w,...S}=this._dictation;this._dictation=S}this._notifySubscribers()}else this._currentInterimText=h+c.transcript,this._text=this._dictationBaseText+this._currentInterimText,this._dictation&&(this._dictation={...this._dictation,transcript:c.transcript}),this._notifySubscribers()});this._dictationUnsubscribes.push(o);const a=i.onSpeechStart(()=>{var c;this._isActiveSession(s,i)&&(this._dictation={status:{type:"running"},inputDisabled:r,...((c=this._dictation)==null?void 0:c.transcript)&&{transcript:this._dictation.transcript}},this._notifySubscribers())});this._dictationUnsubscribes.push(a);const l=i.onSpeechEnd(()=>{this._cleanupDictation({sessionId:s})});this._dictationUnsubscribes.push(l);const u=setInterval(()=>{this._isActiveSession(s,i)&&i.status.type==="ended"&&this._cleanupDictation({sessionId:s})},100);this._dictationUnsubscribes.push(()=>clearInterval(u))}stopDictation(){if(!this._dictationSession)return;const n=this._dictationSession,r=this._activeDictationSessionId;n.stop().finally(()=>{this._cleanupDictation({sessionId:r})})}_cleanupDictation(n){if(!((n==null?void 0:n.sessionId)!==void 0&&n.sessionId!==this._activeDictationSessionId||this._isCleaningDictation)){this._isCleaningDictation=!0;try{for(const i of this._dictationUnsubscribes)i();this._dictationUnsubscribes=[],this._dictationSession=void 0,this._activeDictationSessionId=void 0,this._dictation=void 0,this._dictationBaseText="",this._currentInterimText="",this._notifySubscribers()}finally{this._isCleaningDictation=!1}}}_notifyEventSubscribers(n){const r=this._eventSubscribers.get(n);if(r)for(const i of r)i()}unstable_on(n,r){const i=this._eventSubscribers.get(n);return i?i.add(r):this._eventSubscribers.set(n,new Set([r])),()=>{const s=this._eventSubscribers.get(n);s&&s.delete(r)}}}class Xm extends Jm{constructor(n){super();x(this,"runtime");x(this,"_canCancel",!1);this.runtime=n,this.connect()}get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(n){var r;this.runtime.append({...n,parentId:((r=this.runtime.messages.at(-1))==null?void 0:r.id)??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}}let Zm=(e,t=21)=>(n=t)=>{let r="",i=n|0;for(;i--;)r+=e[Math.random()*e.length|0];return r};const Dn=Zm("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),_x="__optimistic__",kx=()=>`${_x}${Dn()}`,Bo=Symbol("autoStatus"),Ex=Object.freeze(Object.assign({type:"running"},{[Bo]:!0})),Cx=Object.freeze(Object.assign({type:"complete",reason:"unknown"},{[Bo]:!0})),Tx=Object.freeze(Object.assign({type:"requires-action",reason:"tool-calls"},{[Bo]:!0})),bx=Object.freeze(Object.assign({type:"requires-action",reason:"interrupt"},{[Bo]:!0})),eg=(e,t,n,r,i)=>e&&t?Ex:n?bx:r?Tx:Cx;var Pr={exports:{}};const Ix=typeof Buffer<"u",Gd=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Kd=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function tg(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),Ix&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));const r=JSON.parse(e,t);if(r===null||typeof r!="object")return r;const i=n&&n.protoAction||"error",s=n&&n.constructorAction||"error";if(i==="ignore"&&s==="ignore")return r;if(i!=="ignore"&&s!=="ignore"){if(Gd.test(e)===!1&&Kd.test(e)===!1)return r}else if(i!=="ignore"&&s==="ignore"){if(Gd.test(e)===!1)return r}else if(Kd.test(e)===!1)return r;return ng(r,{protoAction:i,constructorAction:s,safe:n&&n.safe})}function ng(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let i=[e];for(;i.length;){const s=i;i=[];for(const o of s){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(r===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"constructor")&&o.constructor!==null&&typeof o.constructor=="object"&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(const a in o){const l=o[a];l&&typeof l=="object"&&i.push(l)}}}return e}function Zu(e,t,n){const{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return tg(e,t,n)}finally{Error.stackTraceLimit=r}}function Rx(e,t){const{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return tg(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=n}}Pr.exports=Zu;Pr.exports.default=Zu;Pr.exports.parse=Zu;Pr.exports.safeParse=Rx;Pr.exports.scan=ng;var Px=Pr.exports;const Jd=Bi(Px);function Ax(e){const t=["ROOT"];let n=-1,r=null;const i=[];let s;function o(){s!==void 0&&(i.push(JSON.parse(`"${s}"`)),s=void 0)}function a(d,f,h){switch(d){case'"':{n=f,t.pop(),t.push(h),t.push("INSIDE_STRING"),o();break}case"f":case"t":case"n":{n=f,r=f,t.pop(),t.push(h),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(h),t.push("INSIDE_NUMBER"),o();break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=f,t.pop(),t.push(h),t.push("INSIDE_NUMBER"),o();break}case"{":{n=f,t.pop(),t.push(h),t.push("INSIDE_OBJECT_START"),o();break}case"[":{n=f,t.pop(),t.push(h),t.push("INSIDE_ARRAY_START"),o();break}}}function l(d,f){switch(d){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=f,t.pop(),s=i.pop();break}}}function u(d,f){switch(d){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),s=(Number(s)+1).toString();break}case"]":{n=f,t.pop(),s=i.pop();break}}}for(let d=0;d<e.length;d++){const f=e[d];switch(t[t.length-1]){case"ROOT":a(f,d,"FINISH");break;case"INSIDE_OBJECT_START":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),s="";break}case"}":{n=d,t.pop(),s=i.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),s="";break}}break}case"INSIDE_OBJECT_KEY":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}case"\\":{t.push("INSIDE_STRING_ESCAPE"),s+=f;break}default:{s+=f;break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(f){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(f,d,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{l(f,d);break}case"INSIDE_STRING":{switch(f){case'"':{t.pop(),n=d,s=i.pop();break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=d}break}case"INSIDE_ARRAY_START":{switch(f){case"]":{n=d,t.pop(),s=i.pop();break}default:{n=d,s="0",a(f,d,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(f){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),s=(Number(s)+1).toString();break}case"]":{n=d,t.pop(),s=i.pop();break}default:{n=d;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(f,d,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),t[t.length-1]==="INSIDE_STRING"?n=d:t[t.length-1]==="INSIDE_OBJECT_KEY"&&(s+=f);break}case"INSIDE_NUMBER":{switch(f){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=d;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),s=i.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(f,d),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(f,d);break}case"}":{t.pop(),s=i.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(f,d);break}case"]":{t.pop(),s=i.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(f,d);break}default:{t.pop(),s=i.pop();break}}break}case"INSIDE_LITERAL":{const w=e.substring(r,d+1);!"false".startsWith(w)&&!"true".startsWith(w)&&!"null".startsWith(w)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?l(f,d):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(f,d)):n=d;break}}}let c=e.slice(0,n+1);for(let d=t.length-1;d>=0;d--)switch(t[d]){case"INSIDE_STRING":{c+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{c+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{c+="]";break}case"INSIDE_LITERAL":{const h=e.substring(r,e.length);"true".startsWith(h)?c+="true".slice(h.length):"false".startsWith(h)?c+="false".slice(h.length):"null".startsWith(h)&&(c+="null".slice(h.length))}}return[c,i]}const _a=Symbol("aui.parse-partial-json-object.meta"),rg=e=>{if(e.length===0)return{[_a]:{state:"partial",partialPath:[]}};try{const t=Jd.parse(e);if(typeof t!="object"||t===null)throw new Error("argsText is expected to be an object");return t[_a]={state:"complete",partialPath:[]},t}catch{try{const[t,n]=Ax(e),r=Jd.parse(t);if(typeof r!="object"||r===null)throw new Error("argsText is expected to be an object");return r[_a]={state:"partial",partialPath:n},r}catch{return}}},Ol={toResponse(e,t){return new Response(Ol.toByteStream(e,t),{headers:t.headers??{}})},fromResponse(e,t){return Ol.fromByteStream(e.body,t)},toByteStream(e,t){return e.pipeThrough(t)},fromByteStream(e,t){return e.pipeThrough(t)}},ig=function(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});if(!e||!t)throw new Error("Failed to create promise");return{promise:n,resolve:e,reject:t}},Mx=()=>{const e=[];let t=!1,n,r;const i=o=>{o.promise||(o.promise=o.reader.read().then(({done:a,value:l})=>{o.promise=void 0,a?(e.splice(e.indexOf(o),1),t&&e.length===0&&n.close()):n.enqueue(l),r==null||r.resolve(),r=void 0}).catch(a=>{console.error(a),e.forEach(l=>{l.reader.cancel()}),e.length=0,n.error(a),r==null||r.reject(a),r=void 0}))};return{readable:new ReadableStream({start(o){n=o},pull(){return r=ig(),e.forEach(o=>{i(o)}),r.promise},cancel(){e.forEach(o=>{o.reader.cancel()}),e.length=0}}),isSealed(){return t},seal(){t=!0,e.length===0&&n.close()},addStream(o){if(t)throw new Error("Cannot add streams after the run callback has settled.");const a={reader:o.getReader()};e.push(a),i(a)},enqueue(o){this.addStream(new ReadableStream({start(a){a.enqueue(o),a.close()}}))}}};class Xd{constructor(t){x(this,"_controller");x(this,"_isClosed",!1);this._controller=t}append(t){return this._controller.enqueue({type:"text-delta",path:[],textDelta:t}),this}close(){this._isClosed||(this._isClosed=!0,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const sg=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new Xd(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new Xd(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),Zd=()=>{let e;return[sg({start(n){e=n}}),e]};class ef{constructor(t){x(this,"_controller");x(this,"_isClosed",!1);x(this,"_mergeTask");x(this,"_argsTextController");this._controller=t;const n=sg({start:i=>{this._argsTextController=i}});let r=!1;this._mergeTask=n.pipeTo(new WritableStream({write:i=>{switch(i.type){case"text-delta":r=!0,this._controller.enqueue(i);break;case"part-finish":r||this._controller.enqueue({type:"text-delta",textDelta:"{}",path:[]}),this._controller.enqueue({type:"tool-call-args-text-finish",path:[]});break;default:throw new Error(`Unexpected chunk type: ${i.type}`)}}}))}get argsText(){return this._argsTextController}async setResponse(t){this._argsTextController.close(),await Promise.resolve(),this._controller.enqueue({type:"result",path:[],...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1})}async close(){this._isClosed||(this._isClosed=!0,this._argsTextController.close(),await this._mergeTask,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const Nx=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new ef(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new ef(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),Lx=()=>{let e;return[Nx({start(n){e=n}}),e]};class og{constructor(){x(this,"value",-1)}up(){return++this.value}}class Ox extends TransformStream{constructor(t){super({transform(n,r){r.enqueue({...n,path:[t,...n.path]})}})}}class iI extends TransformStream{constructor(t){super({transform(n,r){const{path:[i,...s]}=n;if(t!==i)throw new Error(`Path mismatch: expected ${t}, got ${i}`);r.enqueue({...n,path:s})}})}}class zx extends TransformStream{constructor(t){const n=new og,r=new Map;super({transform(i,s){i.type==="part-start"&&i.path.length===0&&r.set(n.up(),t.up());const[o,...a]=i.path;if(o===void 0){s.enqueue(i);return}const l=r.get(o);if(l===void 0)throw new Error("Path not found");s.enqueue({...i,path:[l,...a]})}})}}class Dx extends TransformStream{constructor(t){super();const n=t(super.readable);Object.defineProperty(this,"readable",{value:n,writable:!1})}}const ag=Zm("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);class ec{constructor(t){x(this,"_state");x(this,"_parentId");this._state=t||{merger:Mx(),contentCounter:new og}}get __internal_isClosed(){return this._state.merger.isSealed()}__internal_getReadable(){return this._state.merger.readable}__internal_subscribeToClose(t){this._state.closeSubscriber=t}_addPart(t,n){this._state.append&&(this._state.append.controller.close(),this._state.append=void 0),this.enqueue({type:"part-start",part:t,path:[]}),this._state.merger.addStream(n.pipeThrough(new Ox(this._state.contentCounter.value)))}merge(t){this._state.merger.addStream(t.pipeThrough(new zx(this._state.contentCounter)))}appendText(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="text"&&(this._state.append={kind:"text",controller:this.addTextPart()}),this._state.append.controller.append(t)}appendReasoning(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="reasoning"&&(this._state.append={kind:"reasoning",controller:this.addReasoningPart()}),this._state.append.controller.append(t)}addTextPart(){const[t,n]=Zd();return this._addPart({type:"text"},t),n}addReasoningPart(){const[t,n]=Zd();return this._addPart({type:"reasoning"},t),n}addToolCallPart(t){const n=typeof t=="string"?{toolName:t}:t,r=n.toolName,i=n.toolCallId??ag(),[s,o]=Lx();return this._addPart({type:"tool-call",toolName:r,toolCallId:i,...this._parentId&&{parentId:this._parentId}},s),n.argsText!==void 0&&(o.argsText.append(n.argsText),o.argsText.close()),n.args!==void 0&&(o.argsText.append(JSON.stringify(n.args)),o.argsText.close()),n.response!==void 0&&o.setResponse(n.response),o}appendSource(t){this._addPart({...t,...this._parentId&&{parentId:this._parentId}},new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}appendFile(t){this._addPart(t,new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}enqueue(t){this._state.merger.enqueue(t),t.type==="part-start"&&t.path.length===0&&this._state.contentCounter.up()}withParentId(t){const n=new ec(this._state);return n._parentId=t,n}close(){var t,n,r,i;(n=(t=this._state.append)==null?void 0:t.controller)==null||n.close(),this._state.merger.seal(),(i=(r=this._state).closeSubscriber)==null||i.call(r)}}function jx(e){const t=new ec;return(async()=>{try{await e(t)}catch(r){throw t.__internal_isClosed||t.enqueue({type:"error",path:[],error:String(r)}),r}finally{t.__internal_isClosed||t.close()}})(),t.__internal_getReadable()}function Fx(){const{resolve:e,promise:t}=ig();let n;return[jx(i=>(n=i,n.__internal_subscribeToClose(e),t)),n]}class Bx extends TransformStream{constructor(t,n,r){const[i,s]=Fx();let o;super({start(a){var l;return o=i.pipeTo(new WritableStream({write(u){a.enqueue(u)},abort(u){a.error(u)},close(){a.terminate()}})).catch(u=>{a.error(u)}),(l=t.start)==null?void 0:l.call(t,s)},transform(a){var l;return(l=t.transform)==null?void 0:l.call(t,a,s)},async flush(){var a;await((a=t.flush)==null?void 0:a.call(t,s)),s.close(),await o}},n,r)}}const Qi=(e,t,n)=>{const{role:r,id:i,createdAt:s,attachments:o,status:a,metadata:l}=e,u={id:i??t,createdAt:s??new Date},c=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content,d=({image:f,...h})=>f.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...h,image:f}:(console.warn("Invalid image data format detected"),null);if(r!=="user"&&(o!=null&&o.length))throw new Error("attachments are only supported for user messages");if(r!=="assistant"&&a)throw new Error("status is only supported for assistant messages");if(r!=="assistant"&&(l!=null&&l.steps))throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...u,role:r,content:c.map(f=>{const h=f.type;switch(h){case"text":case"reasoning":return f.text.trim().length===0?null:f;case"file":case"source":return f;case"image":return d(f);case"data":return f;case"tool-call":{const{parentId:w,messages:S,...b}=f,p={...b,toolCallId:f.toolCallId??`tool-${Dn()}`,...w!==void 0&&{parentId:w},...S!==void 0&&{messages:S}};return f.args?{...p,args:f.args,argsText:f.argsText??JSON.stringify(f.args)}:{...p,args:rg(f.argsText??"")??{},argsText:f.argsText??""}}default:{const w=h;throw new Error(`Unsupported assistant message part type: ${w}`)}}}).filter(f=>!!f),status:a??n,metadata:{unstable_state:(l==null?void 0:l.unstable_state)??null,unstable_annotations:(l==null?void 0:l.unstable_annotations)??[],unstable_data:(l==null?void 0:l.unstable_data)??[],custom:(l==null?void 0:l.custom)??{},steps:(l==null?void 0:l.steps)??[],...(l==null?void 0:l.submittedFeedback)&&{submittedFeedback:l.submittedFeedback}}};case"user":return{...u,role:r,content:c.map(f=>{const h=f.type;switch(h){case"text":case"image":case"audio":case"file":return f;default:{const w=h;throw new Error(`Unsupported user message part type: ${w}`)}}}),attachments:o??[],metadata:{custom:(l==null?void 0:l.custom)??{}}};case"system":if(c.length!==1||c[0].type!=="text")throw new Error("System messages must have exactly one text message part.");return{...u,role:r,content:c,metadata:{custom:(l==null?void 0:l.custom)??{}}};default:{const f=r;throw new Error(`Unknown message role: ${f}`)}}},tc={fromArray:e=>{const t=e.map(n=>Qi(n,Dn(),eg(!1,!1,!1,!1)));return{messages:t.map((n,r)=>({parentId:r>0?t[r-1].id:null,message:n}))}}},Os=e=>e.next?Os(e.next):"current"in e?e:null;class Ux{constructor(t){x(this,"func");x(this,"_value",null);this.func=t}get value(){return this._value===null&&(this._value=this.func()),this._value}dirty(){this._value=null}}class lg{constructor(){x(this,"messages",new Map);x(this,"head",null);x(this,"root",{children:[],next:null});x(this,"_messages",new Ux(()=>{var n;const t=new Array((((n=this.head)==null?void 0:n.level)??-1)+1);for(let r=this.head;r;r=r.prev)t[r.level]=r.current;return t}))}updateLevels(t,n){t.level=n;for(const r of t.children){const i=this.messages.get(r);i&&this.updateLevels(i,n+1)}}performOp(t,n,r){const i=n.prev??this.root,s=t??this.root;if(!(r==="relink"&&i===s)){if(r!=="link"&&(i.children=i.children.filter(o=>o!==n.current.id),i.next===n)){const o=i.children.at(-1),a=o?this.messages.get(o):null;if(a===void 0)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");i.next=a}if(r!=="cut"){for(let a=t;a;a=a.prev)if(a.current.id===n.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");s.children=[...s.children,n.current.id],(Os(n)===this.head||s.next===null)&&(s.next=n),n.prev=t;const o=t?t.level+1:0;this.updateLevels(n,o)}}}get headId(){var t;return((t=this.head)==null?void 0:t.current.id)??null}getMessages(t){var i;if(t===void 0||t===((i=this.head)==null?void 0:i.current.id))return this._messages.value;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getMessages): Head message not found. This is likely an internal bug in assistant-ui.");const r=new Array(n.level+1);for(let s=n;s;s=s.prev)r[s.level]=s.current;return r}addOrUpdateMessage(t,n){const r=this.messages.get(n.id),i=t?this.messages.get(t):null;if(i===void 0)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(r){r.current=n,this.performOp(i,r,"relink"),this._messages.dirty();return}const s={prev:i,current:n,next:null,children:[],level:i?i.level+1:0};this.messages.set(n.id,s),this.performOp(i,s,"link"),this.head===i&&(this.head=s),this._messages.dirty()}getMessage(t){var r;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:((r=n.prev)==null?void 0:r.current.id)??null,message:n.current,index:n.level}}appendOptimisticMessage(t,n){let r;do r=kx();while(this.messages.has(r));return this.addOrUpdateMessage(t,Qi(n,r,{type:"running"})),r}deleteMessage(t,n){const r=this.messages.get(t);if(!r)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const i=n===void 0?r.prev:n===null?null:this.messages.get(n);if(i===void 0)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const s of r.children){const o=this.messages.get(s);if(!o)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(i,o,"relink")}this.performOp(null,r,"cut"),this.messages.delete(t),this.head===r&&(this.head=Os(i??this.root)),this._messages.dirty()}getBranches(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:r}=n.prev??this.root;return r}switchToBranch(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");const r=n.prev??this.root;r.next=n,this.head=Os(n),this._messages.dirty()}resetHead(t){if(t===null){this.clear();return}const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(n.children.length>0){const r=i=>{for(const s of i.children){const o=this.messages.get(s);o&&(r(o),this.messages.delete(s))}};r(n),n.children=[],n.next=null}this.head=n;for(let r=n;r;r=r.prev)r.prev&&(r.prev.next=r);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){var n,r;const t=[];for(const[,i]of this.messages)t.push({message:i.current,parentId:((n=i.prev)==null?void 0:n.current.id)??null});return{headId:((r=this.head)==null?void 0:r.current.id)??null,messages:t}}import({headId:t,messages:n}){var r;for(const{message:i,parentId:s}of n)this.addOrUpdateMessage(s,i);this.resetHead(t??((r=n.at(-1))==null?void 0:r.message.id)??null)}}class Uo{constructor(){x(this,"_subscriptions",new Set);x(this,"_connection")}get isConnected(){return!!this._connection}notifySubscribers(){for(const t of this._subscriptions)t()}_updateConnection(){var t;if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else(t=this._connection)==null||t.call(this),this._connection=void 0}subscribe(t){return this._subscriptions.add(t),this._updateConnection(),()=>{this._subscriptions.delete(t),this._updateConnection()}}}const kt=Symbol("skip-update");class nc extends Uo{constructor(n){super();x(this,"binding");x(this,"_previousStateDirty",!0);x(this,"_previousState");x(this,"getState",()=>{if(!this.isConnected||this._previousStateDirty){const n=this.binding.getState();n!==kt&&(this._previousState=n),this._previousStateDirty=!1}if(this._previousState===void 0)throw new Error("Entry not available in the store");return this._previousState});this.binding=n}get path(){return this.binding.path}_connect(){const n=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(n)}}class ms{constructor(t,n){x(this,"_core");x(this,"_threadListBinding");this._core=t,this._threadListBinding=n,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const t=this._core.getState();return this._threadListBinding.switchToThread(t.id)}rename(t){const n=this._core.getState();return this._threadListBinding.rename(n.id,t)}archive(){const t=this._core.getState();return this._threadListBinding.archive(t.id)}unarchive(){const t=this._core.getState();return this._threadListBinding.unarchive(t.id)}delete(){const t=this._core.getState();return this._threadListBinding.delete(t.id)}initialize(){const t=this._core.getState();return this._threadListBinding.initialize(t.id)}generateTitle(){const t=this._core.getState();return this._threadListBinding.generateTitle(t.id)}unstable_on(t,n){let r=this._core.getState().isMain,i=this._core.getState().id;return this.subscribe(()=>{const s=this._core.getState(),o=s.isMain,a=s.id;r===o&&i===a||(r=o,i=a,!(t==="switchedTo"&&!o)&&(t==="switchedAway"&&o||n()))})}subscribe(t){return this._core.subscribe(t)}detach(){const t=this._core.getState();this._threadListBinding.detach(t.id)}__internal_getRuntime(){return this}}function Hx(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0)return!1;for(const n of Object.keys(e)){const r=e[n],i=t[n];if(!Object.is(r,i))return!1}return!0}class wt extends Uo{constructor(n){super();x(this,"binding");x(this,"_previousState");x(this,"getState",()=>(this.isConnected||this._syncState(),this._previousState));this.binding=n;const r=n.getState();if(r===kt)throw new Error("Entry not available in the store");this._previousState=r}get path(){return this.binding.path}_syncState(){const n=this.binding.getState();return n===kt||Hx(n,this._previousState)?!1:(this._previousState=n,!0)}_connect(){const n=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(n)}}const ho=Symbol("innerMessage"),po=e=>e.content.filter(n=>n.type==="text").map(n=>n.text).join(`

`);class ug{constructor(t){x(this,"_core");this._core=t,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(t){return this._core.subscribe(t)}}class cg extends ug{constructor(n,r){super(n);x(this,"_composerApi");this._composerApi=r}remove(){const n=this._composerApi.getState();if(!n)throw new Error("Composer is not available");return n.removeAttachment(this.getState().id)}}class Vx extends cg{get source(){return"thread-composer"}}class $x extends cg{get source(){return"edit-composer"}}class Wx extends ug{get source(){return"message"}constructor(t){super(t)}remove(){throw new Error("Message attachments cannot be removed")}}class dg extends Uo{constructor(n){super();x(this,"config");this.config=n}getState(){return this.config.binding.getState()}outerSubscribe(n){return this.config.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.config.binding.getState(),i=r==null?void 0:r.unstable_on(this.config.event,n);const s=()=>{var l;const a=this.config.binding.getState();a!==r&&(r=a,i==null||i(),i=(l=this.config.binding.getState())==null?void 0:l.unstable_on(this.config.event,n))},o=this.outerSubscribe(s);return()=>{o==null||o(),i==null||i()}}}const fg=Object.freeze([]),hg=Object.freeze({}),qx=e=>Object.freeze({type:"thread",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,attachments:(e==null?void 0:e.attachments)??fg,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",runConfig:(e==null?void 0:e.runConfig)??hg,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,quote:e==null?void 0:e.quote,value:(e==null?void 0:e.text)??""}),Qx=e=>Object.freeze({type:"edit",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",attachments:(e==null?void 0:e.attachments)??fg,runConfig:(e==null?void 0:e.runConfig)??hg,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,quote:e==null?void 0:e.quote,value:(e==null?void 0:e.text)??""});class pg{constructor(t){x(this,"_core");x(this,"_eventSubscriptionSubjects",new Map);this._core=t}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.startDictation=this.startDictation.bind(this),this.stopDictation=this.stopDictation.bind(this),this.setQuote=this.setQuote.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setText(t)}setRunConfig(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRunConfig(t)}addAttachment(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");return n.addAttachment(t)}reset(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.reset()}clearAttachments(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.clearAttachments()}send(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.send()}cancel(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.cancel()}setRole(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRole(t)}startDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.startDictation()}stopDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.stopDictation()}setQuote(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setQuote(t)}subscribe(t){return this._core.subscribe(t)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new dg({event:t,binding:this._core}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}class Yx extends pg{constructor(n){const r=new nc({path:n.path,getState:()=>qx(n.getState()),subscribe:i=>n.subscribe(i)});super({path:n.path,getState:()=>n.getState(),subscribe:i=>r.subscribe(i)});x(this,"_getState");this._getState=r.getState.bind(r),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"thread"}getState(){return this._getState()}getAttachmentByIndex(n){return new Vx(new wt({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const i=this.getState().attachments[n];return i?{...i,source:"thread-composer"}:kt},subscribe:r=>this._core.subscribe(r)}),this._core)}}class Gx extends pg{constructor(n,r){const i=new nc({path:n.path,getState:()=>Qx(n.getState()),subscribe:s=>n.subscribe(s)});super({path:n.path,getState:()=>n.getState(),subscribe:s=>i.subscribe(s)});x(this,"_beginEdit");x(this,"_getState");this._beginEdit=r,this._getState=i.getState.bind(i),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"edit"}__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(n){return new $x(new wt({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const i=this.getState().attachments[n];return i?{...i,source:"edit-composer"}:kt},subscribe:r=>this._core.subscribe(r)}),this._core)}}class ci{constructor(t=null){x(this,"_state");this._state=t}get state(){return this._state}append(t){this._state=t.reduce((n,r)=>ci.apply(n,r),this._state)}static apply(t,n){const r=n.type;switch(r){case"set":return ci.updatePath(t,n.path,()=>n.value);case"append-text":return ci.updatePath(t,n.path,i=>{if(typeof i!="string")throw new Error(`Expected string at path [${n.path.join(", ")}]`);return i+n.value});default:{const i=r;throw new Error(`Invalid operation type: ${i}`)}}}static updatePath(t,n,r){if(n.length===0)return r(t);if(t??(t={}),typeof t!="object")throw new Error(`Invalid path: [${n.join(", ")}]`);const[i,...s]=n;if(Array.isArray(t)){const a=Number(i);if(Number.isNaN(a))throw new Error(`Expected array index at [${n.join(", ")}]`);if(a>t.length||a<0)throw new Error("Insert array index out of bounds");const l=[...t];return l[a]=this.updatePath(l[a],s,r),l}const o={...t};return o[i]=this.updatePath(o[i],s,r),o}}const Kx=({unstable_state:e=null}={})=>({role:"assistant",status:{type:"running"},parts:[],get content(){return this.parts},metadata:{unstable_state:e,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}),Ho=(e,t,n)=>{if(e.parts.length===0)throw new Error("No parts available to update.");if(t.path.length!==1)throw new Error("Nested paths are not supported yet.");const r=t.path[0],i=n(e.parts[r]);return{...e,parts:[...e.parts.slice(0,r),i,...e.parts.slice(r+1)],get content(){return this.parts}}},Jx=(e,t)=>{const n=t.part;if(n.type==="text"||n.type==="reasoning"){const r={type:n.type,text:"",status:{type:"running"},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="tool-call"){const r={type:"tool-call",state:"partial-call",status:{type:"running",isArgsComplete:!1},toolCallId:n.toolCallId,toolName:n.toolName,argsText:"",args:{},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="source"){const r={type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0,...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="file"){const r={type:"file",mimeType:n.mimeType,data:n.data};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else throw new Error(`Unsupported part type: ${n.type}`)},Xx=(e,t)=>Ho(e,t,n=>{if(n.type!=="tool-call")throw new Error("Last is not a tool call");return n.state!=="partial-call"?n:{...n,state:"call"}}),Zx=(e,t)=>Ho(e,t,n=>({...n,status:{type:"complete",reason:"unknown"}})),e_=(e,t)=>Ho(e,t,n=>{if(n.type==="text"||n.type==="reasoning")return{...n,text:n.text+t.textDelta};if(n.type==="tool-call"){const r=n.argsText+t.textDelta,i=rg(r)??n.args;return{...n,argsText:r,args:i}}else throw new Error("text-delta received but part is neither text nor tool-call")}),t_=(e,t)=>Ho(e,t,n=>{if(n.type==="tool-call")return{...n,state:"result",...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1,status:{type:"complete",reason:"stop"}};throw new Error("Result chunk received but part is not a tool-call")}),tf=(e,t)=>{var r,i;if(((r=e.status)==null?void 0:r.type)==="incomplete"&&((i=e.status)==null?void 0:i.reason)==="error")return e;const n=n_(t);return{...e,status:n}},n_=e=>e.finishReason==="tool-calls"?{type:"requires-action",reason:"tool-calls"}:e.finishReason==="stop"||e.finishReason==="unknown"?{type:"complete",reason:e.finishReason}:{type:"incomplete",reason:e.finishReason},r_=(e,t)=>({...e,metadata:{...e.metadata,unstable_annotations:[...e.metadata.unstable_annotations,...t.annotations]}}),i_=(e,t)=>({...e,metadata:{...e.metadata,unstable_data:[...e.metadata.unstable_data,...t.data]}}),s_=(e,t)=>({...e,metadata:{...e.metadata,steps:[...e.metadata.steps,{state:"started",messageId:t.messageId}]}}),o_=(e,t)=>{var i;const n=e.metadata.steps.slice(),r=n.length-1;return n.length>0&&((i=n[r])==null?void 0:i.state)==="started"?n[r]={...n[r],state:"finished",finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}:n.push({state:"finished",messageId:ag(),finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}),{...e,metadata:{...e.metadata,steps:n}}},a_=(e,t)=>({...e,status:{type:"incomplete",reason:"error",error:t.error}}),l_=(e,t)=>{const n=new ci(e.metadata.unstable_state);return n.append(t.operations),{...e,metadata:{...e.metadata,unstable_state:n.state}}},u_=e=>{let t=!1;return()=>{t||(t=!0,queueMicrotask(()=>{t=!1,e()}))}};class c_ extends TransformStream{constructor({initialMessage:t,throttle:n,onError:r}={}){let i=t??Kx(),s;const o=n?u_(()=>{s==null||s.enqueue(i)}):()=>{s==null||s.enqueue(i)};super({start(a){s=a},transform(a){const l=a.type;switch(l){case"part-start":i=Jx(i,a);break;case"tool-call-args-text-finish":i=Xx(i,a);break;case"part-finish":i=Zx(i,a);break;case"text-delta":i=e_(i,a);break;case"result":i=t_(i,a);break;case"message-finish":i=tf(i,a);break;case"annotations":i=r_(i,a);break;case"data":i=i_(i,a);break;case"step-start":i=s_(i,a);break;case"step-finish":i=o_(i,a);break;case"error":i=a_(i,a),r==null||r(a.error);break;case"update-state":i=l_(i,a);break;default:{const u=l;throw new Error(`Unsupported chunk type: ${u}`)}}o()},flush(a){var l,u;if(((l=i.status)==null?void 0:l.type)==="running"){const c=((u=i.parts)==null?void 0:u.some(d=>d.type==="tool-call"&&(d.state==="call"||d.state==="partial-call")&&d.result===void 0))??!1;i=tf(i,{finishReason:c?"tool-calls":"unknown"}),a.enqueue(i)}}})}}class d_ extends Dx{constructor(){super(t=>{const n=new Bx({transform(r,i){i.appendText(r)}});return t.pipeThrough(new TextDecoderStream).pipeThrough(n)})}}class di{constructor(t){x(this,"readable");this.readable=t,this.readable=t}static fromAssistantStream(t){return new di(t.pipeThrough(new c_))}async unstable_result(){let t;for await(const n of this)t=n;return t||{role:"assistant",status:{type:"complete",reason:"unknown"},parts:[],content:[],metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}}[Symbol.asyncIterator](){const t=this.readable.getReader();return{async next(){const{done:n,value:r}=await t.read();return n?{done:!0,value:void 0}:{done:!1,value:r}}}}tee(){const[t,n]=this.readable.tee();return[new di(t),new di(n)]}}const nf=Symbol.for("aui.tool-response");class mo{constructor(t){x(this,"artifact");x(this,"result");x(this,"isError");t.artifact!==void 0&&(this.artifact=t.artifact),this.result=t.result,this.isError=t.isError??!1}get[nf](){return!0}static[Symbol.hasInstance](t){return typeof t=="object"&&t!==null&&nf in t}static toResponse(t){return t instanceof mo?t:new mo({result:t===void 0?"<no result>":t})}}class rf{constructor(t,n,r){x(this,"contentBinding");x(this,"messageApi");x(this,"threadApi");this.contentBinding=t,this.messageApi=n,this.threadApi=r,this.__internal_bindMethods()}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.resumeToolCall=this.resumeToolCall.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const r=this.messageApi.getState();if(!r)throw new Error("Message is not available");const i=n.toolName,s=n.toolCallId,o=mo.toResponse(t);this.threadApi.getState().addToolResult({messageId:r.id,toolName:i,toolCallId:s,result:o.result,artifact:o.artifact,isError:o.isError})}resumeToolCall(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to resume tool call on non-tool message part");if(!this.threadApi)throw new Error("Thread API is not available");const r=n.toolCallId;this.threadApi.getState().resumeToolCall({toolCallId:r,payload:t})}subscribe(t){return this.contentBinding.subscribe(t)}}class go extends Uo{constructor(n){super();x(this,"binding");this.binding=n}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(n){return this.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.binding.getState(),i=r==null?void 0:r.subscribe(n);const s=()=>{var l;const a=this.binding.getState();a!==r&&(r=a,i==null||i(),i=(l=this.binding.getState())==null?void 0:l.subscribe(n),n())},o=this.outerSubscribe(s);return()=>{o==null||o(),i==null||i()}}}const gs=Object.freeze({type:"complete"}),f_=(e,t,n)=>{if(e.role!=="assistant")return gs;if(n.type==="tool-call")return n.result?gs:e.status;const r=t===Math.max(0,e.content.length-1);return e.status.type==="requires-action"?gs:r?e.status:gs},sf=(e,t)=>{const n=e.content[t];if(!n)return kt;const r=f_(e,t,n);return Object.freeze({...n,[ho]:n[ho],status:r})};class h_{constructor(t,n){x(this,"_core");x(this,"_threadBinding");x(this,"composer");x(this,"_getEditComposerRuntimeCore",()=>this._threadBinding.getState().getEditComposer(this._core.getState().id));this._core=t,this._threadBinding=n,this.composer=new Gx(new go({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:r=>this._threadBinding.subscribe(r)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}getState(){return this._core.getState()}reload(t={}){const n=this._getEditComposerRuntimeCore(),r=n??this._threadBinding.getState().composer,i=n??r,{runConfig:s=i.runConfig}=t,o=this._core.getState();if(o.role!=="assistant")throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:o.parentId,sourceId:o.id,runConfig:s})}speak(){const t=this._core.getState();return this._threadBinding.getState().speak(t.id)}stopSpeaking(){var r;const t=this._core.getState();if(((r=this._threadBinding.getState().speech)==null?void 0:r.messageId)===t.id)this._threadBinding.getState().stopSpeaking();else throw new Error("Message is not being spoken")}submitFeedback({type:t}){const n=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:n.id,type:t})}switchToBranch({position:t,branchId:n}){const r=this._core.getState();if(n&&t)throw new Error("May not specify both branchId and position");if(!n&&!t)throw new Error("Must specify either branchId or position");const s=this._threadBinding.getState().getBranches(r.id);let o=n;if(t==="previous"?o=s[r.branchNumber-2]:t==="next"&&(o=s[r.branchNumber]),!o)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(o)}unstable_getCopyText(){return po(this.getState())}subscribe(t){return this._core.subscribe(t)}getMessagePartByIndex(t){if(t<0)throw new Error("Message part index must be >= 0");return new rf(new wt({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.content[${t}]`,messagePartSelector:{type:"index",index:t}},getState:()=>sf(this.getState(),t),subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getMessagePartByToolCallId(t){return new rf(new wt({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(t)}]`,messagePartSelector:{type:"toolCallId",toolCallId:t}},getState:()=>{const n=this._core.getState(),r=n.content.findIndex(i=>i.type==="tool-call"&&i.toolCallId===t);return r===-1?kt:sf(n,r)},subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getAttachmentByIndex(t){return new Wx(new wt({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.attachments[${t}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:t}},getState:()=>{const n=this.getState().attachments,r=n==null?void 0:n[t];return r?{...r,source:"message"}:kt},subscribe:n=>this._core.subscribe(n)}))}}const p_=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{},...e.stream?{stream:e.stream}:{}}),m_=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{}}),g_=(e,t)=>{var n,r;return typeof t=="string"?{createdAt:new Date,parentId:((n=e.at(-1))==null?void 0:n.id)??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:t}],attachments:[],metadata:{custom:{}}}:{createdAt:t.createdAt??new Date,parentId:t.parentId??((r=e.at(-1))==null?void 0:r.id)??null,sourceId:t.sourceId??null,role:t.role??"user",content:t.content,attachments:t.attachments??[],metadata:t.metadata??{custom:{}},runConfig:t.runConfig??{},startRun:t.startRun}},y_=(e,t)=>{const n=e.messages.at(-1);return Object.freeze({threadId:t.id,metadata:t,capabilities:e.capabilities,isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:(n==null?void 0:n.role)!=="assistant"?!1:n.status.type==="running",messages:e.messages,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech})};class mg{constructor(t,n){x(this,"_threadBinding");x(this,"composer");x(this,"_eventSubscriptionSubjects",new Map);const r=new wt({path:t.path,getState:()=>y_(t.getState(),n.getState()),subscribe:i=>{const s=t.subscribe(i),o=n.subscribe(i);return()=>{s(),o()}}});this._threadBinding={path:t.path,getState:()=>t.getState(),getStateState:()=>r.getState(),outerSubscribe:i=>t.outerSubscribe(i),subscribe:i=>t.subscribe(i)},this.composer=new Yx(new go({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:i=>this._threadBinding.subscribe(i)})),this.__internal_bindMethods()}get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.importExternalState=this.importExternalState.bind(this),this.exportExternalState=this.exportExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}getState(){return this._threadBinding.getStateState()}append(t){this._threadBinding.getState().append(g_(this._threadBinding.getState().messages,t))}subscribe(t){return this._threadBinding.subscribe(t)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(t){const n=t===null||typeof t=="string"?{parentId:t}:t;return this._threadBinding.getState().startRun(m_(n))}unstable_resumeRun(t){return this._threadBinding.getState().resumeRun(p_(t))}exportExternalState(){return this._threadBinding.getState().exportExternalState()}importExternalState(t){this._threadBinding.getState().importExternalState(t)}unstable_loadExternalState(t){this._threadBinding.getState().unstable_loadExternalState(t)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(t){this._threadBinding.getState().import(t)}reset(t){this._threadBinding.getState().reset(t)}getMessageByIndex(t){if(t<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:`${this.path.ref}${this.path.ref}.messages[${t}]`,messageSelector:{type:"index",index:t}},()=>{var i;const n=this._threadBinding.getState().messages,r=n[t];if(r)return{message:r,parentId:((i=n[t-1])==null?void 0:i.id)??null,index:t}})}getMessageById(t){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(t)}]`,messageSelector:{type:"messageId",messageId:t}},()=>this._threadBinding.getState().getMessageById(t))}_getMessageRuntime(t,n){return new h_(new wt({path:t,getState:()=>{var d;const{message:r,parentId:i,index:s}=n()??{},{messages:o,speech:a}=this._threadBinding.getState();if(!r||i===void 0||s===void 0)return kt;const u=this._threadBinding.getState().getBranches(r.id),c=r.metadata.submittedFeedback;return{...r,[ho]:r[ho],index:s,isLast:((d=o.at(-1))==null?void 0:d.id)===r.id,parentId:i,branchNumber:u.indexOf(r.id)+1,branchCount:u.length,speech:(a==null?void 0:a.messageId)===r.id?a:void 0,submittedFeedback:c}},subscribe:r=>this._threadBinding.subscribe(r)}),this._threadBinding)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new dg({event:t,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}const w_=e=>({mainThreadId:e.mainThreadId,newThreadId:e.newThreadId,threadIds:e.threadIds,archivedThreadIds:e.archivedThreadIds,isLoading:e.isLoading,threadItems:e.threadItems}),ys=(e,t)=>{if(t===void 0)return kt;const n=e.getItemById(t);return n?{id:n.id,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.id===e.mainThreadId}:kt};class gg{constructor(t,n=mg){x(this,"_core");x(this,"_runtimeFactory");x(this,"_getState");x(this,"_mainThreadListItemRuntime");x(this,"main");this._core=t,this._runtimeFactory=n;const r=new nc({path:{},getState:()=>w_(t),subscribe:i=>t.subscribe(i)});this._getState=r.getState.bind(r),this._mainThreadListItemRuntime=new ms(new wt({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>ys(this._core,this._core.mainThreadId),subscribe:i=>this._core.subscribe(i)}),this._core),this.main=new n(new go({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>t.getMainThreadRuntimeCore(),subscribe:i=>t.subscribe(i)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(t){return this._core.switchToThread(t)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(t){return this._core.subscribe(t)}get mainItem(){return this._mainThreadListItemRuntime}getById(t){return new this._runtimeFactory(new go({path:{ref:`threads[threadId=${JSON.stringify(t)}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>this._core.getThreadRuntimeCore(t),subscribe:n=>this._core.subscribe(n)}),this.mainItem)}getItemByIndex(t){return new ms(new wt({path:{ref:`threadItems[${t}]`,threadSelector:{type:"index",index:t}},getState:()=>ys(this._core,this._core.threadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getArchivedItemByIndex(t){return new ms(new wt({path:{ref:`archivedThreadItems[${t}]`,threadSelector:{type:"archiveIndex",index:t}},getState:()=>ys(this._core,this._core.archivedThreadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getItemById(t){return new ms(new wt({path:{ref:`threadItems[threadId=${t}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>ys(this._core,t),subscribe:n=>this._core.subscribe(n)}),this._core)}}const S_=e=>e.startsWith("image/")?"image":e.startsWith("text/")?"document":"file";class v_{constructor(t){x(this,"cloud");x(this,"accept","*");x(this,"uploadedUrls",new Map);this.cloud=t}async*add({file:t}){const n=crypto.randomUUID(),r=S_(t.type);let i={id:n,type:r,name:t.name,contentType:t.type,file:t,status:{type:"running",reason:"uploading",progress:0}};yield i;try{const{signedUrl:s,publicUrl:o}=await this.cloud.files.generatePresignedUploadUrl({filename:t.name});await fetch(s,{method:"PUT",body:t,headers:{"Content-Type":t.type},mode:"cors"}),this.uploadedUrls.set(n,o),i={...i,status:{type:"requires-action",reason:"composer-send"}},yield i}catch{i={...i,status:{type:"incomplete",reason:"error"}},yield i}}async remove(t){this.uploadedUrls.delete(t.id)}async send(t){const n=this.uploadedUrls.get(t.id);if(!n)throw new Error("Attachment not uploaded");this.uploadedUrls.delete(t.id);let r;return t.type==="image"?r=[{type:"image",image:n,filename:t.name}]:r=[{type:"file",data:n,mimeType:t.contentType,filename:t.name}],{...t,status:{type:"complete"},content:r}}}const zl=E.createContext(null),yg=({adapters:e,children:t})=>{const n=E.useContext(zl);return k.jsx(zl.Provider,{value:{...n,...e},children:t})},x_=()=>E.useContext(zl);class __ extends Jm{constructor(n,r,{parentId:i,message:s}){super();x(this,"runtime");x(this,"endEditCallback");x(this,"_nonTextParts");x(this,"_previousText");x(this,"_parentId");x(this,"_sourceId");this.runtime=n,this.endEditCallback=r,this._parentId=i,this._sourceId=s.id,this._previousText=po(s),this.setText(this._previousText),this.setRole(s.role),this.setAttachments(s.attachments??[]),this._nonTextParts=s.content.filter(o=>o.type!=="text"),this.setRunConfig({...n.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}async handleSend(n){po(n)!==this._previousText&&this.runtime.append({...n,content:[...n.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}}class k_{constructor(t){x(this,"_contextProvider");x(this,"_subscriptions",new Set);x(this,"_isInitialized",!1);x(this,"repository",new lg);x(this,"composer",new Xm(this));x(this,"_editComposers",new Map);x(this,"_stopSpeaking");x(this,"speech");x(this,"_eventSubscribers",new Map);this._contextProvider=t}get messages(){return this.repository.getMessages()}get state(){let t;for(const n of this.messages)if(n.role==="assistant"){t=n;break}return(t==null?void 0:t.metadata.unstable_state)??null}getModelContext(){return this._contextProvider.getModelContext()}getEditComposer(t){return this._editComposers.get(t)}beginEdit(t){if(this._editComposers.has(t))throw new Error("Edit already in progress");this._editComposers.set(t,new __(this,()=>this._editComposers.delete(t),this.repository.getMessage(t))),this._notifySubscribers()}getMessageById(t){try{return this.repository.getMessage(t)}catch{return}}getBranches(t){return this.repository.getBranches(t)}switchToBranch(t){this.repository.switchToBranch(t),this._notifySubscribers()}_notifySubscribers(){for(const t of this._subscriptions)t()}_notifyEventSubscribers(t){const n=this._eventSubscribers.get(t);if(n)for(const r of n)r()}subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}submitFeedback({messageId:t,type:n}){var o;const r=(o=this.adapters)==null?void 0:o.feedback;if(!r)throw new Error("Feedback adapter not configured");const{message:i,parentId:s}=this.repository.getMessage(t);if(r.submit({message:i,type:n}),i.role==="assistant"){const a={...i,metadata:{...i.metadata,submittedFeedback:{type:n}}};this.repository.addOrUpdateMessage(s,a)}this._notifySubscribers()}speak(t){var o,a;const n=(o=this.adapters)==null?void 0:o.speech;if(!n)throw new Error("Speech adapter not configured");const{message:r}=this.repository.getMessage(t);(a=this._stopSpeaking)==null||a.call(this);const i=n.speak(po(r)),s=i.subscribe(()=>{i.status.type==="ended"?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:t,status:i.status},this._notifySubscribers()});this.speech={messageId:t,status:i.status},this._notifySubscribers(),this._stopSpeaking=()=>{i.cancel(),s(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(t){this.ensureInitialized(),this.repository.clear(),this.repository.import(t),this._notifySubscribers()}reset(t){this.import(tc.fromArray(t??[]))}unstable_on(t,n){var i,s;if(t==="modelContextUpdate")return((s=(i=this._contextProvider).subscribe)==null?void 0:s.call(i,n))??(()=>{});const r=this._eventSubscribers.get(t);return r?r.add(n):this._eventSubscribers.set(t,new Set([n])),()=>{this._eventSubscribers.get(t).delete(n)}}}class E_{list(){return Promise.resolve({threads:[]})}rename(){return Promise.resolve()}archive(){return Promise.resolve()}unarchive(){return Promise.resolve()}delete(){return Promise.resolve()}initialize(t){return Promise.resolve({remoteId:t,externalId:void 0})}generateTitle(){return Promise.resolve(new ReadableStream)}fetch(t){return Promise.reject(new Error("Thread not found"))}}const of=(e,t)=>{var n,r;return t===void 0?((n=e.status)==null?void 0:n.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(i=>i.type!=="tool-call"||!!i.result):((r=e.status)==null?void 0:r.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(i=>i.type!=="tool-call"||!!i.result||!t.includes(i.toolName))};class ka extends Error{constructor(n,r){super(r);x(this,"name","AbortError");x(this,"detach");this.detach=n}}class C_ extends k_{constructor(n,r){super(n);x(this,"capabilities",{switchToBranch:!0,switchBranchDuringRun:!0,edit:!0,reload:!0,cancel:!0,unstable_copy:!0,speech:!1,dictation:!1,attachments:!1,feedback:!1});x(this,"abortController",null);x(this,"isDisabled",!1);x(this,"_isLoading",!1);x(this,"_suggestions",[]);x(this,"_suggestionsController",null);x(this,"_options");x(this,"_lastRunConfig",{});x(this,"_getThreadId");x(this,"_getInitializePromise");x(this,"_loadPromise");this.__internal_setOptions(r)}get isLoading(){return this._isLoading}get suggestions(){return this._suggestions}get adapters(){return this._options.adapters}__internal_setGetThreadId(n){this._getThreadId=n}__internal_setGetInitializePromise(n){this._getInitializePromise=n}get extras(){}__internal_setOptions(n){var l,u,c,d;if(this._options===n)return;this._options=n;let r=!1;const i=((l=n.adapters)==null?void 0:l.speech)!==void 0;this.capabilities.speech!==i&&(this.capabilities.speech=i,r=!0);const s=((u=n.adapters)==null?void 0:u.dictation)!==void 0;this.capabilities.dictation!==s&&(this.capabilities.dictation=s,r=!0);const o=((c=n.adapters)==null?void 0:c.attachments)!==void 0;this.capabilities.attachments!==o&&(this.capabilities.attachments=o,r=!0);const a=((d=n.adapters)==null?void 0:d.feedback)!==void 0;this.capabilities.feedback!==a&&(this.capabilities.feedback=a,r=!0),r&&this._notifySubscribers()}__internal_load(){var r;if(this._loadPromise)return this._loadPromise;const n=((r=this.adapters.history)==null?void 0:r.load())??Promise.resolve(null);return this._isLoading=!0,this._notifySubscribers(),this._loadPromise=n.then(i=>{var o,a;if(!i)return;this.repository.import(i),i.messages.length>0&&this.ensureInitialized(),this._notifySubscribers();const s=(a=(o=this.adapters.history)==null?void 0:o.resume)==null?void 0:a.bind(this.adapters.history);i.unstable_resume&&s&&this.startRun({parentId:this.repository.headId,sourceId:this.repository.headId,runConfig:this._lastRunConfig},s)}).finally(()=>{this._isLoading=!1,this._notifySubscribers()}),this._loadPromise}async append(n){var o,a;this.ensureInitialized();const r=(o=this._getInitializePromise)==null?void 0:o.call(this);r&&await r;const i=Qi(n,Dn(),{type:"complete",reason:"unknown"});this.repository.addOrUpdateMessage(n.parentId,i),(a=this._options.adapters.history)==null||a.append({parentId:n.parentId,message:i,...n.runConfig!==void 0&&{runConfig:n.runConfig}}),n.startRun??n.role==="user"?await this.startRun({parentId:i.id,sourceId:n.sourceId,runConfig:n.runConfig??{}}):(this.repository.resetHead(i.id),this._notifySubscribers())}resumeRun({stream:n,...r}){if(!n)throw new Error("You must pass a stream parameter to resume runs.");return this.startRun(r,n)}exportExternalState(){throw new Error("Runtime does not support exporting external states.")}importExternalState(){throw new Error("Runtime does not support importing external states.")}unstable_loadExternalState(){throw new Error("Runtime does not support importing external states.")}async startRun({parentId:n,runConfig:r},i){var l,u,c;this.ensureInitialized();let o={id:Dn(),role:"assistant",status:{type:"running"},content:[],metadata:{unstable_state:this.state,unstable_annotations:[],unstable_data:[],steps:[],custom:{}},createdAt:new Date};this._notifyEventSubscribers("runStart");try{this._suggestions=[],(l=this._suggestionsController)==null||l.abort(),this._suggestionsController=null,this._notifySubscribers();do o=await this.performRoundtrip(n,o,r,i),i=void 0;while(of(o,this._options.unstable_humanToolNames))}finally{this._notifyEventSubscribers("runEnd")}this._suggestionsController=new AbortController;const a=this._suggestionsController.signal;if(this.adapters.suggestion&&((u=o.status)==null?void 0:u.type)!=="requires-action"){const d=(c=this.adapters.suggestion)==null?void 0:c.generate({messages:this.messages});if(Symbol.asyncIterator in d)for await(const f of d){if(a.aborted)break;this._suggestions=f,this._notifySubscribers()}else{const f=await d;if(a.aborted)return;this._suggestions=f,this._notifySubscribers()}}}async performRoundtrip(n,r,i,s){var S,b,p,m,y,C,R,_,P;const o=n?this.repository.getMessages(n):[];(S=this.abortController)==null||S.abort(),this.abortController=new AbortController;const a=r.content,l=(b=r.metadata)==null?void 0:b.unstable_annotations,u=(p=r.metadata)==null?void 0:p.unstable_data,c=(m=r.metadata)==null?void 0:m.steps,d=(y=r.metadata)==null?void 0:y.custom,f=I=>{var $,he,ce,O;const F=($=I.metadata)==null?void 0:$.steps,A=F?[...c??[],...F]:void 0,L=(he=I.metadata)==null?void 0:he.unstable_annotations,D=(ce=I.metadata)==null?void 0:ce.unstable_data,W=L?[...l??[],...L]:void 0,Y=D?[...u??[],...D]:void 0;r={...r,...I.content?{content:[...a,...I.content??[]]}:void 0,status:I.status??r.status,...I.metadata?{metadata:{...r.metadata,...I.metadata.unstable_state?{unstable_state:I.metadata.unstable_state}:void 0,...W?{unstable_annotations:W}:void 0,...Y?{unstable_data:Y}:void 0,...A?{steps:A}:void 0,...(O=I.metadata)!=null&&O.custom?{custom:{...d??{},...I.metadata.custom}}:void 0}}:void 0},this.repository.addOrUpdateMessage(n,r),this._notifySubscribers()},h=this._options.maxSteps??2;if((((R=(C=r.metadata)==null?void 0:C.steps)==null?void 0:R.length)??0)>=h)return f({status:{type:"incomplete",reason:"tool-calls"}}),r;f({status:{type:"running"}}),this.repository.resetHead(r.id),this._notifySubscribers();try{this._lastRunConfig=i??{};const I=this.getModelContext();s=s??this.adapters.chatModel.run.bind(this.adapters.chatModel);const F=this.abortController.signal,A=(_=this._getThreadId)==null?void 0:_.call(this),L=s({messages:o,runConfig:this._lastRunConfig,abortSignal:F,context:I,config:I,unstable_assistantMessageId:r.id,unstable_threadId:A,unstable_parentId:n,unstable_getMessage(){return r}});if(Symbol.asyncIterator in L)for await(const D of L){if(F.aborted){f({status:{type:"incomplete",reason:"cancelled"}});break}f(D)}else f(await L);r.status.type==="running"&&f({status:{type:"complete",reason:"unknown"}})}catch(I){if(I instanceof ka)f({status:{type:"incomplete",reason:"cancelled"}});else if(I instanceof Error&&I.name==="AbortError")f({status:{type:"incomplete",reason:"cancelled"}});else throw f({status:{type:"incomplete",reason:"error",error:I instanceof Error?I.message:`[${typeof I}] ${new String(I).toString()}`}}),I}finally{this.abortController=null,(r.status.type==="complete"||r.status.type==="incomplete")&&await((P=this._options.adapters.history)==null?void 0:P.append({parentId:n,message:r,runConfig:this._lastRunConfig}))}return r}detach(){var r;const n=new ka(!0);(r=this.abortController)==null||r.abort(n),this.abortController=null}cancelRun(){var r;const n=new ka(!1);(r=this.abortController)==null||r.abort(n),this.abortController=null}addToolResult({messageId:n,toolCallId:r,result:i,isError:s,artifact:o}){const a=this.repository.getMessage(n),{parentId:l}=a;let{message:u}=a;if(u.role!=="assistant")throw new Error("Tried to add tool result to non-assistant message");let c=!1,d=!1;const f=u.content.map(h=>h.type!=="tool-call"||h.toolCallId!==r?h:(d=!0,h.result||(c=!0),{...h,result:i,artifact:o,isError:s}));if(!d)throw new Error("Tried to add tool result to non-existing tool call");u={...u,content:f},this.repository.addOrUpdateMessage(l,u),c&&of(u,this._options.unstable_humanToolNames)&&this.performRoundtrip(l,u,this._lastRunConfig)}resumeToolCall(n){throw new Error("Local runtime does not support resuming tool calls.")}}const af=Object.freeze([]),Dl="__DEFAULT_ID__",T_=Object.freeze({[Dl]:{id:Dl,remoteId:void 0,externalId:void 0,status:"regular",title:void 0}});class b_ extends qi{constructor(n){super();x(this,"_mainThread");this._mainThread=n()}get isLoading(){return!1}getMainThreadRuntimeCore(){return this._mainThread}get newThreadId(){throw new Error("Method not implemented.")}get threadIds(){throw af}get archivedThreadIds(){throw af}get mainThreadId(){return Dl}get threadItems(){return T_}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getLoadThreadsPromise(){throw new Error("Method not implemented.")}getItemById(n){if(n===this.mainThreadId)return{status:"regular",id:this.mainThreadId,remoteId:this.mainThreadId,externalId:void 0,title:void 0,isMain:!0};throw new Error("Method not implemented")}async switchToThread(){throw new Error("Method not implemented.")}switchToNewThread(){throw new Error("Method not implemented.")}rename(){throw new Error("Method not implemented.")}archive(){throw new Error("Method not implemented.")}detach(){throw new Error("Method not implemented.")}unarchive(){throw new Error("Method not implemented.")}delete(){throw new Error("Method not implemented.")}initialize(n){return Promise.resolve({remoteId:n,externalId:void 0})}generateTitle(){throw new Error("Method not implemented.")}}class I_ extends Xu{constructor(n,r){super();x(this,"threads");x(this,"Provider");x(this,"_options");this._options=n,this.threads=new b_(()=>new C_(this._contextProvider,this._options)),r&&this.threads.getMainThreadRuntimeCore().import(tc.fromArray(r))}}const lf=e=>{try{const n=e.split(".")[1];if(!n)throw new Error("Invalid JWT format");let r=n.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4!==0;)r+="=";const i=atob(r),o=JSON.parse(i).exp;if(!o||typeof o!="number")throw new Error('JWT does not contain a valid "exp" field');return o*1e3}catch(t){throw new Error(`Unable to determine the token expiry: ${t}`)}};var zi;class wg{constructor(t){x(this,"strategy","jwt");x(this,"cachedToken",null);x(this,"tokenExpiry",null);zr(this,zi);Dr(this,zi,t)}async getAuthHeaders(){const t=Date.now();if(this.cachedToken&&this.tokenExpiry&&this.tokenExpiry-t>30*1e3)return{Authorization:`Bearer ${this.cachedToken}`};const n=await Or(this,zi).call(this);return n?(this.cachedToken=n,this.tokenExpiry=lf(n),{Authorization:`Bearer ${n}`}):!1}readAuthHeaders(t){const n=t.get("Authorization");if(!n)return;const[r,i]=n.split(" ");if(r!=="Bearer"||!i)throw new Error("Invalid auth header received");this.cachedToken=i,this.tokenExpiry=lf(i)}}zi=new WeakMap;var Di,ji,Fi;class R_{constructor(t,n,r){x(this,"strategy","api-key");zr(this,Di);zr(this,ji);zr(this,Fi);Dr(this,Di,t),Dr(this,ji,n),Dr(this,Fi,r)}async getAuthHeaders(){return{Authorization:`Bearer ${Or(this,Di)}`,"Aui-User-Id":Or(this,ji),"Aui-Workspace-Id":Or(this,Fi)}}readAuthHeaders(){}}Di=new WeakMap,ji=new WeakMap,Fi=new WeakMap;const ws="aui:refresh_token";class P_{constructor(t){x(this,"strategy","anon");x(this,"baseUrl");x(this,"jwtStrategy");this.baseUrl=t,this.jwtStrategy=new wg(async()=>{const n=Date.now(),r=localStorage.getItem(ws),i=r?JSON.parse(r):void 0;if(i)if(new Date(i.expires_at).getTime()-n>30*1e3){const c=await fetch(`${this.baseUrl}/v1/auth/tokens/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:i.token})});if(c.ok){const d=await c.json(),{access_token:f,refresh_token:h}=d;return h&&localStorage.setItem(ws,JSON.stringify(h)),f}}else localStorage.removeItem(ws);const s=await fetch(`${this.baseUrl}/v1/auth/tokens/anonymous`,{method:"POST"});if(!s.ok)return null;const o=await s.json(),{access_token:a,refresh_token:l}=o;return!a||!l?null:(localStorage.setItem(ws,JSON.stringify(l)),a)})}async getAuthHeaders(){return this.jwtStrategy.getAuthHeaders()}readAuthHeaders(t){this.jwtStrategy.readAuthHeaders(t)}}class A_ extends Error{constructor(t){super(t),this.name="APIError"}}class M_{constructor(t){x(this,"_auth");x(this,"_baseUrl");if("authToken"in t)this._baseUrl=t.baseUrl,this._auth=new wg(t.authToken);else if("apiKey"in t)this._baseUrl="https://backend.assistant-api.com",this._auth=new R_(t.apiKey,t.userId,t.workspaceId);else if("anonymous"in t)this._baseUrl=t.baseUrl,this._auth=new P_(t.baseUrl);else throw new Error("Invalid configuration: Must provide authToken, apiKey, or anonymous configuration")}async initializeAuth(){return!!this._auth.getAuthHeaders()}async makeRawRequest(t,n={}){const r=await this._auth.getAuthHeaders();if(!r)throw new Error("Authorization failed");const i={...r,...n.headers,"Content-Type":"application/json"},s=new URLSearchParams;if(n.query)for(const[l,u]of Object.entries(n.query))u!==!1&&(u===!0?s.set(l,"true"):s.set(l,u.toString()));const o=new URL(`${this._baseUrl}/v1${t}`);o.search=s.toString();const a=await fetch(o,{method:n.method??"GET",headers:i,body:n.body?JSON.stringify(n.body):null});if(this._auth.readAuthHeaders(a.headers),!a.ok){const l=await a.text();try{const u=JSON.parse(l);throw new A_(u.message)}catch{throw new Error(`Request failed with status ${a.status}, ${l}`)}}return a}async makeRequest(t,n={}){return(await this.makeRawRequest(t,n)).json()}}class N_{constructor(t){x(this,"cloud");this.cloud=t}async create(){return this.cloud.makeRequest("/auth/tokens",{method:"POST"})}}class L_{constructor(t){x(this,"cloud");this.cloud=t}__internal_getAssistantOptions(t){return{api:`${this.cloud._baseUrl}/v1/runs/stream`,headers:async()=>{const n=await this.cloud._auth.getAuthHeaders();if(!n)throw new Error("Authorization failed");return{...n,Accept:"text/plain"}},body:{assistant_id:t,response_format:"vercel-ai-data-stream/v1",thread_id:"unstable_todo"}}}async stream(t){const n=await this.cloud.makeRawRequest("/runs/stream",{method:"POST",headers:{Accept:"text/plain"},body:t});return Ol.fromResponse(n,new d_)}}class O_{constructor(t){x(this,"cloud");this.cloud=t}async list(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{query:n})}async create(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{method:"POST",body:n})}}class z_{constructor(t){x(this,"cloud");x(this,"messages");this.cloud=t,this.messages=new O_(t)}async list(t){return this.cloud.makeRequest("/threads",{query:t})}async get(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`)}async create(t){return this.cloud.makeRequest("/threads",{method:"POST",body:t})}async update(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"PUT",body:n})}async delete(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"DELETE"})}}class D_{constructor(t){x(this,"cloud");this.cloud=t}async pdfToImages(t){return this.cloud.makeRequest("/files/pdf-to-images",{method:"POST",body:t})}async generatePresignedUploadUrl(t){return this.cloud.makeRequest("/files/attachments/generate-presigned-upload-url",{method:"POST",body:t})}}class j_{constructor(t){x(this,"threads");x(this,"auth");x(this,"runs");x(this,"files");const n=new M_(t);this.threads=new z_(n),this.auth={tokens:new N_(n)},this.runs=new L_(n),this.files=new D_(n)}}function jl(e,t=0){return t>100?!1:e===null||typeof e=="string"||typeof e=="boolean"?!0:typeof e=="number"?!Number.isNaN(e)&&Number.isFinite(e):Array.isArray(e)?e.every(n=>jl(n,t+1)):typeof e=="object"?Object.entries(e).every(([n,r])=>typeof n=="string"&&jl(r,t+1)):!1}const F_=e=>{var t;return{role:e.role,content:e.content.map(n=>{const r=n.type;switch(r){case"text":return{type:"text",text:n.text};case"reasoning":return{type:"reasoning",text:n.text};case"source":return{type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0};case"tool-call":return jl(n.result)||console.warn(`tool-call result is not JSON! ${JSON.stringify(n)}`),{type:"tool-call",toolCallId:n.toolCallId,toolName:n.toolName,...JSON.stringify(n.args)===n.argsText?{args:n.args}:{argsText:n.argsText},...n.result?{result:n.result}:{},...n.isError?{isError:!0}:{}};case"image":return{type:"image",image:n.image};case"file":return{type:"file",data:n.data,mimeType:n.mimeType,...n.filename?{filename:n.filename}:void 0};default:{const i=r;throw new Error(`Message part type not supported by aui/v0: ${i}`)}}}),metadata:e.metadata,...e.status?{status:((t=e.status)==null?void 0:t.type)==="running"?{type:"incomplete",reason:"cancelled"}:e.status}:void 0}},B_=e=>{const t=e.content,n=Qi({id:e.id,createdAt:e.created_at,...t},e.id,{type:"complete",reason:"unknown"});return{parentId:e.parent_id,message:n}},Ea=new WeakMap;class U_{constructor(t,n){x(this,"parent");x(this,"formatAdapter");this.parent=t,this.formatAdapter=n}async append(t){const n=this.formatAdapter.encode(t),r=this.formatAdapter.getId(t.message);return this.parent._appendWithFormat(t.parentId,r,this.formatAdapter.format,n)}async load(){return this.parent._loadWithFormat(this.formatAdapter.format,t=>this.formatAdapter.decode(t))}}class H_{constructor(t,n){x(this,"cloudRef");x(this,"aui");this.cloudRef=t,this.aui=n}get _getIdForLocalId(){return Ea.has(this.aui.threadListItem())||Ea.set(this.aui.threadListItem(),{}),Ea.get(this.aui.threadListItem())}withFormat(t){return new U_(this,t)}async append({parentId:t,message:n}){const{remoteId:r}=await this.aui.threadListItem().initialize(),i=this.cloudRef.current.threads.messages.create(r,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:"aui/v0",content:F_(n)}).then(({message_id:s})=>(this._getIdForLocalId[n.id]=s,s));return this._getIdForLocalId[n.id]=i,i.then(()=>{})}async load(){const t=this.aui.threadListItem().getState().remoteId;if(!t)return{messages:[]};const{messages:n}=await this.cloudRef.current.threads.messages.list(t,{format:"aui/v0"});return{messages:n.filter(i=>i.format==="aui/v0").map(B_).reverse()}}async _appendWithFormat(t,n,r,i){const{remoteId:s}=await this.aui.threadListItem().initialize(),o=this.cloudRef.current.threads.messages.create(s,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:r,content:i}).then(({message_id:a})=>(this._getIdForLocalId[n]=a,a));return this._getIdForLocalId[n]=o,o.then(()=>{})}async _loadWithFormat(t,n){const r=this.aui.threadListItem().getState().remoteId;if(!r)return{messages:[]};const{messages:i}=await this.cloudRef.current.threads.messages.list(r,{format:t});return{messages:i.filter(s=>s.format===t).map(s=>n({id:s.id,parent_id:s.parent_id,format:s.format,content:s.content})).reverse()}}}const V_=e=>{const t=Se(),[n]=E.useState(()=>new H_(e,t));return n};var gh;const uf=typeof process<"u"&&((gh=process==null?void 0:process.env)==null?void 0:gh.NEXT_PUBLIC_ASSISTANT_BASE_URL),Ca=uf?new j_({baseUrl:uf,anonymous:!0}):void 0,$_=e=>{const t=E.useRef(e);E.useEffect(()=>{t.current=e},[e]);const n=E.useCallback(function({children:s}){const o=V_({get current(){return t.current.cloud??Ca}}),a=t.current.cloud??Ca,l=E.useMemo(()=>new v_(a),[a]),u=E.useMemo(()=>({history:o,attachments:l}),[o,l]);return k.jsx(yg,{adapters:u,children:s})},[]),r=e.cloud??Ca;return r?{list:async()=>{const{threads:i}=await r.threads.list();return{threads:i.map(s=>({status:s.is_archived?"archived":"regular",remoteId:s.id,title:s.title,externalId:s.external_id??void 0}))}},initialize:async()=>{var l;const s=await(((l=e.create)==null?void 0:l.call(e))??Promise.resolve()),o=s?s.externalId:void 0,{thread_id:a}=await r.threads.create({last_message_at:new Date,external_id:o});return{externalId:o,remoteId:a}},rename:async(i,s)=>r.threads.update(i,{title:s}),archive:async i=>r.threads.update(i,{is_archived:!0}),unarchive:async i=>r.threads.update(i,{is_archived:!1}),delete:async i=>{var s;return await((s=e.delete)==null?void 0:s.call(e,i)),r.threads.delete(i)},generateTitle:async(i,s)=>{const o=s.map(a=>({...a,content:a.content.filter(l=>l.type==="text"||l.type==="tool-call")}));return r.runs.stream({thread_id:i,assistant_id:"system/thread_title",messages:o})},fetch:async i=>{const s=await r.threads.get(i);return{status:s.is_archived?"archived":"regular",remoteId:s.id,title:s.title,externalId:s.external_id??void 0}},unstable_Provider:n}:new E_},W_=(e,{initialMessages:t,...n})=>{const{modelContext:r,...i}=x_()??{},s={...n,adapters:{...i,...n.adapters,chatModel:e}},[o]=E.useState(()=>new I_(s,t)),a=E.useRef(void 0);return a.current=ne(l=>l.threadListItem.remoteId),E.useEffect(()=>{o.threads.getMainThreadRuntimeCore().__internal_setGetThreadId(()=>a.current)},[o]),E.useEffect(()=>()=>{o.threads.getMainThreadRuntimeCore().detach()},[o]),E.useEffect(()=>{o.threads.getMainThreadRuntimeCore().__internal_setOptions(s),o.threads.getMainThreadRuntimeCore().__internal_load()}),E.useEffect(()=>{if(r)return o.registerModelContextProvider(r)},[r,o]),E.useMemo(()=>new rc(o),[o])},q_=(e,{cloud:t,...n}={})=>{const r=$_({cloud:t});return Ok({runtimeHook:function(){return W_(e,n)},adapter:r,allowNesting:!0})};class rc{constructor(t){x(this,"_core");x(this,"threads");x(this,"_thread");this._core=t,this.threads=new gg(t.threads),this._thread=this.threads.main,this.__internal_bindMethods()}get threadList(){return this.threads}__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(t){return this._core.threads.switchToThread(t)}registerModelContextProvider(t){return this._core.registerModelContextProvider(t)}registerModelConfigProvider(t){return this.registerModelContextProvider(t)}reset({initialMessages:t}={}){return this._core.threads.getMainThreadRuntimeCore().import(tc.fromArray(t??[]))}}function jn(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const cf=e=>{let t;const n=new Set,r=(u,c)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const f=t;t=c??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(h=>h(t,f))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,i,a);return a},Q_=e=>e?cf(e):cf,Y_=e=>e;function G_(e,t=Y_){const n=je.useSyncExternalStore(e.subscribe,je.useCallback(()=>t(e.getState()),[e,t]),je.useCallback(()=>t(e.getInitialState()),[e,t]));return je.useDebugValue(n),n}const df=e=>{const t=Q_(e),n=r=>G_(t,r);return Object.assign(n,t),n},Tr=e=>e?df(e):df;function Sg(e,t){function n(i){const s=e(i);return s?s[t]:null}function r(i){let s=!1,o;typeof i=="function"?o=i:i&&typeof i=="object"&&(s=!!i.optional,o=i.selector);const a=n({optional:s});return a?o?a(o):a():null}return{[t]:r,[`${t}Store`]:n}}const vg=E.createContext(null),K_=e=>({useSmoothStatus:Tr(()=>e)}),J_=({children:e})=>{const t=xg({optional:!0}),n=Se(),[r]=E.useState(()=>K_(n.part().getState().status));return t?e:k.jsx(vg.Provider,{value:r,children:e})},X_=e=>{const t=E.forwardRef((n,r)=>k.jsx(J_,{children:k.jsx(e,{...n,ref:r})}));return t.displayName=e.displayName,t};function xg(e){const t=E.useContext(vg);if(!(e!=null&&e.optional)&&!t)throw new Error("This component must be used within a SmoothContextProvider.");return t}const{useSmoothStatus:Z_,useSmoothStatusStore:ek}=Sg(xg,"useSmoothStatus"),Li=e=>e;class tk{constructor(t,n){x(this,"currentText");x(this,"setText");x(this,"animationFrameId",null);x(this,"lastUpdateTime",Date.now());x(this,"targetText","");x(this,"animate",()=>{const t=Date.now();let r=t-this.lastUpdateTime;const i=this.targetText.length-this.currentText.length,s=Math.min(5,250/i);let o=0;for(;r>=s&&o<i;)o++,r-=s;o!==i?this.animationFrameId=requestAnimationFrame(this.animate):this.animationFrameId=null,o!==0&&(this.currentText=this.targetText.slice(0,this.currentText.length+o),this.lastUpdateTime=t-r,this.setText(this.currentText))});this.currentText=t,this.setText=n}start(){this.animationFrameId===null&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}}const Ta=Object.freeze({type:"running"}),_g=(e,t=!1)=>{const{text:n}=e,r=ne(c=>c.message.id),i=E.useRef(r),[s,o]=E.useState(n),a=ek({optional:!0}),l=jn(c=>{if(o(c),a){const d=s!==c||e.status.type==="running"?Ta:e.status;Li(a).setState(d,!0)}});E.useEffect(()=>{if(a){const c=t&&(s!==n||e.status.type==="running")?Ta:e.status;Li(a).setState(c,!0)}},[a,t,n,s,e.status]);const[u]=E.useState(new tk(n,l));return E.useEffect(()=>{if(!t){u.stop();return}if(i.current!==r||!n.startsWith(u.targetText)){i.current=r,l(n),u.currentText=n,u.targetText=n,u.stop();return}u.targetText=n,u.start()},[l,u,r,t,n]),E.useEffect(()=>()=>{u.stop()},[u]),E.useMemo(()=>t?{type:"text",text:s,status:n===s?e.status:Ta}:e,[t,s,e,n])},nk=Object.freeze(Object.defineProperty({__proto__:null,AssistantRuntimeImpl:rc,BaseAssistantRuntimeCore:Xu,CompositeContextProvider:Ju,DefaultThreadComposerRuntimeCore:Xm,MessageRepository:lg,ThreadRuntimeImpl:mg,fromThreadMessageLike:Qi,generateId:Dn,getAutoStatus:eg,useSmooth:_g,useSmoothStatus:Z_,withSmoothContextProvider:X_},Symbol.toStringTag,{value:"Module"})),Hn=e=>{const[,t]=_t(e.getState);return Pe(()=>(t(e.getState()),e.subscribe(()=>{t(e.getState())})),[e]),e.getState()},kg=ee(({runtime:e})=>{const t=Hn(e),n=Ku();return Pe(()=>{const r=[],i=["switchedTo","switchedAway"];for(const s of i){const o=e.unstable_on(s,()=>{n(`threadListItem.${s}`,{threadId:e.getState().id})});r.push(o)}return()=>{for(const s of r)s()}},[e,n]),{state:t,methods:{getState:()=>t,switchTo:e.switchTo,rename:e.rename,archive:e.archive,unarchive:e.unarchive,delete:e.delete,generateTitle:e.generateTitle,initialize:e.initialize,detach:e.detach,__internal_getRuntime:()=>e}}}),Eg=ee(({runtime:e})=>{const t=Hn(e);return{state:t,methods:{getState:()=>t,remove:e.remove,__internal_getRuntime:()=>e}}}),rk=ee(({runtime:e,index:t})=>{const n=J(()=>e.getAttachmentByIndex(t),[e,t]);return Ot(Eg({runtime:n}))}),Cg=ee(({threadIdRef:e,messageIdRef:t,runtime:n})=>{const r=Hn(n),i=Ku();Pe(()=>{const a=[],l=["send","attachmentAdd"];for(const u of l){const c=n.unstable_on(u,()=>{i(`composer.${u}`,{threadId:e.current,...t&&{messageId:t.current}})});a.push(c)}return()=>{for(const u of a)u()}},[n,i,e,t]);const s=Cr(()=>r.attachments.map((a,l)=>Yt(a.id,rk({runtime:n,index:l}))),[r.attachments,n]),o=J(()=>({text:r.text,role:r.role,attachments:s.state,runConfig:r.runConfig,isEditing:r.isEditing,canCancel:r.canCancel,attachmentAccept:r.attachmentAccept,isEmpty:r.isEmpty,type:r.type??"thread",dictation:r.dictation,quote:r.quote}),[r,s.state]);return{state:o,methods:{getState:()=>o,setText:n.setText,setRole:n.setRole,setRunConfig:n.setRunConfig,addAttachment:n.addAttachment,reset:n.reset,clearAttachments:n.clearAttachments,send:n.send,cancel:n.cancel,beginEdit:n.beginEdit??(()=>{throw new Error("beginEdit is not supported in this runtime")}),startDictation:n.startDictation,stopDictation:n.stopDictation,setQuote:n.setQuote,attachment:a=>"id"in a?s.get({key:a.id}):s.get(a),__internal_getRuntime:()=>n}}}),ik=ee(({runtime:e})=>{const t=Hn(e);return{state:t,methods:{getState:()=>t,addToolResult:n=>e.addToolResult(n),resumeToolCall:n=>e.resumeToolCall(n),__internal_getRuntime:()=>e}}}),sk=ee(({runtime:e,index:t})=>{const n=J(()=>e.getAttachmentByIndex(t),[e,t]);return Ot(Eg({runtime:n}))}),ok=ee(({runtime:e,index:t})=>{const n=J(()=>e.getMessagePartByIndex(t),[e,t]);return Ot(ik({runtime:n}))}),ak=ee(({runtime:e,threadIdRef:t})=>{const n=Hn(e),[r,i]=_t(!1),[s,o]=_t(!1),a=J(()=>({get current(){return e.getState().id}}),[e]),l=jo(Cg({runtime:e.composer,threadIdRef:t,messageIdRef:a})),u=Cr(()=>n.content.map((f,h)=>Yt("toolCallId"in f&&f.toolCallId!=null?`toolCallId-${f.toolCallId}`:`index-${h}`,ok({runtime:e,index:h}))),[n.content,e]),c=Cr(()=>(n.attachments??[]).map((f,h)=>Yt(f.id,sk({runtime:e,index:h}))),[n.attachments,e]),d=J(()=>({...n,parts:u.state,composer:l.state,isCopied:r,isHovering:s}),[n,u.state,l.state,r,s]);return{state:d,methods:{getState:()=>d,composer:l.methods,reload:f=>e.reload(f),speak:()=>e.speak(),stopSpeaking:()=>e.stopSpeaking(),submitFeedback:f=>e.submitFeedback(f),switchToBranch:f=>e.switchToBranch(f),getCopyText:()=>e.unstable_getCopyText(),part:f=>"index"in f?u.get({index:f.index}):u.get({key:`toolCallId-${f.toolCallId}`}),attachment:f=>"id"in f?c.get({key:f.id}):c.get(f),setIsCopied:i,setIsHovering:o,__internal_getRuntime:()=>e}}}),lk=ee(({runtime:e,id:t,threadIdRef:n})=>{const r=J(()=>e.getMessageById(t),[e,t]);return Ot(ak({runtime:r,threadIdRef:n}))}),uk=ee(({runtime:e})=>{const t=Hn(e),n=Ku();Pe(()=>{const a=[],l=["runStart","runEnd","initialize","modelContextUpdate"];for(const u of l){const c=e.unstable_on(u,()=>{var f;const d=((f=e.getState())==null?void 0:f.threadId)||"unknown";n(`thread.${u}`,{threadId:d})});a.push(c)}return()=>{for(const u of a)u()}},[e,n]);const r=J(()=>({get current(){return e.getState().threadId}}),[e]),i=jo(Cg({runtime:e.composer,threadIdRef:r})),s=Cr(()=>t.messages.map(a=>Yt(a.id,lk({runtime:e,id:a.id,threadIdRef:r}))),[t.messages,e,r]),o=J(()=>({isEmpty:s.state.length===0&&!t.isLoading,isDisabled:t.isDisabled,isLoading:t.isLoading,isRunning:t.isRunning,capabilities:t.capabilities,state:t.state,suggestions:t.suggestions,extras:t.extras,speech:t.speech,composer:i.state,messages:s.state}),[t,s,i.state]);return{state:o,methods:{getState:()=>o,composer:i.methods,append:e.append,startRun:e.startRun,unstable_resumeRun:e.unstable_resumeRun,cancelRun:e.cancelRun,getModelContext:e.getModelContext,export:e.export,import:e.import,reset:e.reset,stopSpeaking:e.stopSpeaking,startVoice:async()=>{throw new Error("startVoice is not supported in this runtime")},stopVoice:async()=>{throw new Error("stopVoice is not supported in this runtime")},message:a=>"id"in a?s.get({key:a.id}):s.get(a),__internal_getRuntime:()=>e}}}),ck=ee(({runtime:e,id:t})=>{const n=J(()=>e.getItemById(t),[e,t]);return Ot(kg({runtime:n}))}),dk=ee(({runtime:e,__internal_assistantRuntime:t})=>{const n=Hn(e),r=jo(uk({runtime:e.main})),i=Cr(()=>Object.keys(n.threadItems).map(o=>Yt(o,ck({runtime:e,id:o}))),[n.threadItems,e]),s=J(()=>({mainThreadId:n.mainThreadId,newThreadId:n.newThreadId??null,isLoading:n.isLoading,threadIds:n.threadIds,archivedThreadIds:n.archivedThreadIds,threadItems:i.state,main:r.state}),[n,i.state,r.state]);return{state:s,methods:{getState:()=>s,thread:()=>r.methods,item:o=>{if(o==="main")return i.get({key:s.mainThreadId});if("id"in o)return i.get({key:o.id});const{index:a,archived:l=!1}=o,u=l?s.archivedThreadIds[a]:s.threadIds[a];return i.get({key:u})},switchToThread:async o=>{await e.switchToThread(o)},switchToNewThread:async()=>{await e.switchToNewThread()},__internal_getAssistantRuntime:()=>t}}}),fk=1,Tg=ee(()=>{const[e]=_t(()=>({version:fk+1})),t=J(()=>new Ju,[]);return{state:e,methods:{getState:()=>e,getModelContext:()=>t.getModelContext(),subscribe:n=>t.subscribe(n),register:n=>t.registerModelContextProvider(n)}}});function ff(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bg(...e){return t=>{let n=!1;const r=e.map(i=>{const s=ff(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():ff(e[i],null)}}}}function Vo(...e){return E.useCallback(bg(...e),e)}const Ig=ee(({toolkit:e})=>{const[t,n]=_t(()=>({tools:{}})),r=Gm(),i=Mm((s,o)=>(n(a=>({...a,tools:{...a.tools,[s]:[...a.tools[s]??[],o]}})),()=>{n(a=>{var l;return{...a,tools:{...a.tools,[s]:((l=a.tools[s])==null?void 0:l.filter(u=>u!==o))??[]}}})}),[]);return Pe(()=>{if(!e)return;const s=[];for(const[l,u]of Object.entries(e))u.render&&s.push(i(l,u.render));const o=Object.entries(e).reduce((l,[u,c])=>{const{render:d,...f}=c;return l[u]=f,l},{}),a={getModelContext:()=>({tools:o})};return s.push(r.current.modelContext().register(a)),()=>{s.forEach(l=>l())}},[e,i,r]),{state:t,methods:{getState:()=>t,setToolUI:i}}});Wm(Ig,{modelContext:Tg()});const hk=ee(e=>({state:e,methods:{getState:()=>e}})),pk=ee(e=>{const[t]=_t(()=>({suggestions:(e??[]).map(i=>typeof i=="string"?{title:i,label:"",prompt:i}:{title:i.title,label:i.label,prompt:i.prompt})})),n=Cr(()=>t.suggestions.map((r,i)=>Yt(i,hk(r))),[t.suggestions]);return{state:t,methods:{getState:()=>t,suggestion:({index:r})=>n.get({index:r})}}}),mk=pk,Rg=ee(e=>{const t=Gm();return Pe(()=>e.registerModelContextProvider(t.current.modelContext()),[e,t]),Ot(dk({runtime:e.threads,__internal_assistantRuntime:e}))});Wm(Rg,{modelContext:Tg(),tools:Ig({}),suggestions:mk(),threadListItem:Nt({source:"threads",query:{type:"main"},get:e=>e.threads().item("main")}),thread:Nt({source:"threads",query:{type:"main"},get:e=>e.threads().thread("main")}),composer:Nt({source:"thread",query:{},get:e=>e.threads().thread("main").composer})});const ba=e=>{const t=new Map,n=()=>{let r=0;for(const i of t.values())r+=i;e(r)};return{register:()=>{const r=Symbol();return t.set(r,0),{setHeight:i=>{t.get(r)!==i&&(t.set(r,i),n())},unregister:()=>{t.delete(r),n()}}}}},gk=(e={})=>{const t=new Set,n=ba(o=>{s.setState({height:{...s.getState().height,viewport:o}})}),r=ba(o=>{s.setState({height:{...s.getState().height,inset:o}})}),i=ba(o=>{s.setState({height:{...s.getState().height,userMessage:o}})}),s=Tr(()=>({isAtBottom:!0,scrollToBottom:({behavior:o="auto"}={})=>{for(const a of t)a({behavior:o})},onScrollToBottom:o=>(t.add(o),()=>{t.delete(o)}),turnAnchor:e.turnAnchor??"bottom",height:{viewport:0,inset:0,userMessage:0},registerViewport:n.register,registerContentInset:r.register,registerUserMessageHeight:i.register}));return s};function yk(e,t){function n(r){const i=E.useContext(e);if(!(r!=null&&r.optional)&&!i)throw new Error(`This component must be used within ${t}.`);return i}return n}const Pg=E.createContext(null),wk=yk(Pg,"ThreadPrimitive.Viewport"),{useThreadViewport:yo,useThreadViewportStore:ic}=Sg(wk,"useThreadViewport"),Sk=e=>{const t=ic({optional:!0}),[n]=E.useState(()=>gk(e));return E.useEffect(()=>t==null?void 0:t.getState().onScrollToBottom(()=>{n.getState().scrollToBottom()}),[t,n]),E.useEffect(()=>{if(t)return n.subscribe(r=>{t.getState().isAtBottom!==r.isAtBottom&&Li(t).setState({isAtBottom:r.isAtBottom})})},[n,t]),E.useEffect(()=>{const r={turnAnchor:e.turnAnchor??"bottom"};n.getState().turnAnchor!==r.turnAnchor&&Li(n).setState(r)},[n,e.turnAnchor]),n},Ag=({children:e,options:t={}})=>{const n=Sk(t),[r]=E.useState(()=>({useThreadViewport:n}));return k.jsx(Pg.Provider,{value:r,children:e})},vk=e=>{var t;return(t=e._core)==null?void 0:t.RenderComponent},xk=({children:e,aui:t=null,runtime:n})=>{const r=Se({threads:Rg(n)},{parent:t});E.useEffect(()=>{},[r]);const i=vk(n);return k.jsxs(Un,{value:r,children:[i&&k.jsx(i,{}),k.jsx(Ag,{children:e})]})},_k=E.memo(xk),kk=({index:e,archived:t,children:n})=>{const r=Se({threadListItem:Nt({source:"threads",query:{type:"index",index:e,archived:t},get:i=>i.threads().item({index:e,archived:t})})});return k.jsx(Un,{value:r,children:n})},Ek=({runtime:e,children:t})=>{const n=Se({threadListItem:kg({runtime:e})});return k.jsx(Un,{value:n,children:t})},Ck=({index:e,children:t})=>{const n=Se({message:Nt({source:"thread",query:{type:"index",index:e},get:r=>r.thread().message({index:e})}),composer:Nt({source:"message",query:{},get:r=>r.thread().message({index:e}).composer})});return k.jsx(Un,{value:n,children:t})},Tk=({index:e,children:t})=>{const n=Se({part:Nt({source:"message",query:{type:"index",index:e},get:r=>r.message().part({index:e})})});return k.jsx(Un,{value:n,children:t})},bk=ee(({text:e,isRunning:t})=>{const n=J(()=>({type:"text",text:e,status:t?{type:"running"}:{type:"complete"}}),[e,t]);return{state:n,methods:{getState:()=>n,addToolResult:()=>{throw new Error("Not supported")},resumeToolCall:()=>{throw new Error("Not supported")}}}}),Ik=({text:e,isRunning:t=!1,children:n})=>{const r=Se({part:bk({text:e,isRunning:t})});return k.jsx(Un,{value:r,children:n})};class Rk extends qi{constructor(n,r){super();x(this,"useRuntimeHook");x(this,"instances",new Map);x(this,"useAliveThreadsKeysChanged",Tr(()=>({})));x(this,"parent");x(this,"_InnerActiveThreadProvider",({threadId:n})=>{const{useRuntime:r}=this.useRuntimeHook(),i=r(),s=i.thread.__internal_threadBinding,o=E.useCallback(()=>{const c=this.instances.get(n);if(!c)throw new Error("Thread not found. This is a bug in assistant-ui.");c.runtime=s.getState(),this._notifySubscribers()},[n,s]),a=E.useRef(!1);a.current||o(),E.useEffect(()=>(a.current=!0,o(),s.outerSubscribe(o)),[s,o]);const l=Se(),u=E.useRef(void 0);return E.useEffect(()=>{const c=s.getState(),d=c.__internal_setGetInitializePromise;typeof d=="function"&&d.call(c,()=>u.current)},[s]),E.useEffect(()=>i.threads.main.unstable_on("initialize",()=>{if(l.threadListItem().getState().status==="new"){u.current=l.threadListItem().initialize();const d=i.thread.unstable_on("runEnd",()=>{d(),l.threadListItem().generateTitle()})}}),[i,l]),null});x(this,"_OuterActiveThreadProvider",E.memo(({threadId:n,provider:r})=>{const i=E.useMemo(()=>new gg(this.parent).getItemById(n),[n]);return k.jsx(Ek,{runtime:i,children:k.jsx(r,{children:k.jsx(this._InnerActiveThreadProvider,{threadId:n})})})}));x(this,"__internal_RenderThreadRuntimes",({provider:n})=>(this.useAliveThreadsKeysChanged(),Array.from(this.instances.keys()).map(r=>k.jsx(this._OuterActiveThreadProvider,{threadId:r,provider:n},r))));this.parent=r,this.useRuntimeHook=Tr(()=>({useRuntime:n}))}startThreadRuntime(n){return this.instances.has(n)||(this.instances.set(n,{}),this.useAliveThreadsKeysChanged.setState({},!0)),new Promise((r,i)=>{const s=()=>{const a=this.instances.get(n);if(!a)o(),i(new Error("Thread was deleted before runtime was started"));else if(a.runtime)o(),r(a.runtime);else return},o=this.subscribe(s);s()})}getThreadRuntimeCore(n){const r=this.instances.get(n);if(r)return r.runtime}stopThreadRuntime(n){this.instances.delete(n),this.useAliveThreadsKeysChanged.setState({},!0)}setRuntimeHook(n){this.useRuntimeHook.getState().useRuntime!==n&&this.useRuntimeHook.setState({useRuntime:n},!0)}}const de=new Error("This is the empty thread, a placeholder for the main thread. You cannot perform any actions on this thread instance. This error is probably because you tried to call a thread method in your render function. Call the method inside a `useEffect` hook instead."),Pk={getMessageById(){},getBranches(){return[]},switchToBranch(){throw de},append(){throw de},startRun(){throw de},resumeRun(){throw de},cancelRun(){throw de},addToolResult(){throw de},resumeToolCall(){throw de},speak(){throw de},stopSpeaking(){throw de},submitFeedback(){throw de},getModelContext(){return{}},exportExternalState(){throw de},importExternalState(){throw de},unstable_loadExternalState(){throw de},composer:{attachments:[],attachmentAccept:"*",async addAttachment(){throw de},async removeAttachment(){throw de},isEditing:!0,canCancel:!1,isEmpty:!0,text:"",setText(){throw de},role:"user",setRole(){throw de},runConfig:{},setRunConfig(){throw de},async reset(){},async clearAttachments(){},send(){throw de},cancel(){},dictation:void 0,startDictation(){throw de},stopDictation(){},quote:void 0,setQuote(){throw de},subscribe(){return()=>{}},unstable_on(){return()=>{}}},getEditComposer(){},beginEdit(){throw de},speech:void 0,capabilities:{switchToBranch:!1,switchBranchDuringRun:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,dictation:!1,attachments:!1,feedback:!1},isDisabled:!1,isLoading:!1,messages:[],state:null,suggestions:[],extras:void 0,subscribe(){return()=>{}},import(){throw de},export(){return{messages:[]}},reset(){throw de},unstable_on(){return()=>{}}},hf=(e,t,n)=>n.reduce((r,i)=>(i==null?void 0:i(r,t))??r,e);class Ak extends qi{constructor(n){super();x(this,"_pendingTransforms",[]);x(this,"_baseValue");x(this,"_cachedValue");this._baseValue=n,this._cachedValue=n}_updateState(){this._cachedValue=this._pendingTransforms.reduce((n,r)=>hf(n,r.task,[r.loading,r.optimistic]),this._baseValue),this._notifySubscribers()}get baseValue(){return this._baseValue}get value(){return this._cachedValue}update(n){this._baseValue=n,this._updateState()}async optimisticUpdate(n){const r=n.execute(),i={...n,task:r};try{this._pendingTransforms.push(i),this._updateState();const s=await r;return this._baseValue=hf(this._baseValue,s,[n.optimistic,n.then]),s}finally{const s=this._pendingTransforms.indexOf(i);s>-1&&this._pendingTransforms.splice(s,1),this._updateState()}}}const zs=(e,t)=>{const n=e.threadIdMap[t];if(n!==void 0)return e.threadData[n]},Ss=(e,t,n)=>{const r=zs(e,t);if(!r)return e;const{id:i,remoteId:s,status:o}=r;if(o===n)return e;const a={...e};switch(o){case"new":a.newThreadId=void 0;break;case"regular":a.threadIds=a.threadIds.filter(l=>l!==i);break;case"archived":a.archivedThreadIds=a.archivedThreadIds.filter(l=>l!==i);break;default:{const l=o;throw new Error(`Unsupported state: ${l}`)}}switch(n){case"regular":a.threadIds=[i,...a.threadIds];break;case"archived":a.archivedThreadIds=[i,...a.archivedThreadIds];break;case"deleted":a.threadData=Object.fromEntries(Object.entries(a.threadData).filter(([l])=>l!==i)),a.threadIdMap=Object.fromEntries(Object.entries(a.threadIdMap).filter(([l])=>l!==i&&l!==s));break;default:{const l=n;throw new Error(`Unsupported state: ${l}`)}}return n!=="deleted"&&(a.threadData={...a.threadData,[i]:{...r,status:n}}),a};class Mk extends qi{constructor(n,r){super();x(this,"contextProvider");x(this,"_options");x(this,"_hookManager");x(this,"_loadThreadsPromise");x(this,"_mainThreadId");x(this,"_state",new Ak({isLoading:!1,newThreadId:void 0,threadIds:[],archivedThreadIds:[],threadIdMap:{},threadData:{}}));x(this,"useProvider");x(this,"initialize",async n=>{if(this._state.value.newThreadId!==n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Unexpected new state");return r.initializeTask}return this._state.optimisticUpdate({execute:()=>this._options.adapter.initialize(n),optimistic:r=>Ss(r,n,"regular"),loading:(r,i)=>{const s=n;return{...r,threadData:{...r.threadData,[s]:{...r.threadData[s],initializeTask:i}}}},then:(r,{remoteId:i,externalId:s})=>{const o=zs(r,n);if(!o)return r;const a=n;return{...r,threadIdMap:{...r.threadIdMap,[i]:a},threadData:{...r.threadData,[a]:{...o,initializeTask:Promise.resolve({remoteId:i,externalId:s}),remoteId:i,externalId:s}}}}})});x(this,"generateTitle",async n=>{var u;const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Thread is not yet initialized");const{remoteId:i}=await r.initializeTask,s=this._hookManager.getThreadRuntimeCore(r.id);if(!s)return;const o=s.messages,a=await this._options.adapter.generateTitle(i,o),l=di.fromAssistantStream(a);for await(const c of l){const d=(u=c.parts.filter(h=>h.type==="text")[0])==null?void 0:u.text,f=this._state.baseValue;this._state.update({...f,threadData:{...f.threadData,[r.id]:{...r,title:d}}})}});x(this,"useBoundIds",Tr(()=>[]));x(this,"__internal_RenderComponent",()=>{const n=E.useId();E.useEffect(()=>(this.useBoundIds.setState(o=>[...o,n],!0),()=>{this.useBoundIds.setState(o=>o.filter(a=>a!==n),!0)}),[n]);const r=this.useBoundIds(),{Provider:i}=this.useProvider(),s={modelContext:this.contextProvider};return(r.length===0||r[0]===n)&&k.jsx(yg,{adapters:s,children:k.jsx(this._hookManager.__internal_RenderThreadRuntimes,{provider:i})})});this.contextProvider=r,this._state.subscribe(()=>this._notifySubscribers()),this._hookManager=new Rk(n.runtimeHook,this),this.useProvider=Tr(()=>({Provider:n.adapter.unstable_Provider??E.Fragment})),this.__internal_setOptions(n),this.switchToNewThread()}get threadItems(){return this._state.value.threadData}getLoadThreadsPromise(){return this._loadThreadsPromise||(this._loadThreadsPromise=this._state.optimisticUpdate({execute:()=>this._options.adapter.list(),loading:n=>({...n,isLoading:!0}),then:(n,r)=>{const i=[],s=[],o={},a={};for(const l of r.threads){switch(l.status){case"regular":i.push(l.remoteId);break;case"archived":s.push(l.remoteId);break;default:{const c=l.status;throw new Error(`Unsupported state: ${c}`)}}const u=l.remoteId;o[l.remoteId]=u,a[u]={id:l.remoteId,remoteId:l.remoteId,externalId:l.externalId,status:l.status,title:l.title,initializeTask:Promise.resolve({remoteId:l.remoteId,externalId:l.externalId})}}return{...n,threadIds:i,archivedThreadIds:s,threadIdMap:{...n.threadIdMap,...o},threadData:{...n.threadData,...a}}}}).then(()=>{})),this._loadThreadsPromise}__internal_setOptions(n){if(this._options===n)return;this._options=n;const r=n.adapter.unstable_Provider??E.Fragment;r!==this.useProvider.getState().Provider&&this.useProvider.setState({Provider:r},!0),this._hookManager.setRuntimeHook(n.runtimeHook)}__internal_load(){this.getLoadThreadsPromise()}get isLoading(){return this._state.value.isLoading}get threadIds(){return this._state.value.threadIds}get archivedThreadIds(){return this._state.value.archivedThreadIds}get newThreadId(){return this._state.value.newThreadId}get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){const n=this._hookManager.getThreadRuntimeCore(this._mainThreadId);return n||Pk}getThreadRuntimeCore(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");const i=this._hookManager.getThreadRuntimeCore(r.id);if(!i)throw new Error("Thread not found");return i}getItemById(n){return zs(this._state.value,n)}async switchToThread(n){let r=this.getItemById(n);if(!r){const s=await this._options.adapter.fetch(n),o=this._state.value,a=s.remoteId,l={...o.threadData,[a]:{id:a,initializeTask:Promise.resolve({remoteId:s.remoteId,externalId:s.externalId}),remoteId:s.remoteId,externalId:s.externalId,status:s.status,title:s.title}},u={...o.threadIdMap,[s.remoteId]:a},c=s.status==="regular"?[...o.threadIds,s.remoteId]:o.threadIds,d=s.status==="archived"?[...o.archivedThreadIds,s.remoteId]:o.archivedThreadIds;this._state.update({...o,threadIds:c,archivedThreadIds:d,threadIdMap:u,threadData:l}),r=this.getItemById(n)}if(!r)throw new Error("Thread not found");if(this._mainThreadId===r.id)return;const i=this._hookManager.startThreadRuntime(r.id);this.mainThreadId!==void 0?await i:i.then(()=>this._notifySubscribers()),r.status==="archived"&&await this.unarchive(r.id),this._mainThreadId=r.id,this._notifySubscribers()}async switchToNewThread(){for(;this._state.baseValue.newThreadId!==void 0&&this._state.value.newThreadId===void 0;)await this._state.waitForUpdate();const n=this._state.value;let r=this._state.value.newThreadId;if(r===void 0){do r=`__LOCALID_${Dn()}`;while(n.threadIdMap[r]);const i=r;this._state.update({...n,newThreadId:r,threadIdMap:{...n.threadIdMap,[r]:i},threadData:{...n.threadData,[i]:{status:"new",id:r,remoteId:void 0,externalId:void 0,title:void 0}}})}return this.switchToThread(r)}rename(n,r){const i=this.getItemById(n);if(!i)throw new Error("Thread not found");if(i.status==="new")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{const{remoteId:s}=await i.initializeTask;return this._options.adapter.rename(s,r)},optimistic:s=>{const o=zs(s,n);return o?{...s,threadData:{...s.threadData,[o.id]:{...o,title:r}}}:s}})}async _ensureThreadIsNotMain(n){if(n===this.newThreadId)throw new Error("Cannot ensure new thread is not main");n===this._mainThreadId&&await this.switchToNewThread()}async archive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular")throw new Error("Thread is not yet initialized or already archived");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:i}=await r.initializeTask;return this._options.adapter.archive(i)},optimistic:i=>Ss(i,r.id,"archived")})}unarchive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="archived")throw new Error("Thread is not archived");return this._state.optimisticUpdate({execute:async()=>{try{const{remoteId:i}=await r.initializeTask;return await this._options.adapter.unarchive(i)}catch(i){throw await this._ensureThreadIsNotMain(r.id),i}},optimistic:i=>Ss(i,r.id,"regular")})}async delete(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:i}=await r.initializeTask;return await this._options.adapter.delete(i)},optimistic:i=>Ss(i,r.id,"deleted")})}async detach(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");await this._ensureThreadIsNotMain(r.id),this._hookManager.stopThreadRuntime(r.id)}}class Nk extends Xu{constructor(n){super();x(this,"threads");this.threads=new Mk(n,this._contextProvider)}get RenderComponent(){return this.threads.__internal_RenderComponent}}const Lk=e=>{const[t]=E.useState(()=>new Nk(e));return E.useEffect(()=>{t.threads.__internal_setOptions(e),t.threads.__internal_load()},[t,e]),E.useMemo(()=>new rc(t),[t])},Ok=e=>{if(Se().threadListItem.source!==null){if(!e.allowNesting)throw new Error("useRemoteThreadListRuntime cannot be nested inside another RemoteThreadListRuntime. Set allowNesting: true to allow nesting (the inner runtime will become a no-op).");return e.runtimeHook()}return Lk(e)};var zk=Symbol.for("react.lazy"),wo=Sw[" use ".trim().toString()];function Dk(e){return typeof e=="object"&&e!==null&&"then"in e}function Mg(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===zk&&"_payload"in e&&Dk(e._payload)}function Ng(e){const t=jk(e),n=E.forwardRef((r,i)=>{let{children:s,...o}=r;Mg(s)&&typeof wo=="function"&&(s=wo(s._payload));const a=E.Children.toArray(s),l=a.find(Bk);if(l){const u=l.props.children,c=a.map(d=>d===l?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:d);return k.jsx(t,{...o,ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,c):null})}return k.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var Lg=Ng("Slot");function jk(e){const t=E.forwardRef((n,r)=>{let{children:i,...s}=n;if(Mg(i)&&typeof wo=="function"&&(i=wo(i._payload)),E.isValidElement(i)){const o=Hk(i),a=Uk(s,i.props);return i.type!==E.Fragment&&(a.ref=r?bg(r,o):o),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fk=Symbol("radix.slottable");function Bk(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fk}function Uk(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Hk(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Vk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kt=Vk.reduce((e,t)=>{const n=Ng(`Primitive.${t}`),r=E.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function pr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}const sc=(e,t,n=[])=>{const r=E.forwardRef((i,s)=>{const o={},a={};Object.keys(i).forEach(u=>{n.includes(u)?o[u]=i[u]:a[u]=i[u]});const l=t(o)??void 0;return k.jsx(Kt.button,{type:"button",...a,ref:s,disabled:a.disabled||!l,onClick:pr(a.onClick,l)})});return r.displayName=e,r};function $k(e,t=globalThis==null?void 0:globalThis.document){const n=jn(e);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}const Yi=e=>{const t=E.useRef(void 0);return E.useCallback(r=>{t.current&&t.current(),r&&(t.current=e(r))},[e])},Og=(e,t)=>{const n=E.useCallback(r=>{if(!e)return;const i=e(),s=()=>{const a=t?t(r):r.offsetHeight;i.setHeight(a)},o=new ResizeObserver(s);return o.observe(r),s(),()=>{o.disconnect(),i.unregister()}},[e,t]);return Yi(n)},pf=E.createContext(!1),mf=(e,t)=>{const n=e.match(/^([\d.]+)(em|px|rem)$/);if(!n)return 0;const r=parseFloat(n[1]),i=n[2];if(i==="px")return r;if(i==="em"){const s=parseFloat(getComputedStyle(t).fontSize)||16;return r*s}if(i==="rem"){const s=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;return r*s}return 0},zg=({children:e,fillClampThreshold:t="10em",fillClampOffset:n="6em"})=>{const r=ne(l=>{var u;return l.message.isLast&&l.message.role==="assistant"&&l.message.index>=1&&((u=l.thread.messages.at(l.message.index-1))==null?void 0:u.role)==="user"}),i=ic({optional:!0}),s=E.useContext(pf),o=E.useCallback(l=>{if(!i||s)return;const u=()=>{const c=i.getState();if(c.turnAnchor==="top"&&r){const{viewport:d,inset:f,userMessage:h}=c.height,w=mf(t,l),S=mf(n,l),b=h<=w?h:S,p=Math.max(0,d-f-b);l.style.minHeight=`${p}px`,l.style.flexShrink="0",l.style.transition="min-height 0s"}else l.style.minHeight="",l.style.flexShrink="",l.style.transition=""};return u(),i.subscribe(u)},[i,r,s,t,n]),a=Yi(o);return k.jsx(pf.Provider,{value:!0,children:k.jsx(Lg,{ref:a,children:e})})};zg.displayName="ThreadPrimitive.ViewportSlack";const Wk=()=>{const e=Se(),t=ne(()=>e.message()),n=E.useCallback(r=>{const i=()=>{t.setIsHovering(!0)},s=()=>{t.setIsHovering(!1)};return r.addEventListener("mouseenter",i),r.addEventListener("mouseleave",s),r.matches(":hover")&&queueMicrotask(()=>t.setIsHovering(!0)),()=>{r.removeEventListener("mouseenter",i),r.removeEventListener("mouseleave",s),t.setIsHovering(!1)}},[t]);return Yi(n)},qk=()=>{const e=yo(i=>i.turnAnchor),t=yo(i=>i.registerUserMessageHeight),n=ne(i=>{var s;return e==="top"&&i.message.role==="user"&&i.message.index===i.thread.messages.length-2&&((s=i.thread.messages.at(-1))==null?void 0:s.role)==="assistant"}),r=E.useCallback(i=>i.offsetHeight,[]);return Og(n?t:null,r)},oc=E.forwardRef((e,t)=>{const n=Wk(),r=qk(),i=Vo(t,n,r),s=ne(o=>o.message.id);return k.jsx(zg,{children:k.jsx(Kt.div,{...e,ref:i,"data-message-id":s})})});oc.displayName="MessagePrimitive.Root";const Qk=Object.freeze({type:"complete"}),Yk=ee(({parts:e,getMessagePart:t})=>{const[n,r]=_t(!0),i=J(()=>{const o=e[e.length-1];return(o==null?void 0:o.status)??Qk},[e]),s=J(()=>({parts:e,collapsed:n,status:i}),[e,n,i]);return{state:s,methods:{getState:()=>s,setCollapsed:r,part:t}}}),Gk=({startIndex:e,endIndex:t,children:n})=>{const r=ne(o=>o.message.parts).slice(e,t+1),i=Se(),s=Se({chainOfThought:Yk({parts:r,getMessagePart:({index:o})=>{if(o<0||o>=r.length)throw new Error(`ChainOfThought part index ${o} is out of bounds (0..${r.length-1})`);return i.message().part({index:e+o})}})});return k.jsx(Un,{value:s,children:n})},Dg=()=>ne(t=>{if(t.part.type!=="text"&&t.part.type!=="reasoning")throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return t.part}),jg=E.forwardRef(({smooth:e=!0,component:t="span",...n},r)=>{const{text:i,status:s}=_g(Dg(),e);return k.jsx(t,{"data-status":s.type,...n,ref:r,children:i})});jg.displayName="MessagePartPrimitive.Text";const Kk=()=>ne(t=>{if(t.part.type!=="image")throw new Error("MessagePartImage can only be used inside image message parts.");return t.part}),Fg=E.forwardRef((e,t)=>{const{image:n}=Kk();return k.jsx(Kt.img,{src:n,...e,ref:t})});Fg.displayName="MessagePartPrimitive.Image";const Bg=({children:e})=>ne(n=>n.part.status.type==="running")?e:null;Bg.displayName="MessagePartPrimitive.InProgress";const gf=e=>Symbol.iterator in e,yf=e=>"entries"in e,wf=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[i,s]of n)if(!r.has(i)||!Object.is(s,r.get(i)))return!1;return!0},Jk=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let i=n.next(),s=r.next();for(;!i.done&&!s.done;){if(!Object.is(i.value,s.value))return!1;i=n.next(),s=r.next()}return!!i.done&&!!s.done};function Xk(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:gf(e)&&gf(t)?yf(e)&&yf(t)?wf(e,t):Jk(e,t):wf({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function Zk(e){const t=je.useRef(void 0);return n=>{const r=e(n);return Xk(t.current,r)?t.current:t.current=r}}const Ia=e=>{let t=-1;return{startGroup:n=>{t===-1&&(t=n)},endGroup:(n,r)=>{t!==-1&&(r.push({type:e,startIndex:t,endIndex:n}),t=-1)},finalize:(n,r)=>{t!==-1&&r.push({type:e,startIndex:t,endIndex:n})}}},e1=(e,t)=>{const n=[];if(t){const r=Ia("chainOfThoughtGroup");for(let i=0;i<e.length;i++){const s=e[i];s==="tool-call"||s==="reasoning"?r.startGroup(i):(r.endGroup(i-1,n),n.push({type:"single",index:i}))}r.finalize(e.length-1,n)}else{const r=Ia("toolGroup"),i=Ia("reasoningGroup");for(let s=0;s<e.length;s++){const o=e[s];o==="tool-call"?(i.endGroup(s-1,n),r.startGroup(s)):o==="reasoning"?(r.endGroup(s-1,n),i.startGroup(s)):(r.endGroup(s-1,n),i.endGroup(s-1,n),n.push({type:"single",index:s}))}r.finalize(e.length-1,n),i.finalize(e.length-1,n)}return n},t1=e=>{const t=ne(Zk(n=>n.message.parts.map(r=>r.type)));return E.useMemo(()=>t.length===0?[]:e1(t,e),[t,e])},n1=({Fallback:e,...t})=>{const n=ne(r=>{const i=r.tools.tools[t.toolName]??e;return Array.isArray(i)?i[0]??e:i});return n?k.jsx(n,{...t}):null},Bt={Text:()=>k.jsxs("p",{style:{whiteSpace:"pre-line"},children:[k.jsx(jg,{}),k.jsx(Bg,{children:k.jsx("span",{style:{fontFamily:"revert"},children:" "})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>k.jsx(Fg,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:e})=>e,ReasoningGroup:({children:e})=>e},r1=({components:{Text:e=Bt.Text,Reasoning:t=Bt.Reasoning,Image:n=Bt.Image,Source:r=Bt.Source,File:i=Bt.File,Unstable_Audio:s=Bt.Unstable_Audio,tools:o={}}={}})=>{var c,d;const a=Se(),l=ne(f=>f.part),u=l.type;if(u==="tool-call"){const f=a.part().addToolResult,h=a.part().resumeToolCall;if("Override"in o)return k.jsx(o.Override,{...l,addResult:f,resume:h});const w=((c=o.by_name)==null?void 0:c[l.toolName])??o.Fallback;return k.jsx(n1,{...l,Fallback:w,addResult:f,resume:h})}if(((d=l.status)==null?void 0:d.type)==="requires-action")throw new Error("Encountered unexpected requires-action status");switch(u){case"text":return k.jsx(e,{...l});case"reasoning":return k.jsx(t,{...l});case"source":return k.jsx(r,{...l});case"image":return k.jsx(n,{...l});case"file":return k.jsx(i,{...l});case"audio":return k.jsx(s,{...l});case"data":return null;default:const f=u;throw new Error(`Unknown message part type: ${f}`)}},Ds=E.memo(({index:e,components:t})=>k.jsx(Tk,{index:e,children:k.jsx(r1,{components:t})}),(e,t)=>{var n,r,i,s,o,a,l,u,c,d,f,h,w,S,b,p,m,y;return e.index===t.index&&((n=e.components)==null?void 0:n.Text)===((r=t.components)==null?void 0:r.Text)&&((i=e.components)==null?void 0:i.Reasoning)===((s=t.components)==null?void 0:s.Reasoning)&&((o=e.components)==null?void 0:o.Source)===((a=t.components)==null?void 0:a.Source)&&((l=e.components)==null?void 0:l.Image)===((u=t.components)==null?void 0:u.Image)&&((c=e.components)==null?void 0:c.File)===((d=t.components)==null?void 0:d.File)&&((f=e.components)==null?void 0:f.Unstable_Audio)===((h=t.components)==null?void 0:h.Unstable_Audio)&&((w=e.components)==null?void 0:w.tools)===((S=t.components)==null?void 0:S.tools)&&((b=e.components)==null?void 0:b.ToolGroup)===((p=t.components)==null?void 0:p.ToolGroup)&&((m=e.components)==null?void 0:m.ReasoningGroup)===((y=t.components)==null?void 0:y.ReasoningGroup)});Ds.displayName="MessagePrimitive.PartByIndex";const i1=({status:e,component:t})=>k.jsx(Ik,{text:"",isRunning:e.type==="running",children:k.jsx(t,{type:"text",text:"",status:e})}),s1=Object.freeze({type:"complete"}),o1=({components:e})=>{const t=ne(n=>n.message.status??s1);return e!=null&&e.Empty?k.jsx(e.Empty,{status:t}):k.jsx(i1,{status:t,component:(e==null?void 0:e.Text)??Bt.Text})},Ug=E.memo(o1,(e,t)=>{var n,r,i,s;return((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((i=e.components)==null?void 0:i.Text)===((s=t.components)==null?void 0:s.Text)}),a1=({components:e,enabled:t})=>ne(r=>{if(!t||r.message.parts.length===0)return!1;const i=r.message.parts[r.message.parts.length-1];return(i==null?void 0:i.type)!=="text"&&(i==null?void 0:i.type)!=="reasoning"})?k.jsx(Ug,{components:e}):null,l1=E.memo(a1,(e,t)=>{var n,r,i,s;return e.enabled===t.enabled&&((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((i=e.components)==null?void 0:i.Text)===((s=t.components)==null?void 0:s.Text)}),ac=({components:e,unstable_showEmptyOnNonTextEnd:t=!0})=>{const n=ne(o=>o.message.parts.length),r=!!(e!=null&&e.ChainOfThought),i=t1(r),s=E.useMemo(()=>n===0?k.jsx(Ug,{components:e}):i.map(o=>{if(o.type==="single")return k.jsx(Ds,{index:o.index,components:e},o.index);if(o.type==="chainOfThoughtGroup"){const a=e==null?void 0:e.ChainOfThought;return a?k.jsx(Gk,{startIndex:o.startIndex,endIndex:o.endIndex,children:k.jsx(a,{})},`chainOfThought-${o.startIndex}`):null}else if(o.type==="toolGroup"){const a=(e==null?void 0:e.ToolGroup)??Bt.ToolGroup;return k.jsx(a,{startIndex:o.startIndex,endIndex:o.endIndex,children:Array.from({length:o.endIndex-o.startIndex+1},(l,u)=>k.jsx(Ds,{index:o.startIndex+u,components:e},u))},`tool-${o.startIndex}`)}else{const a=(e==null?void 0:e.ReasoningGroup)??Bt.ReasoningGroup;return k.jsx(a,{startIndex:o.startIndex,endIndex:o.endIndex,children:Array.from({length:o.endIndex-o.startIndex+1},(l,u)=>k.jsx(Ds,{index:o.startIndex+u,components:e},u))},`reasoning-${o.startIndex}`)}}),[i,e,n]);return k.jsxs(k.Fragment,{children:[s,k.jsx(l1,{components:e,enabled:t})]})};ac.displayName="MessagePrimitive.Parts";const Hg=()=>{const e=Se(),t=ne(r=>r.thread.isRunning||!r.composer.isEditing||r.composer.isEmpty),n=E.useCallback(()=>{e.composer().send()},[e]);return t?null:n},Vg=sc("ComposerPrimitive.Send",Hg),lc=E.forwardRef(({onSubmit:e,...t},n)=>{const r=Hg(),i=s=>{s.preventDefault(),r&&r()};return k.jsx(Kt.form,{...t,ref:n,onSubmit:pr(e,i)})});lc.displayName="ComposerPrimitive.Root";function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fl.apply(null,arguments)}function u1(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var c1=E.useLayoutEffect,d1=function(t){var n=je.useRef(t);return c1(function(){n.current=t}),n},Sf=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},f1=function(t,n){var r=je.useRef();return je.useCallback(function(i){t.current=i,r.current&&Sf(r.current,null),r.current=n,n&&Sf(n,i)},[n])},vf={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},h1=function(t){Object.keys(vf).forEach(function(n){t.style.setProperty(n,vf[n],"important")})},xf=h1,ze=null,_f=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function p1(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),ze||(ze=document.createElement("textarea"),ze.setAttribute("tabindex","-1"),ze.setAttribute("aria-hidden","true"),xf(ze)),ze.parentNode===null&&document.body.appendChild(ze);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(f){var h=f;ze.style[h]=o[h]}),xf(ze),ze.value=t;var l=_f(ze,e);ze.value=t,l=_f(ze,e),ze.value="x";var u=ze.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+s),l=Math.min(d,l),[l,u]}var kf=function(){},m1=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},g1=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],y1=!!document.documentElement.currentStyle,w1=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=m1(g1,n),i=r.boxSizing;if(i==="")return null;y1&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},S1=w1;function uc(e,t,n){var r=d1(n);E.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var v1=function(t,n){uc(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},x1=function(t){uc(window,"resize",t)},_1=function(t){uc(document.fonts,"loadingdone",t)},k1=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],E1=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?kf:o,l=t.onHeightChange,u=l===void 0?kf:l,c=u1(t,k1),d=c.value!==void 0,f=E.useRef(null),h=f1(f,n),w=E.useRef(0),S=E.useRef(),b=function(){var y=f.current,C=r&&S.current?S.current:S1(y);if(C){S.current=C;var R=p1(C,y.value||y.placeholder||"x",s,i),_=R[0],P=R[1];w.current!==_&&(w.current=_,y.style.setProperty("height",_+"px","important"),u(_,{rowHeight:P}))}},p=function(y){d||b(),a(y)};return E.useLayoutEffect(b),v1(f,function(){if(!d){var m=f.current.value;requestAnimationFrame(function(){var y=f.current;y&&m!==y.value&&b()})}}),x1(b),_1(b),E.createElement("textarea",Fl({},c,{onChange:p,ref:h}))},C1=E.forwardRef(E1);const $g=e=>{const t=jn(e),n=yo(r=>r.onScrollToBottom);E.useEffect(()=>n(t),[n,t])},cc=E.forwardRef(({autoFocus:e=!1,asChild:t,disabled:n,onChange:r,onKeyDown:i,onPaste:s,submitOnEnter:o,submitMode:a,cancelOnEscape:l=!0,unstable_focusOnRunStart:u=!0,unstable_focusOnScrollToBottom:c=!0,unstable_focusOnThreadSwitched:d=!0,addAttachmentOnPaste:f=!0,...h},w)=>{const S=Se(),b=a??(o===!1?"none":"enter"),p=ne(A=>A.composer.isEditing?A.composer.text:""),m=t?Lg:C1,y=ne(A=>{var L;return A.thread.isDisabled||((L=A.composer.dictation)==null?void 0:L.inputDisabled)})||n,C=E.useRef(null),R=Vo(w,C);$k(A=>{var D;if(!l||!((D=C.current)!=null&&D.contains(A.target)))return;const L=S.composer();L.getState().canCancel&&(L.cancel(),A.preventDefault())});const _=A=>{var L,D;if(!y&&!A.nativeEvent.isComposing&&A.key==="Enter"&&!A.shiftKey){if(S.thread().getState().isRunning)return;let Y=!1;b==="ctrlEnter"?Y=A.ctrlKey||A.metaKey:b==="enter"&&(Y=!0),Y&&(A.preventDefault(),(D=(L=C.current)==null?void 0:L.closest("form"))==null||D.requestSubmit())}},P=async A=>{var W;if(!f)return;const L=S.thread().getState().capabilities,D=Array.from(((W=A.clipboardData)==null?void 0:W.files)||[]);if(L.attachments&&D.length>0)try{A.preventDefault(),await Promise.all(D.map(Y=>S.composer().addAttachment(Y)))}catch(Y){console.error("Error adding attachment:",Y)}},I=e&&!y,F=E.useCallback(()=>{const A=C.current;!A||!I||(A.focus({preventScroll:!0}),A.setSelectionRange(A.value.length,A.value.length))},[I]);return E.useEffect(()=>F(),[F]),$g(()=>{S.composer().getState().type==="thread"&&c&&F()}),E.useEffect(()=>{if(!(S.composer().getState().type!=="thread"||!u))return S.on("thread.runStart",F)},[u,F,S]),E.useEffect(()=>{if(!(S.composer().getState().type!=="thread"||!d))return S.on("threadListItem.switchedTo",F)},[d,F,S]),k.jsx(m,{name:"input",value:p,...h,ref:R,disabled:y,onChange:pr(r,A=>{S.composer().getState().isEditing&&Om(()=>{S.composer().setText(A.target.value)})}),onKeyDown:pr(i,_),onPaste:pr(s,P)})});cc.displayName="ComposerPrimitive.Input";const T1=()=>{const e=Se(),t=ne(r=>!r.composer.canCancel),n=E.useCallback(()=>{e.composer().cancel()},[e]);return t?null:n},b1=sc("ComposerPrimitive.Cancel",T1),Wg=E.forwardRef((e,t)=>k.jsx(Kt.div,{...e,ref:t}));Wg.displayName="ThreadPrimitive.Root";const qg=({children:e})=>ne(n=>n.thread.messages.length===0&&!n.thread.isLoading)?e:null;qg.displayName="ThreadPrimitive.Empty";const I1=e=>{const t=jn(e),n=E.useCallback(r=>{const i=new ResizeObserver(()=>{t()}),s=new MutationObserver(o=>{o.some(l=>l.type!=="attributes"||l.attributeName!=="style")&&t()});return i.observe(r),s.observe(r,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{i.disconnect(),s.disconnect()}},[t]);return Yi(n)},Qg=({autoScroll:e,scrollToBottomOnRunStart:t=!0,scrollToBottomOnInitialize:n=!0,scrollToBottomOnThreadSwitch:r=!0})=>{const i=E.useRef(null),s=ic();e===void 0&&(e=s.getState().turnAnchor!=="top");const o=E.useRef(0),a=E.useRef(null),l=E.useCallback(h=>{const w=i.current;w&&(a.current=h,w.scrollTo({top:w.scrollHeight,behavior:h}))},[]),u=()=>{const h=i.current;if(!h)return;const w=s.getState().isAtBottom,S=Math.abs(h.scrollHeight-h.scrollTop-h.clientHeight)<1||h.scrollHeight<=h.clientHeight;!S&&o.current<h.scrollTop||(S&&(a.current=null),(S||a.current===null)&&S!==w&&Li(s).setState({isAtBottom:S})),o.current=h.scrollTop},c=I1(()=>{const h=a.current;h?l(h):e&&s.getState().isAtBottom&&l("instant"),u()}),d=Yi(h=>(h.addEventListener("scroll",u),()=>{h.removeEventListener("scroll",u)}));return $g(({behavior:h})=>{l(h)}),xa("thread.runStart",()=>{t&&(a.current="auto",requestAnimationFrame(()=>{l("auto")}))}),xa("thread.initialize",()=>{n&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),xa("threadListItem.switchedTo",()=>{r&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),Vo(c,d,i)},R1=()=>{const e=yo(n=>n.registerViewport),t=E.useCallback(n=>n.clientHeight,[]);return Og(e,t)},Yg=E.forwardRef(({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r,children:i,...s},o)=>{const a=Qg({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r}),l=R1(),u=Vo(o,a,l);return k.jsx(Kt.div,{...s,ref:u,children:i})});Yg.displayName="ThreadPrimitive.ViewportScrollable";const Gg=E.forwardRef(({turnAnchor:e,...t},n)=>k.jsx(Ag,{options:{turnAnchor:e},children:k.jsx(Yg,{...t,ref:n})}));Gg.displayName="ThreadPrimitive.Viewport";const Kg=(e,t)=>e.Message===t.Message&&e.EditComposer===t.EditComposer&&e.UserEditComposer===t.UserEditComposer&&e.AssistantEditComposer===t.AssistantEditComposer&&e.SystemEditComposer===t.SystemEditComposer&&e.UserMessage===t.UserMessage&&e.AssistantMessage===t.AssistantMessage&&e.SystemMessage===t.SystemMessage,P1=()=>null,A1=(e,t,n)=>{switch(t){case"user":return n?e.UserEditComposer??e.EditComposer??e.UserMessage??e.Message:e.UserMessage??e.Message;case"assistant":return n?e.AssistantEditComposer??e.EditComposer??e.AssistantMessage??e.Message:e.AssistantMessage??e.Message;case"system":return n?e.SystemEditComposer??e.EditComposer??e.SystemMessage??e.Message:e.SystemMessage??P1;default:const r=t;throw new Error(`Unknown message role: ${r}`)}},M1=({components:e})=>{const t=ne(i=>i.message.role),n=ne(i=>i.message.composer.isEditing),r=A1(e,t,n);return k.jsx(r,{})},Jg=E.memo(({index:e,components:t})=>k.jsx(Ck,{index:e,children:k.jsx(M1,{components:t})}),(e,t)=>e.index===t.index&&Kg(e.components,t.components));Jg.displayName="ThreadPrimitive.MessageByIndex";const Xg=({components:e})=>{const t=ne(r=>r.thread.messages.length);return E.useMemo(()=>t===0?null:Array.from({length:t},(r,i)=>k.jsx(Jg,{index:i,components:e},i)),[t,e])};Xg.displayName="ThreadPrimitive.Messages";const N1=E.memo(Xg,(e,t)=>Kg(e.components,t.components)),Zg=E.forwardRef(({onClick:e,disabled:t,...n},r)=>{const i=ne(o=>o.threads.newThreadId===o.threads.mainThreadId),s=Se();return k.jsx(Kt.button,{type:"button",...i?{"data-active":"true","aria-current":"true"}:null,...n,ref:r,disabled:t,onClick:pr(e,()=>{s.threads().switchToNewThread()})})});Zg.displayName="ThreadListPrimitive.New";const ey=E.memo(({index:e,archived:t=!1,components:n})=>{const r=n.ThreadListItem;return k.jsx(kk,{index:e,archived:t,children:k.jsx(r,{})})},(e,t)=>e.index===t.index&&e.archived===t.archived&&e.components.ThreadListItem===t.components.ThreadListItem);ey.displayName="ThreadListPrimitive.ItemByIndex";const ty=({archived:e=!1,components:t})=>{const n=ne(i=>e?i.threads.archivedThreadIds.length:i.threads.threadIds.length);return E.useMemo(()=>Array.from({length:n},(i,s)=>k.jsx(ey,{index:s,archived:e,components:t},s)),[n,e,t])};ty.displayName="ThreadListPrimitive.Items";const ny=E.forwardRef((e,t)=>k.jsx(Kt.div,{...e,ref:t}));ny.displayName="ThreadListPrimitive.Root";const ry=E.forwardRef((e,t)=>{const n=ne(r=>r.threads.mainThreadId===r.threadListItem.id);return k.jsx(Kt.div,{...n?{"data-active":"true","aria-current":"true"}:null,...e,ref:t})});ry.displayName="ThreadListItemPrimitive.Root";const L1=()=>{const e=Se();return E.useCallback(()=>{e.threadListItem().switchTo()},[e])},O1=sc("ThreadListItemPrimitive.Trigger",L1),iy=({fallback:e})=>{const t=ne(n=>n.threadListItem.title);return k.jsx(k.Fragment,{children:t||e})};iy.displayName="ThreadListItemPrimitive.Title";const z1="http://localhost:8000",D1=`${z1}/chat/stream`,Ef="assistant_ui_session_id";function j1(){const e=window.localStorage.getItem(Ef);if(e)return e;const t=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`session-${Date.now()}`;return window.localStorage.setItem(Ef,t),t}function F1(e){return typeof e=="string"?e:Array.isArray(e)?e.filter(t=>t&&typeof t=="object").map(t=>{const n=t.text;return typeof n=="string"?n:""}).join(""):""}function B1(e){for(let t=e.length-1;t>=0;t-=1){const n=e[t];if(n.role==="user")return F1(n.content).trim()}return""}async function*U1(e,t){if(!e.body)throw new Error("Streaming response has no body.");const n=new TextDecoder,r=e.body.getReader();let i="";for(;;){if(t!=null&&t.aborted){r.cancel();return}const{done:s,value:o}=await r.read();if(s)break;i+=n.decode(o,{stream:!0});let a=i.indexOf(`

`);for(;a!==-1;){const l=i.slice(0,a);i=i.slice(a+2);for(const u of l.split(`
`)){if(!u.startsWith("data: "))continue;yield JSON.parse(u.slice(6))}a=i.indexOf(`

`)}}}const H1={async*run({messages:e,abortSignal:t,unstable_threadId:n}){var a;const r=B1(e);if(!r){yield{content:[{type:"text",text:"Type a message to begin."}]};return}const i=(n??j1()).slice(0,128),s=await fetch(D1,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r,session_id:i}),signal:t});if(!s.ok)throw new Error(`Request failed (${s.status}).`);let o="";for await(const l of U1(s,t))if(l.type==="token")o+=l.content||"",yield{content:[{type:"text",text:o}]};else if(l.type==="end"){yield{content:[{type:"text",text:(a=l.content)!=null&&a.trim()?l.content:o}]};return}else if(l.type==="error")throw new Error(l.content||"Streaming failed.");o.trim()&&(yield{content:[{type:"text",text:o}]})}};function V1(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const $1=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,W1=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,q1={};function Cf(e,t){return(q1.jsx?W1:$1).test(e)}const Q1=/[ \t\n\f\r]/g;function Y1(e){return typeof e=="object"?e.type==="text"?Tf(e.value):!1:Tf(e)}function Tf(e){return e.replace(Q1,"")===""}class Gi{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Gi.prototype.normal={};Gi.prototype.property={};Gi.prototype.space=void 0;function sy(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Gi(n,r,t)}function Bl(e){return e.toLowerCase()}class Ge{constructor(t,n){this.attribute=n,this.property=t}}Ge.prototype.attribute="";Ge.prototype.booleanish=!1;Ge.prototype.boolean=!1;Ge.prototype.commaOrSpaceSeparated=!1;Ge.prototype.commaSeparated=!1;Ge.prototype.defined=!1;Ge.prototype.mustUseProperty=!1;Ge.prototype.number=!1;Ge.prototype.overloadedBoolean=!1;Ge.prototype.property="";Ge.prototype.spaceSeparated=!1;Ge.prototype.space=void 0;let G1=0;const V=Vn(),ve=Vn(),Ul=Vn(),N=Vn(),ie=Vn(),mr=Vn(),Je=Vn();function Vn(){return 2**++G1}const Hl=Object.freeze(Object.defineProperty({__proto__:null,boolean:V,booleanish:ve,commaOrSpaceSeparated:Je,commaSeparated:mr,number:N,overloadedBoolean:Ul,spaceSeparated:ie},Symbol.toStringTag,{value:"Module"})),Ra=Object.keys(Hl);class dc extends Ge{constructor(t,n,r,i){let s=-1;if(super(t,n),bf(this,"space",i),typeof r=="number")for(;++s<Ra.length;){const o=Ra[s];bf(this,Ra[s],(r&Hl[o])===Hl[o])}}}dc.prototype.defined=!0;function bf(e,t,n){n&&(e[t]=n)}function Ar(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new dc(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Bl(r)]=r,n[Bl(s.attribute)]=r}return new Gi(t,n,e.space)}const oy=Ar({properties:{ariaActiveDescendant:null,ariaAtomic:ve,ariaAutoComplete:null,ariaBusy:ve,ariaChecked:ve,ariaColCount:N,ariaColIndex:N,ariaColSpan:N,ariaControls:ie,ariaCurrent:null,ariaDescribedBy:ie,ariaDetails:null,ariaDisabled:ve,ariaDropEffect:ie,ariaErrorMessage:null,ariaExpanded:ve,ariaFlowTo:ie,ariaGrabbed:ve,ariaHasPopup:null,ariaHidden:ve,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ie,ariaLevel:N,ariaLive:null,ariaModal:ve,ariaMultiLine:ve,ariaMultiSelectable:ve,ariaOrientation:null,ariaOwns:ie,ariaPlaceholder:null,ariaPosInSet:N,ariaPressed:ve,ariaReadOnly:ve,ariaRelevant:null,ariaRequired:ve,ariaRoleDescription:ie,ariaRowCount:N,ariaRowIndex:N,ariaRowSpan:N,ariaSelected:ve,ariaSetSize:N,ariaSort:null,ariaValueMax:N,ariaValueMin:N,ariaValueNow:N,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function ay(e,t){return t in e?e[t]:t}function ly(e,t){return ay(e,t.toLowerCase())}const K1=Ar({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:mr,acceptCharset:ie,accessKey:ie,action:null,allow:null,allowFullScreen:V,allowPaymentRequest:V,allowUserMedia:V,alt:null,as:null,async:V,autoCapitalize:null,autoComplete:ie,autoFocus:V,autoPlay:V,blocking:ie,capture:null,charSet:null,checked:V,cite:null,className:ie,cols:N,colSpan:null,content:null,contentEditable:ve,controls:V,controlsList:ie,coords:N|mr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:V,defer:V,dir:null,dirName:null,disabled:V,download:Ul,draggable:ve,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:V,formTarget:null,headers:ie,height:N,hidden:Ul,high:N,href:null,hrefLang:null,htmlFor:ie,httpEquiv:ie,id:null,imageSizes:null,imageSrcSet:null,inert:V,inputMode:null,integrity:null,is:null,isMap:V,itemId:null,itemProp:ie,itemRef:ie,itemScope:V,itemType:ie,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:V,low:N,manifest:null,max:null,maxLength:N,media:null,method:null,min:null,minLength:N,multiple:V,muted:V,name:null,nonce:null,noModule:V,noValidate:V,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:V,optimum:N,pattern:null,ping:ie,placeholder:null,playsInline:V,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:V,referrerPolicy:null,rel:ie,required:V,reversed:V,rows:N,rowSpan:N,sandbox:ie,scope:null,scoped:V,seamless:V,selected:V,shadowRootClonable:V,shadowRootDelegatesFocus:V,shadowRootMode:null,shape:null,size:N,sizes:null,slot:null,span:N,spellCheck:ve,src:null,srcDoc:null,srcLang:null,srcSet:null,start:N,step:null,style:null,tabIndex:N,target:null,title:null,translate:null,type:null,typeMustMatch:V,useMap:null,value:ve,width:N,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ie,axis:null,background:null,bgColor:null,border:N,borderColor:null,bottomMargin:N,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:V,declare:V,event:null,face:null,frame:null,frameBorder:null,hSpace:N,leftMargin:N,link:null,longDesc:null,lowSrc:null,marginHeight:N,marginWidth:N,noResize:V,noHref:V,noShade:V,noWrap:V,object:null,profile:null,prompt:null,rev:null,rightMargin:N,rules:null,scheme:null,scrolling:ve,standby:null,summary:null,text:null,topMargin:N,valueType:null,version:null,vAlign:null,vLink:null,vSpace:N,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:V,disableRemotePlayback:V,prefix:null,property:null,results:N,security:null,unselectable:null},space:"html",transform:ly}),J1=Ar({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Je,accentHeight:N,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:N,amplitude:N,arabicForm:null,ascent:N,attributeName:null,attributeType:null,azimuth:N,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:N,by:null,calcMode:null,capHeight:N,className:ie,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:N,diffuseConstant:N,direction:null,display:null,dur:null,divisor:N,dominantBaseline:null,download:V,dx:null,dy:null,edgeMode:null,editable:null,elevation:N,enableBackground:null,end:null,event:null,exponent:N,externalResourcesRequired:null,fill:null,fillOpacity:N,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:mr,g2:mr,glyphName:mr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:N,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:N,horizOriginX:N,horizOriginY:N,id:null,ideographic:N,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:N,k:N,k1:N,k2:N,k3:N,k4:N,kernelMatrix:Je,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:N,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:N,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:N,overlineThickness:N,paintOrder:null,panose1:null,path:null,pathLength:N,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ie,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:N,pointsAtY:N,pointsAtZ:N,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Je,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Je,rev:Je,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Je,requiredFeatures:Je,requiredFonts:Je,requiredFormats:Je,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:N,specularExponent:N,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:N,strikethroughThickness:N,string:null,stroke:null,strokeDashArray:Je,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:N,strokeOpacity:N,strokeWidth:null,style:null,surfaceScale:N,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Je,tabIndex:N,tableValues:null,target:null,targetX:N,targetY:N,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Je,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:N,underlineThickness:N,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:N,values:null,vAlphabetic:N,vMathematical:N,vectorEffect:null,vHanging:N,vIdeographic:N,version:null,vertAdvY:N,vertOriginX:N,vertOriginY:N,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:N,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ay}),uy=Ar({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),cy=Ar({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ly}),dy=Ar({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),X1={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Z1=/[A-Z]/g,If=/-[a-z]/g,eE=/^data[-\w.:]+$/i;function tE(e,t){const n=Bl(t);let r=t,i=Ge;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&eE.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(If,rE);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!If.test(s)){let o=s.replace(Z1,nE);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=dc}return new i(r,t)}function nE(e){return"-"+e.toLowerCase()}function rE(e){return e.charAt(1).toUpperCase()}const iE=sy([oy,K1,uy,cy,dy],"html"),fc=sy([oy,J1,uy,cy,dy],"svg");function sE(e){return e.join(" ").trim()}var hc={},Rf=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,oE=/\n/g,aE=/^\s*/,lE=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,uE=/^:\s*/,cE=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,dE=/^[;\s]*/,fE=/^\s+|\s+$/g,hE=`
`,Pf="/",Af="*",Cn="",pE="comment",mE="declaration";function gE(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(w){var S=w.match(oE);S&&(n+=S.length);var b=w.lastIndexOf(hE);r=~b?w.length-b:r+w.length}function s(){var w={line:n,column:r};return function(S){return S.position=new o(w),u(),S}}function o(w){this.start=w,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(w){var S=new Error(t.source+":"+n+":"+r+": "+w);if(S.reason=w,S.filename=t.source,S.line=n,S.column=r,S.source=e,!t.silent)throw S}function l(w){var S=w.exec(e);if(S){var b=S[0];return i(b),e=e.slice(b.length),S}}function u(){l(aE)}function c(w){var S;for(w=w||[];S=d();)S!==!1&&w.push(S);return w}function d(){var w=s();if(!(Pf!=e.charAt(0)||Af!=e.charAt(1))){for(var S=2;Cn!=e.charAt(S)&&(Af!=e.charAt(S)||Pf!=e.charAt(S+1));)++S;if(S+=2,Cn===e.charAt(S-1))return a("End of comment missing");var b=e.slice(2,S-2);return r+=2,i(b),e=e.slice(S),r+=2,w({type:pE,comment:b})}}function f(){var w=s(),S=l(lE);if(S){if(d(),!l(uE))return a("property missing ':'");var b=l(cE),p=w({type:mE,property:Mf(S[0].replace(Rf,Cn)),value:b?Mf(b[0].replace(Rf,Cn)):Cn});return l(dE),p}}function h(){var w=[];c(w);for(var S;S=f();)S!==!1&&(w.push(S),c(w));return w}return u(),h()}function Mf(e){return e?e.replace(fE,Cn):Cn}var yE=gE,wE=Bs&&Bs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hc,"__esModule",{value:!0});hc.default=vE;const SE=wE(yE);function vE(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,SE.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:a}=s;i?t(o,a,s):a&&(n=n||{},n[o]=a)}),n}var $o={};Object.defineProperty($o,"__esModule",{value:!0});$o.camelCase=void 0;var xE=/^--[a-zA-Z0-9_-]+$/,_E=/-([a-z])/g,kE=/^[^-]+$/,EE=/^-(webkit|moz|ms|o|khtml)-/,CE=/^-(ms)-/,TE=function(e){return!e||kE.test(e)||xE.test(e)},bE=function(e,t){return t.toUpperCase()},Nf=function(e,t){return"".concat(t,"-")},IE=function(e,t){return t===void 0&&(t={}),TE(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(CE,Nf):e=e.replace(EE,Nf),e.replace(_E,bE))};$o.camelCase=IE;var RE=Bs&&Bs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},PE=RE(hc),AE=$o;function Vl(e,t){var n={};return!e||typeof e!="string"||(0,PE.default)(e,function(r,i){r&&i&&(n[(0,AE.camelCase)(r,t)]=i)}),n}Vl.default=Vl;var ME=Vl;const NE=Bi(ME),fy=hy("end"),pc=hy("start");function hy(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function LE(e){const t=pc(e),n=fy(e);if(t&&n)return{start:t,end:n}}function fi(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Lf(e.position):"start"in e||"end"in e?Lf(e):"line"in e||"column"in e?$l(e):""}function $l(e){return Of(e&&e.line)+":"+Of(e&&e.column)}function Lf(e){return $l(e&&e.start)+"-"+$l(e&&e.end)}function Of(e){return e&&typeof e=="number"?e:1}class Oe extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=fi(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Oe.prototype.file="";Oe.prototype.name="";Oe.prototype.reason="";Oe.prototype.message="";Oe.prototype.stack="";Oe.prototype.column=void 0;Oe.prototype.line=void 0;Oe.prototype.ancestors=void 0;Oe.prototype.cause=void 0;Oe.prototype.fatal=void 0;Oe.prototype.place=void 0;Oe.prototype.ruleId=void 0;Oe.prototype.source=void 0;const mc={}.hasOwnProperty,OE=new Map,zE=/[A-Z]/g,DE=new Set(["table","tbody","thead","tfoot","tr"]),jE=new Set(["td","th"]),py="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function FE(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=QE(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=qE(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fc:iE,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=my(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function my(e,t,n){if(t.type==="element")return BE(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return UE(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return VE(e,t,n);if(t.type==="mdxjsEsm")return HE(e,t);if(t.type==="root")return $E(e,t,n);if(t.type==="text")return WE(e,t)}function BE(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=fc,e.schema=i),e.ancestors.push(t);const s=yy(e,t.tagName,!1),o=YE(e,t);let a=yc(e,t);return DE.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Y1(l):!0})),gy(e,o,s,t),gc(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function UE(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Oi(e,t.position)}function HE(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Oi(e,t.position)}function VE(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=fc,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:yy(e,t.name,!0),o=GE(e,t),a=yc(e,t);return gy(e,o,s,t),gc(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function $E(e,t,n){const r={};return gc(r,yc(e,t)),e.create(t,e.Fragment,r,n)}function WE(e,t){return t.value}function gy(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function gc(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function qE(e,t,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:t;return a?u(s,o,a):u(s,o)}}function QE(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=pc(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function YE(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&mc.call(t.properties,i)){const s=KE(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&jE.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function GE(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Oi(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Oi(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function yc(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:OE;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=my(e,s,o);a!==void 0&&n.push(a)}return n}function KE(e,t,n){const r=tE(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?V1(n):sE(n)),r.property==="style"){let i=typeof n=="object"?n:JE(e,String(n));return e.stylePropertyNameCase==="css"&&(i=XE(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?X1[r.property]||r.property:r.attribute,n]}}function JE(e,t){try{return NE(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Oe("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=py+"#cannot-parse-style-attribute",i}}function yy(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=Cf(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Cf(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return mc.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Oi(e)}function Oi(e,t){const n=new Oe("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=py+"#cannot-handle-mdx-estrees-without-createevaluater",n}function XE(e){const t={};let n;for(n in e)mc.call(e,n)&&(t[ZE(n)]=e[n]);return t}function ZE(e){let t=e.replace(zE,e0);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function e0(e){return"-"+e.toLowerCase()}const Pa={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},t0={};function n0(e,t){const n=t0,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return wy(e,r,i)}function wy(e,t,n){if(r0(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return zf(e.children,t,n)}return Array.isArray(e)?zf(e,t,n):""}function zf(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=wy(e[i],t,n);return r.join("")}function r0(e){return!!(e&&typeof e=="object")}const Df=document.createElement("i");function wc(e){const t="&"+e+";";Df.innerHTML=t;const n=Df.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Lt(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function at(e,t){return e.length>0?(Lt(e,e.length,0,t),e):t}const jf={}.hasOwnProperty;function i0(e){const t={};let n=-1;for(;++n<e.length;)s0(t,e[n]);return t}function s0(e,t){let n;for(n in t){const i=(jf.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){jf.call(i,o)||(i[o]=[]);const a=s[o];o0(i[o],Array.isArray(a)?a:a?[a]:[])}}}function o0(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Lt(e,0,0,r)}function Sy(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function gr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Rt=xn(/[A-Za-z]/),et=xn(/[\dA-Za-z]/),a0=xn(/[#-'*+\--9=?A-Z^-~]/);function Wl(e){return e!==null&&(e<32||e===127)}const ql=xn(/\d/),l0=xn(/[\dA-Fa-f]/),u0=xn(/[!-/:-@[-`{-~]/);function U(e){return e!==null&&e<-2}function Ye(e){return e!==null&&(e<0||e===32)}function X(e){return e===-2||e===-1||e===32}const c0=xn(new RegExp("\\p{P}|\\p{S}","u")),d0=xn(/\s/);function xn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Mr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&et(e.charCodeAt(n+1))&&et(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function oe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return X(l)?(e.enter(n),a(l)):t(l)}function a(l){return X(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const f0={tokenize:h0};function h0(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),oe(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return U(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const p0={tokenize:m0},Ff={tokenize:g0};function m0(e){const t=this,n=[];let r=0,i,s,o;return a;function a(y){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,l,u)(y)}return u(y)}function l(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&m();const C=t.events.length;let R=C,_;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){_=t.events[R][1].end;break}p(r);let P=C;for(;P<t.events.length;)t.events[P][1].end={..._},P++;return Lt(t.events,R+1,0,t.events.slice(C)),t.events.length=P,u(y)}return a(y)}function u(y){if(r===n.length){if(!i)return f(y);if(i.currentConstruct&&i.currentConstruct.concrete)return w(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ff,c,d)(y)}function c(y){return i&&m(),p(r),f(y)}function d(y){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,w(y)}function f(y){return t.containerState={},e.attempt(Ff,h,w)(y)}function h(y){return r++,n.push([t.currentConstruct,t.containerState]),f(y)}function w(y){if(y===null){i&&m(),p(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),S(y)}function S(y){if(y===null){b(e.exit("chunkFlow"),!0),p(0),e.consume(y);return}return U(y)?(e.consume(y),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(y),S)}function b(y,C){const R=t.sliceStream(y);if(C&&R.push(null),y.previous=s,s&&(s.next=y),s=y,i.defineSkip(y.start),i.write(R),t.parser.lazy[y.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const P=t.events.length;let I=P,F,A;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(F){A=t.events[I][1].end;break}F=!0}for(p(r),_=P;_<t.events.length;)t.events[_][1].end={...A},_++;Lt(t.events,I+1,0,t.events.slice(P)),t.events.length=_}}function p(y){let C=n.length;for(;C-- >y;){const R=n[C];t.containerState=R[1],R[0].exit.call(t,e)}n.length=y}function m(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function g0(e,t,n){return oe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Bf(e){if(e===null||Ye(e)||d0(e))return 1;if(c0(e))return 2}function Sc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Ql={name:"attention",resolveAll:y0,tokenize:w0};function y0(e,t){let n=-1,r,i,s,o,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};Uf(d,-l),Uf(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=at(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=at(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=at(u,Sc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=at(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=at(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Lt(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function w0(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Bf(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),c=Bf(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),t(l)}}function Uf(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const S0={name:"autolink",tokenize:v0};function v0(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return Rt(h)?(e.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||et(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||et(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Wl(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):a0(h)?(e.consume(h),u):n(h)}function c(h){return et(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||et(h))&&r++<63){const w=h===45?f:d;return e.consume(h),w}return n(h)}}const Wo={partial:!0,tokenize:x0};function x0(e,t,n){return r;function r(s){return X(s)?oe(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||U(s)?t(s):n(s)}}const vy={continuation:{tokenize:k0},exit:E0,name:"blockQuote",tokenize:_0};function _0(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return X(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function k0(e,t,n){const r=this;return i;function i(o){return X(o)?oe(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(vy,t,n)(o)}}function E0(e){e.exit("blockQuote")}const xy={name:"characterEscape",tokenize:C0};function C0(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return u0(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const _y={name:"characterReference",tokenize:T0};function T0(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=et,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=l0,c):(e.enter("characterReferenceValue"),s=7,o=ql,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return o===et&&!wc(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<s?(e.consume(d),c):n(d)}}const Hf={partial:!0,tokenize:I0},Vf={concrete:!0,name:"codeFenced",tokenize:b0};function b0(e,t,n){const r=this,i={partial:!0,tokenize:R};let s=0,o=0,a;return l;function l(_){return u(_)}function u(_){const P=r.events[r.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,a=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(_)}function c(_){return _===a?(o++,e.consume(_),c):o<3?n(_):(e.exit("codeFencedFenceSequence"),X(_)?oe(e,d,"whitespace")(_):d(_))}function d(_){return _===null||U(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(Hf,S,C)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(_))}function f(_){return _===null||U(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(_)):X(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),oe(e,h,"whitespace")(_)):_===96&&_===a?n(_):(e.consume(_),f)}function h(_){return _===null||U(_)?d(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(_))}function w(_){return _===null||U(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(_)):_===96&&_===a?n(_):(e.consume(_),w)}function S(_){return e.attempt(i,C,b)(_)}function b(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),p}function p(_){return s>0&&X(_)?oe(e,m,"linePrefix",s+1)(_):m(_)}function m(_){return _===null||U(_)?e.check(Hf,S,C)(_):(e.enter("codeFlowValue"),y(_))}function y(_){return _===null||U(_)?(e.exit("codeFlowValue"),m(_)):(e.consume(_),y)}function C(_){return e.exit("codeFenced"),t(_)}function R(_,P,I){let F=0;return A;function A($){return _.enter("lineEnding"),_.consume($),_.exit("lineEnding"),L}function L($){return _.enter("codeFencedFence"),X($)?oe(_,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):D($)}function D($){return $===a?(_.enter("codeFencedFenceSequence"),W($)):I($)}function W($){return $===a?(F++,_.consume($),W):F>=o?(_.exit("codeFencedFenceSequence"),X($)?oe(_,Y,"whitespace")($):Y($)):I($)}function Y($){return $===null||U($)?(_.exit("codeFencedFence"),P($)):I($)}}}function I0(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Aa={name:"codeIndented",tokenize:P0},R0={partial:!0,tokenize:A0};function P0(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),oe(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):U(u)?e.attempt(R0,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||U(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function A0(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):U(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):oe(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):U(o)?i(o):n(o)}}const M0={name:"codeText",previous:L0,resolve:N0,tokenize:O0};function N0(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function L0(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function O0(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,c(d)):U(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||U(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}class z0{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&qr(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),qr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),qr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);qr(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);qr(this.left,n.reverse())}}}function qr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ky(e){const t={};let n=-1,r,i,s,o,a,l,u;const c=new z0(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,D0(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Lt(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function D0(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let c,d,f=-1,h=n,w=0,S=0;const b=[S];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(S=f+1,b.push(S),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),f=b.length;f--;){const p=a.slice(b[f],b[f+1]),m=s.pop();l.push([m,m+p.length-1]),e.splice(m,2,p)}for(l.reverse(),f=-1;++f<l.length;)u[w+l[f][0]]=w+l[f][1],w+=l[f][1]-l[f][0]-1;return u}const j0={resolve:B0,tokenize:U0},F0={partial:!0,tokenize:H0};function B0(e){return ky(e),e}function U0(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):U(a)?e.check(F0,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function H0(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),oe(e,s,"linePrefix")}function s(o){if(o===null||U(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Ey(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(p){return p===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(p),e.exit(s),f):p===null||p===32||p===41||Wl(p)?n(p):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),S(p))}function f(p){return p===62?(e.enter(s),e.consume(p),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===62?(e.exit("chunkString"),e.exit(a),f(p)):p===null||p===60||U(p)?n(p):(e.consume(p),p===92?w:h)}function w(p){return p===60||p===62||p===92?(e.consume(p),h):h(p)}function S(p){return!c&&(p===null||p===41||Ye(p))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(p)):c<u&&p===40?(e.consume(p),c++,S):p===41?(e.consume(p),c--,S):p===null||p===32||p===40||Wl(p)?n(p):(e.consume(p),p===92?b:S)}function b(p){return p===40||p===41||p===92?(e.consume(p),S):S(p)}}function Cy(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):U(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||U(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!X(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function Ty(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),u(f))}function u(f){return f===o?(e.exit(s),l(o)):f===null?n(f):U(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),oe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||U(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(e.consume(f),c):c(f)}}function hi(e,t){let n;return r;function r(i){return U(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):X(i)?oe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const V0={name:"definition",tokenize:W0},$0={partial:!0,tokenize:q0};function W0(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return Cy.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=gr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Ye(h)?hi(e,u)(h):u(h)}function u(h){return Ey(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt($0,d,d)(h)}function d(h){return X(h)?oe(e,f,"whitespace")(h):f(h)}function f(h){return h===null||U(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function q0(e,t,n){return r;function r(a){return Ye(a)?hi(e,i)(a):n(a)}function i(a){return Ty(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return X(a)?oe(e,o,"whitespace")(a):o(a)}function o(a){return a===null||U(a)?t(a):n(a)}}const Q0={name:"hardBreakEscape",tokenize:Y0};function Y0(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return U(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const G0={name:"headingAtx",resolve:K0,tokenize:J0};function K0(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Lt(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function J0(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||Ye(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||U(c)?(e.exit("atxHeading"),t(c)):X(c)?oe(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Ye(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const X0=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$f=["pre","script","style","textarea"],Z0={concrete:!0,name:"htmlFlow",resolveTo:nC,tokenize:rC},eC={partial:!0,tokenize:sC},tC={partial:!0,tokenize:iC};function nC(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function rC(e,t,n){const r=this;let i,s,o,a,l;return u;function u(v){return c(v)}function c(v){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(v),d}function d(v){return v===33?(e.consume(v),f):v===47?(e.consume(v),s=!0,S):v===63?(e.consume(v),i=3,r.interrupt?t:g):Rt(v)?(e.consume(v),o=String.fromCharCode(v),b):n(v)}function f(v){return v===45?(e.consume(v),i=2,h):v===91?(e.consume(v),i=5,a=0,w):Rt(v)?(e.consume(v),i=4,r.interrupt?t:g):n(v)}function h(v){return v===45?(e.consume(v),r.interrupt?t:g):n(v)}function w(v){const _e="CDATA[";return v===_e.charCodeAt(a++)?(e.consume(v),a===_e.length?r.interrupt?t:D:w):n(v)}function S(v){return Rt(v)?(e.consume(v),o=String.fromCharCode(v),b):n(v)}function b(v){if(v===null||v===47||v===62||Ye(v)){const _e=v===47,ft=o.toLowerCase();return!_e&&!s&&$f.includes(ft)?(i=1,r.interrupt?t(v):D(v)):X0.includes(o.toLowerCase())?(i=6,_e?(e.consume(v),p):r.interrupt?t(v):D(v)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(v):s?m(v):y(v))}return v===45||et(v)?(e.consume(v),o+=String.fromCharCode(v),b):n(v)}function p(v){return v===62?(e.consume(v),r.interrupt?t:D):n(v)}function m(v){return X(v)?(e.consume(v),m):A(v)}function y(v){return v===47?(e.consume(v),A):v===58||v===95||Rt(v)?(e.consume(v),C):X(v)?(e.consume(v),y):A(v)}function C(v){return v===45||v===46||v===58||v===95||et(v)?(e.consume(v),C):R(v)}function R(v){return v===61?(e.consume(v),_):X(v)?(e.consume(v),R):y(v)}function _(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(e.consume(v),l=v,P):X(v)?(e.consume(v),_):I(v)}function P(v){return v===l?(e.consume(v),l=null,F):v===null||U(v)?n(v):(e.consume(v),P)}function I(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||Ye(v)?R(v):(e.consume(v),I)}function F(v){return v===47||v===62||X(v)?y(v):n(v)}function A(v){return v===62?(e.consume(v),L):n(v)}function L(v){return v===null||U(v)?D(v):X(v)?(e.consume(v),L):n(v)}function D(v){return v===45&&i===2?(e.consume(v),he):v===60&&i===1?(e.consume(v),ce):v===62&&i===4?(e.consume(v),G):v===63&&i===3?(e.consume(v),g):v===93&&i===5?(e.consume(v),B):U(v)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(eC,te,W)(v)):v===null||U(v)?(e.exit("htmlFlowData"),W(v)):(e.consume(v),D)}function W(v){return e.check(tC,Y,te)(v)}function Y(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),$}function $(v){return v===null||U(v)?W(v):(e.enter("htmlFlowData"),D(v))}function he(v){return v===45?(e.consume(v),g):D(v)}function ce(v){return v===47?(e.consume(v),o="",O):D(v)}function O(v){if(v===62){const _e=o.toLowerCase();return $f.includes(_e)?(e.consume(v),G):D(v)}return Rt(v)&&o.length<8?(e.consume(v),o+=String.fromCharCode(v),O):D(v)}function B(v){return v===93?(e.consume(v),g):D(v)}function g(v){return v===62?(e.consume(v),G):v===45&&i===2?(e.consume(v),g):D(v)}function G(v){return v===null||U(v)?(e.exit("htmlFlowData"),te(v)):(e.consume(v),G)}function te(v){return e.exit("htmlFlow"),t(v)}}function iC(e,t,n){const r=this;return i;function i(o){return U(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function sC(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Wo,t,n)}}const oC={name:"htmlText",tokenize:aC};function aC(e,t,n){const r=this;let i,s,o;return a;function a(g){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(g),l}function l(g){return g===33?(e.consume(g),u):g===47?(e.consume(g),R):g===63?(e.consume(g),y):Rt(g)?(e.consume(g),I):n(g)}function u(g){return g===45?(e.consume(g),c):g===91?(e.consume(g),s=0,w):Rt(g)?(e.consume(g),m):n(g)}function c(g){return g===45?(e.consume(g),h):n(g)}function d(g){return g===null?n(g):g===45?(e.consume(g),f):U(g)?(o=d,ce(g)):(e.consume(g),d)}function f(g){return g===45?(e.consume(g),h):d(g)}function h(g){return g===62?he(g):g===45?f(g):d(g)}function w(g){const G="CDATA[";return g===G.charCodeAt(s++)?(e.consume(g),s===G.length?S:w):n(g)}function S(g){return g===null?n(g):g===93?(e.consume(g),b):U(g)?(o=S,ce(g)):(e.consume(g),S)}function b(g){return g===93?(e.consume(g),p):S(g)}function p(g){return g===62?he(g):g===93?(e.consume(g),p):S(g)}function m(g){return g===null||g===62?he(g):U(g)?(o=m,ce(g)):(e.consume(g),m)}function y(g){return g===null?n(g):g===63?(e.consume(g),C):U(g)?(o=y,ce(g)):(e.consume(g),y)}function C(g){return g===62?he(g):y(g)}function R(g){return Rt(g)?(e.consume(g),_):n(g)}function _(g){return g===45||et(g)?(e.consume(g),_):P(g)}function P(g){return U(g)?(o=P,ce(g)):X(g)?(e.consume(g),P):he(g)}function I(g){return g===45||et(g)?(e.consume(g),I):g===47||g===62||Ye(g)?F(g):n(g)}function F(g){return g===47?(e.consume(g),he):g===58||g===95||Rt(g)?(e.consume(g),A):U(g)?(o=F,ce(g)):X(g)?(e.consume(g),F):he(g)}function A(g){return g===45||g===46||g===58||g===95||et(g)?(e.consume(g),A):L(g)}function L(g){return g===61?(e.consume(g),D):U(g)?(o=L,ce(g)):X(g)?(e.consume(g),L):F(g)}function D(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(e.consume(g),i=g,W):U(g)?(o=D,ce(g)):X(g)?(e.consume(g),D):(e.consume(g),Y)}function W(g){return g===i?(e.consume(g),i=void 0,$):g===null?n(g):U(g)?(o=W,ce(g)):(e.consume(g),W)}function Y(g){return g===null||g===34||g===39||g===60||g===61||g===96?n(g):g===47||g===62||Ye(g)?F(g):(e.consume(g),Y)}function $(g){return g===47||g===62||Ye(g)?F(g):n(g)}function he(g){return g===62?(e.consume(g),e.exit("htmlTextData"),e.exit("htmlText"),t):n(g)}function ce(g){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),O}function O(g){return X(g)?oe(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):B(g)}function B(g){return e.enter("htmlTextData"),o(g)}}const vc={name:"labelEnd",resolveAll:dC,resolveTo:fC,tokenize:hC},lC={tokenize:pC},uC={tokenize:mC},cC={tokenize:gC};function dC(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Lt(e,0,e.length,n),e}function fC(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=at(a,e.slice(s+1,s+r+3)),a=at(a,[["enter",c,t]]),a=at(a,Sc(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=at(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=at(a,e.slice(o+1)),a=at(a,[["exit",l,t]]),Lt(e,s,e.length,a),e}function hC(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(gr(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(lC,c,o?c:d)(f):f===91?e.attempt(uC,c,o?u:d)(f):o?c(f):d(f)}function u(f){return e.attempt(cC,c,d)(f)}function c(f){return t(f)}function d(f){return s._balanced=!0,n(f)}}function pC(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Ye(d)?hi(e,s)(d):s(d)}function s(d){return d===41?c(d):Ey(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Ye(d)?hi(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?Ty(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Ye(d)?hi(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function mC(e,t,n){const r=this;return i;function i(a){return Cy.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(gr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function gC(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const yC={name:"labelStartImage",resolveAll:vc.resolveAll,tokenize:wC};function wC(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const SC={name:"labelStartLink",resolveAll:vc.resolveAll,tokenize:vC};function vC(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Ma={name:"lineEnding",tokenize:xC};function xC(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),oe(e,t,"linePrefix")}}const js={name:"thematicBreak",tokenize:_C};function _C(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||U(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),X(u)?oe(e,a,"whitespace")(u):a(u))}}const He={continuation:{tokenize:TC},exit:IC,name:"list",tokenize:CC},kC={partial:!0,tokenize:RC},EC={partial:!0,tokenize:bC};function CC(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const w=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:ql(h)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(js,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return ql(h)&&++o<10?(e.consume(h),l):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(Wo,r.interrupt?n:c,e.attempt(kC,f,d))}function c(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function d(h){return X(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function TC(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Wo,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,oe(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!X(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(EC,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,oe(e,e.attempt(He,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function bC(e,t,n){const r=this;return oe(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function IC(e){e.exit(this.containerState.type)}function RC(e,t,n){const r=this;return oe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!X(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Wf={name:"setextUnderline",resolveTo:PC,tokenize:AC};function PC(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function AC(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),X(u)?oe(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||U(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const MC={tokenize:NC};function NC(e){const t=this,n=e.attempt(Wo,r,e.attempt(this.parser.constructs.flowInitial,i,oe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(j0,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const LC={resolveAll:Iy()},OC=by("string"),zC=by("text");function by(e){return{resolveAll:Iy(e==="text"?DC:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Iy(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function DC(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const jC={42:He,43:He,45:He,48:He,49:He,50:He,51:He,52:He,53:He,54:He,55:He,56:He,57:He,62:vy},FC={91:V0},BC={[-2]:Aa,[-1]:Aa,32:Aa},UC={35:G0,42:js,45:[Wf,js],60:Z0,61:Wf,95:js,96:Vf,126:Vf},HC={38:_y,92:xy},VC={[-5]:Ma,[-4]:Ma,[-3]:Ma,33:yC,38:_y,42:Ql,60:[S0,oC],91:SC,92:[Q0,xy],93:vc,95:Ql,96:M0},$C={null:[Ql,LC]},WC={null:[42,95]},qC={null:[]},QC=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:WC,contentInitial:FC,disable:qC,document:jC,flow:UC,flowInitial:BC,insideSpan:$C,string:HC,text:VC},Symbol.toStringTag,{value:"Module"}));function YC(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:P(R),check:P(_),consume:m,enter:y,exit:C,interrupt:P(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function d(L){return o=at(o,L),b(),o[o.length-1]!==null?[]:(I(t,0),u.events=Sc(s,u.events,u),u.events)}function f(L,D){return KC(h(L),D)}function h(L){return GC(o,L)}function w(){const{_bufferIndex:L,_index:D,line:W,column:Y,offset:$}=r;return{_bufferIndex:L,_index:D,line:W,column:Y,offset:$}}function S(L){i[L.line]=L.column,A()}function b(){let L;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<D.length;)p(D.charCodeAt(r._bufferIndex));else p(D)}}function p(L){c=c(L)}function m(L){U(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,A()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function y(L,D){const W=D||{};return W.type=L,W.start=w(),u.events.push(["enter",W,u]),a.push(W),W}function C(L){const D=a.pop();return D.end=w(),u.events.push(["exit",D,u]),D}function R(L,D){I(L,D.from)}function _(L,D){D.restore()}function P(L,D){return W;function W(Y,$,he){let ce,O,B,g;return Array.isArray(Y)?te(Y):"tokenize"in Y?te([Y]):G(Y);function G(ae){return Et;function Et(Jt){const $n=Jt!==null&&ae[Jt],Wn=Jt!==null&&ae.null,Ji=[...Array.isArray($n)?$n:$n?[$n]:[],...Array.isArray(Wn)?Wn:Wn?[Wn]:[]];return te(Ji)(Jt)}}function te(ae){return ce=ae,O=0,ae.length===0?he:v(ae[O])}function v(ae){return Et;function Et(Jt){return g=F(),B=ae,ae.partial||(u.currentConstruct=ae),ae.name&&u.parser.constructs.disable.null.includes(ae.name)?ft():ae.tokenize.call(D?Object.assign(Object.create(u),D):u,l,_e,ft)(Jt)}}function _e(ae){return L(B,g),$}function ft(ae){return g.restore(),++O<ce.length?v(ce[O]):he}}}function I(L,D){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&Lt(u.events,D,u.events.length-D,L.resolve(u.events.slice(D),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function F(){const L=w(),D=u.previous,W=u.currentConstruct,Y=u.events.length,$=Array.from(a);return{from:Y,restore:he};function he(){r=L,u.previous=D,u.currentConstruct=W,u.events.length=Y,a=$,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function GC(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function KC(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function JC(e){const r={constructs:i0([QC,...(e||{}).extensions||[]]),content:i(f0),defined:[],document:i(p0),flow:i(MC),lazy:{},string:i(OC),text:i(zC)};return r;function i(s){return o;function o(a){return YC(r,s,a)}}}function XC(e){for(;!ky(e););return e}const qf=/[\0\t\n\r]/g;function ZC(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,f,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(qf.lastIndex=d,u=qf.exec(s),f=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(f),!u){t=s.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const eT=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function tT(e){return e.replace(eT,nT)}function nT(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Sy(n.slice(s?2:1),s?16:10)}return wc(n)||e}const Ry={}.hasOwnProperty;function rT(e,t,n){return typeof t!="string"&&(n=t,t=void 0),iT(n)(XC(JC(n).document().write(ZC()(e,t,!0))))}function iT(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ac),autolinkProtocol:F,autolinkEmail:F,atxHeading:s(Ic),blockQuote:s(Wn),characterEscape:F,characterReference:F,codeFenced:s(Ji),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Ji,o),codeText:s(qy,o),codeTextData:F,data:F,codeFlowValue:F,definition:s(Qy),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Yy),hardBreakEscape:s(Rc),hardBreakTrailing:s(Rc),htmlFlow:s(Pc,o),htmlFlowData:F,htmlText:s(Pc,o),htmlTextData:F,image:s(Gy),label:o,link:s(Ac),listItem:s(Ky),listItemValue:f,listOrdered:s(Mc,d),listUnordered:s(Mc),paragraph:s(Jy),reference:v,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ic),strong:s(Xy),thematicBreak:s(ew)},exit:{atxHeading:l(),atxHeadingSequence:R,autolink:l(),autolinkEmail:$n,autolinkProtocol:Jt,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:ft,characterReferenceMarkerNumeric:ft,characterReferenceValue:ae,characterReference:Et,codeFenced:l(b),codeFencedFence:S,codeFencedFenceInfo:h,codeFencedFenceMeta:w,codeFlowValue:A,codeIndented:l(p),codeText:l($),codeTextData:A,data:A,definition:l(),definitionDestinationString:C,definitionLabelString:m,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(W),htmlFlowData:A,htmlText:l(Y),htmlTextData:A,image:l(ce),label:B,labelText:O,lineEnding:L,link:l(he),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:_e,resourceDestinationString:g,resourceTitleString:G,resource:te,setextHeading:l(I),setextHeadingLineSequence:P,setextHeadingText:_,strong:l(),thematicBreak:l()}};Py(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(T){let z={type:"root",children:[]};const H={stack:[z],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:c,data:n},Q=[];let re=-1;for(;++re<T.length;)if(T[re][1].type==="listOrdered"||T[re][1].type==="listUnordered")if(T[re][0]==="enter")Q.push(re);else{const ht=Q.pop();re=i(T,ht,re)}for(re=-1;++re<T.length;){const ht=t[T[re][0]];Ry.call(ht,T[re][1].type)&&ht[T[re][1].type].call(Object.assign({sliceSerialize:T[re][2].sliceSerialize},H),T[re][1])}if(H.tokenStack.length>0){const ht=H.tokenStack[H.tokenStack.length-1];(ht[1]||Qf).call(H,void 0,ht[0])}for(z.position={start:Zt(T.length>0?T[0][1].start:{line:1,column:1,offset:0}),end:Zt(T.length>0?T[T.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<t.transforms.length;)z=t.transforms[re](z)||z;return z}function i(T,z,H){let Q=z-1,re=-1,ht=!1,_n,zt,Nr,Lr;for(;++Q<=H;){const Ke=T[Q];switch(Ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ke[0]==="enter"?re++:re--,Lr=void 0;break}case"lineEndingBlank":{Ke[0]==="enter"&&(_n&&!Lr&&!re&&!Nr&&(Nr=Q),Lr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Lr=void 0}if(!re&&Ke[0]==="enter"&&Ke[1].type==="listItemPrefix"||re===-1&&Ke[0]==="exit"&&(Ke[1].type==="listUnordered"||Ke[1].type==="listOrdered")){if(_n){let qn=Q;for(zt=void 0;qn--;){const Dt=T[qn];if(Dt[1].type==="lineEnding"||Dt[1].type==="lineEndingBlank"){if(Dt[0]==="exit")continue;zt&&(T[zt][1].type="lineEndingBlank",ht=!0),Dt[1].type="lineEnding",zt=qn}else if(!(Dt[1].type==="linePrefix"||Dt[1].type==="blockQuotePrefix"||Dt[1].type==="blockQuotePrefixWhitespace"||Dt[1].type==="blockQuoteMarker"||Dt[1].type==="listItemIndent"))break}Nr&&(!zt||Nr<zt)&&(_n._spread=!0),_n.end=Object.assign({},zt?T[zt][1].start:Ke[1].end),T.splice(zt||Q,0,["exit",_n,Ke[2]]),Q++,H++}if(Ke[1].type==="listItemPrefix"){const qn={type:"listItem",_spread:!1,start:Object.assign({},Ke[1].start),end:void 0};_n=qn,T.splice(Q,0,["enter",qn,Ke[2]]),Q++,H++,Nr=void 0,Lr=!0}}}return T[z][1]._spread=ht,H}function s(T,z){return H;function H(Q){a.call(this,T(Q),Q),z&&z.call(this,Q)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(T,z,H){this.stack[this.stack.length-1].children.push(T),this.stack.push(T),this.tokenStack.push([z,H||void 0]),T.position={start:Zt(z.start),end:void 0}}function l(T){return z;function z(H){T&&T.call(this,H),u.call(this,H)}}function u(T,z){const H=this.stack.pop(),Q=this.tokenStack.pop();if(Q)Q[0].type!==T.type&&(z?z.call(this,T,Q[0]):(Q[1]||Qf).call(this,T,Q[0]));else throw new Error("Cannot close `"+T.type+"` ("+fi({start:T.start,end:T.end})+"): its not open");H.position.end=Zt(T.end)}function c(){return n0(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(T){if(this.data.expectingFirstListItemValue){const z=this.stack[this.stack.length-2];z.start=Number.parseInt(this.sliceSerialize(T),10),this.data.expectingFirstListItemValue=void 0}}function h(){const T=this.resume(),z=this.stack[this.stack.length-1];z.lang=T}function w(){const T=this.resume(),z=this.stack[this.stack.length-1];z.meta=T}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const T=this.resume(),z=this.stack[this.stack.length-1];z.value=T.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function p(){const T=this.resume(),z=this.stack[this.stack.length-1];z.value=T.replace(/(\r?\n|\r)$/g,"")}function m(T){const z=this.resume(),H=this.stack[this.stack.length-1];H.label=z,H.identifier=gr(this.sliceSerialize(T)).toLowerCase()}function y(){const T=this.resume(),z=this.stack[this.stack.length-1];z.title=T}function C(){const T=this.resume(),z=this.stack[this.stack.length-1];z.url=T}function R(T){const z=this.stack[this.stack.length-1];if(!z.depth){const H=this.sliceSerialize(T).length;z.depth=H}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function P(T){const z=this.stack[this.stack.length-1];z.depth=this.sliceSerialize(T).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function F(T){const H=this.stack[this.stack.length-1].children;let Q=H[H.length-1];(!Q||Q.type!=="text")&&(Q=Zy(),Q.position={start:Zt(T.start),end:void 0},H.push(Q)),this.stack.push(Q)}function A(T){const z=this.stack.pop();z.value+=this.sliceSerialize(T),z.position.end=Zt(T.end)}function L(T){const z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const H=z.children[z.children.length-1];H.position.end=Zt(T.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(z.type)&&(F.call(this,T),A.call(this,T))}function D(){this.data.atHardBreak=!0}function W(){const T=this.resume(),z=this.stack[this.stack.length-1];z.value=T}function Y(){const T=this.resume(),z=this.stack[this.stack.length-1];z.value=T}function $(){const T=this.resume(),z=this.stack[this.stack.length-1];z.value=T}function he(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const z=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=z,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function ce(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const z=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=z,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function O(T){const z=this.sliceSerialize(T),H=this.stack[this.stack.length-2];H.label=tT(z),H.identifier=gr(z).toLowerCase()}function B(){const T=this.stack[this.stack.length-1],z=this.resume(),H=this.stack[this.stack.length-1];if(this.data.inReference=!0,H.type==="link"){const Q=T.children;H.children=Q}else H.alt=z}function g(){const T=this.resume(),z=this.stack[this.stack.length-1];z.url=T}function G(){const T=this.resume(),z=this.stack[this.stack.length-1];z.title=T}function te(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function _e(T){const z=this.resume(),H=this.stack[this.stack.length-1];H.label=z,H.identifier=gr(this.sliceSerialize(T)).toLowerCase(),this.data.referenceType="full"}function ft(T){this.data.characterReferenceType=T.type}function ae(T){const z=this.sliceSerialize(T),H=this.data.characterReferenceType;let Q;H?(Q=Sy(z,H==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Q=wc(z);const re=this.stack[this.stack.length-1];re.value+=Q}function Et(T){const z=this.stack.pop();z.position.end=Zt(T.end)}function Jt(T){A.call(this,T);const z=this.stack[this.stack.length-1];z.url=this.sliceSerialize(T)}function $n(T){A.call(this,T);const z=this.stack[this.stack.length-1];z.url="mailto:"+this.sliceSerialize(T)}function Wn(){return{type:"blockquote",children:[]}}function Ji(){return{type:"code",lang:null,meta:null,value:""}}function qy(){return{type:"inlineCode",value:""}}function Qy(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Yy(){return{type:"emphasis",children:[]}}function Ic(){return{type:"heading",depth:0,children:[]}}function Rc(){return{type:"break"}}function Pc(){return{type:"html",value:""}}function Gy(){return{type:"image",title:null,url:"",alt:null}}function Ac(){return{type:"link",title:null,url:"",children:[]}}function Mc(T){return{type:"list",ordered:T.type==="listOrdered",start:null,spread:T._spread,children:[]}}function Ky(T){return{type:"listItem",spread:T._spread,checked:null,children:[]}}function Jy(){return{type:"paragraph",children:[]}}function Xy(){return{type:"strong",children:[]}}function Zy(){return{type:"text",value:""}}function ew(){return{type:"thematicBreak"}}}function Zt(e){return{line:e.line,column:e.column,offset:e.offset}}function Py(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Py(e,r):sT(e,r)}}function sT(e,t){let n;for(n in t)if(Ry.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Qf(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+fi({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+fi({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+fi({start:t.start,end:t.end})+") is still open")}function oT(e){const t=this;t.parser=n;function n(r){return rT(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function aT(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function lT(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function uT(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function cT(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dT(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fT(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Mr(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function hT(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pT(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Ay(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function mT(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Ay(e,t);const i={src:Mr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function gT(e,t){const n={src:Mr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function yT(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function wT(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Ay(e,t);const i={href:Mr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function ST(e,t){const n={href:Mr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vT(e,t,n){const r=e.all(t),i=n?xT(n):My(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function xT(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=My(n[r])}return t}function My(e){const t=e.spread;return t??e.children.length>1}function _T(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function kT(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ET(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function CT(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function TT(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=pc(t.children[1]),l=fy(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function bT(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},h=o?o[l]:void 0;h&&(f.align=h);let w={type:"element",tagName:s,properties:f,children:[]};d&&(w.children=e.all(d),e.patch(d,w),w=e.applyData(d,w)),u.push(w)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function IT(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Yf=9,Gf=32;function RT(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Kf(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Kf(t.slice(i),i>0,!1)),s.join("")}function Kf(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Yf||s===Gf;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Yf||s===Gf;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function PT(e,t){const n={type:"text",value:RT(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function AT(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const MT={blockquote:aT,break:lT,code:uT,delete:cT,emphasis:dT,footnoteReference:fT,heading:hT,html:pT,imageReference:mT,image:gT,inlineCode:yT,linkReference:wT,link:ST,listItem:vT,list:_T,paragraph:kT,root:ET,strong:CT,table:TT,tableCell:IT,tableRow:bT,text:PT,thematicBreak:AT,toml:vs,yaml:vs,definition:vs,footnoteDefinition:vs};function vs(){}const Ny=-1,qo=0,pi=1,So=2,xc=3,_c=4,kc=5,Ec=6,Ly=7,Oy=8,Jf=typeof self=="object"?self:globalThis,NT=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case qo:case Ny:return n(o,i);case pi:{const a=n([],i);for(const l of o)a.push(r(l));return a}case So:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case xc:return n(new Date(o),i);case _c:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case kc:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case Ec:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case Ly:{const{name:a,message:l}=o;return n(new Jf[a](l),i)}case Oy:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new Jf[s](o),i)};return r},Xf=e=>NT(new Map,e)(0),Yn="",{toString:LT}={},{keys:OT}=Object,Qr=e=>{const t=typeof e;if(t!=="object"||!e)return[qo,t];const n=LT.call(e).slice(8,-1);switch(n){case"Array":return[pi,Yn];case"Object":return[So,Yn];case"Date":return[xc,Yn];case"RegExp":return[_c,Yn];case"Map":return[kc,Yn];case"Set":return[Ec,Yn];case"DataView":return[pi,n]}return n.includes("Array")?[pi,n]:n.includes("Error")?[Ly,n]:[So,n]},xs=([e,t])=>e===qo&&(t==="function"||t==="symbol"),zT=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Qr(o);switch(a){case qo:{let c=o;switch(l){case"bigint":a=Oy,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([Ny],o)}return i([a,c],o)}case pi:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const c=[],d=i([a,c],o);for(const f of o)c.push(s(f));return d}case So:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([a,c],o);for(const f of OT(o))(e||!xs(Qr(o[f])))&&c.push([s(f),s(o[f])]);return d}case xc:return i([a,o.toISOString()],o);case _c:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case kc:{const c=[],d=i([a,c],o);for(const[f,h]of o)(e||!(xs(Qr(f))||xs(Qr(h))))&&c.push([s(f),s(h)]);return d}case Ec:{const c=[],d=i([a,c],o);for(const f of o)(e||!xs(Qr(f)))&&c.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},Zf=(e,{json:t,lossy:n}={})=>{const r=[];return zT(!(t||n),!!t,new Map,r)(e),r},vo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Xf(Zf(e,t)):structuredClone(e):(e,t)=>Xf(Zf(e,t));function DT(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function jT(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function FT(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||DT,r=e.options.footnoteBackLabel||jT,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=Mr(d.toLowerCase());let h=0;const w=[],S=e.footnoteCounts.get(d);for(;S!==void 0&&++h<=S;){w.length>0&&w.push({type:"text",value:" "});let m=typeof n=="string"?n:n(l,h);typeof m=="string"&&(m={type:"text",value:m}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(m)?m:[m]})}const b=c[c.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const m=b.children[b.children.length-1];m&&m.type==="text"?m.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...w)}else c.push(...w);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,p),a.push(p)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...vo(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const zy=function(e){if(e==null)return VT;if(typeof e=="function")return Qo(e);if(typeof e=="object")return Array.isArray(e)?BT(e):UT(e);if(typeof e=="string")return HT(e);throw new Error("Expected function, string, or object as test")};function BT(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=zy(e[n]);return Qo(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function UT(e){const t=e;return Qo(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function HT(e){return Qo(t);function t(n){return n&&n.type===e}}function Qo(e){return t;function t(n,r,i){return!!($T(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function VT(){return!0}function $T(e){return e!==null&&typeof e=="object"&&"type"in e}const Dy=[],WT=!0,eh=!1,qT="skip";function QT(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=zy(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=Dy,w,S,b;if((!t||s(l,u,c[c.length-1]||void 0))&&(h=YT(n(l,c)),h[0]===eh))return h;if("children"in l&&l.children){const p=l;if(p.children&&h[0]!==qT)for(S=(r?p.children.length:-1)+o,b=c.concat(p);S>-1&&S<p.children.length;){const m=p.children[S];if(w=a(m,S,b)(),w[0]===eh)return w;S=typeof w[1]=="number"?w[1]:S+o}}return h}}}function YT(e){return Array.isArray(e)?e:typeof e=="number"?[WT,e]:e==null?Dy:[e]}function jy(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),QT(e,s,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const Yl={}.hasOwnProperty,GT={};function KT(e,t){const n=t||GT,r=new Map,i=new Map,s=new Map,o={...MT,...n.handlers},a={all:u,applyData:XT,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:JT,wrap:eb};return jy(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,h=a.handlers[f];if(Yl.call(a.handlers,f)&&h)return h(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:S,...b}=c,p=vo(b);return p.children=a.all(c),p}return vo(c)}return(a.options.unknownHandler||ZT)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const w=a.one(f[h],c);if(w){if(h&&f[h-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=th(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=th(S.value))}Array.isArray(w)?d.push(...w):d.push(w)}}}return d}}function JT(e,t){e.position&&(t.position=LE(e))}function XT(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,vo(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function ZT(e,t){const n=t.data||{},r="value"in t&&!(Yl.call(n,"hProperties")||Yl.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function eb(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function th(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function nh(e,t){const n=KT(e,t),r=n.one(e,void 0),i=FT(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function tb(e,t){return e&&"run"in e?async function(n,r){const i=nh(n,{file:r,...t});await e.run(i,r)}:function(n,r){return nh(n,{file:r,...e||t})}}function rh(e){if(e)throw e}var Fs=Object.prototype.hasOwnProperty,Fy=Object.prototype.toString,ih=Object.defineProperty,sh=Object.getOwnPropertyDescriptor,oh=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Fy.call(t)==="[object Array]"},ah=function(t){if(!t||Fy.call(t)!=="[object Object]")return!1;var n=Fs.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Fs.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Fs.call(t,i)},lh=function(t,n){ih&&n.name==="__proto__"?ih(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},uh=function(t,n){if(n==="__proto__")if(Fs.call(t,n)){if(sh)return sh(t,n).value}else return;return t[n]},nb=function e(){var t,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=uh(a,n),i=uh(t,n),a!==i&&(c&&i&&(ah(i)||(s=oh(i)))?(s?(s=!1,o=r&&oh(r)?r:[]):o=r&&ah(r)?r:{},lh(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&lh(a,{name:n,newValue:i}));return a};const Na=Bi(nb);function Gl(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function rb(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?ib(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function ib(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const bt={basename:sb,dirname:ob,extname:ab,join:lb,sep:"/"};function sb(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ki(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function ob(e){if(Ki(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function ab(e){Ki(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function lb(...e){let t=-1,n;for(;++t<e.length;)Ki(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ub(n)}function ub(e){Ki(e);const t=e.codePointAt(0)===47;let n=cb(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function cb(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Ki(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const db={cwd:fb};function fb(){return"/"}function Kl(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function hb(e){if(typeof e=="string")e=new URL(e);else if(!Kl(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return pb(e)}function pb(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const La=["history","path","basename","stem","extname","dirname"];class By{constructor(t){let n;t?Kl(t)?n={path:t}:typeof t=="string"||mb(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":db.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<La.length;){const s=La[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)La.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?bt.basename(this.path):void 0}set basename(t){za(t,"basename"),Oa(t,"basename"),this.path=bt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?bt.dirname(this.path):void 0}set dirname(t){ch(this.basename,"dirname"),this.path=bt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?bt.extname(this.path):void 0}set extname(t){if(Oa(t,"extname"),ch(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=bt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Kl(t)&&(t=hb(t)),za(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?bt.basename(this.path,this.extname):void 0}set stem(t){za(t,"stem"),Oa(t,"stem"),this.path=bt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Oe(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Oa(e,t){if(e&&e.includes(bt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+bt.sep+"`")}function za(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ch(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function mb(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const gb=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},yb={}.hasOwnProperty;class Cc extends gb{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=rb()}copy(){const t=new Cc;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Na(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Fa("data",this.frozen),this.namespace[t]=n,this):yb.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Fa("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=_s(t),r=this.parser||this.Parser;return Da("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Da("process",this.parser||this.Parser),ja("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=_s(t),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const h=d,w=r.stringify(h,f);vb(w)?f.value=w:f.result=w,u(c,f)});function u(c,d){c||!d?o(c):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),Da("processSync",this.parser||this.Parser),ja("processSync",this.compiler||this.Compiler),this.process(t,i),fh("processSync","process",n),r;function i(s,o){n=!0,rh(s),r=o}}run(t,n,r){dh(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=_s(n);i.run(t,l,u);function u(c,d,f){const h=d||t;c?a(c):o?o(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),fh("runSync","run",r),i;function s(o,a){rh(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=_s(n),i=this.compiler||this.Compiler;return ja("stringify",i),dh(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Fa("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Na(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...w]=c;const S=r[f][1];Gl(S)&&Gl(h)&&(h=Na(!0,S,h)),r[f]=[u,h,...w]}}}}const wb=new Cc().freeze();function Da(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ja(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fa(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function dh(e){if(!Gl(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function fh(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function _s(e){return Sb(e)?e:new By(e)}function Sb(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function vb(e){return typeof e=="string"||xb(e)}function xb(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _b="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",hh=[],ph={allowDangerousHtml:!0},kb=/^(https?|ircs?|mailto|xmpp)$/i,Eb=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Cb(e){const t=Tb(e),n=bb(e);return Ib(t.runSync(t.parse(n),n),e)}function Tb(e){const t=e.rehypePlugins||hh,n=e.remarkPlugins||hh,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ph}:ph;return wb().use(oT).use(n).use(tb,r).use(t)}function bb(e){const t=e.children||"",n=new By;return typeof t=="string"&&(n.value=t),n}function Ib(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||Rb;for(const c of Eb)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+_b+c.id,void 0);return jy(e,u),FE(e,{Fragment:k.Fragment,components:i,ignoreInvalidStyle:!0,jsx:k.jsx,jsxs:k.jsxs,passKeys:!0,passNode:!0});function u(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let h;for(h in Pa)if(Object.hasOwn(Pa,h)&&Object.hasOwn(c.properties,h)){const w=c.properties[h],S=Pa[h];(S===null||S.includes(c.tagName))&&(c.properties[h]=l(String(w||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):s?s.includes(c.tagName):!1;if(!h&&r&&typeof d=="number"&&(h=!r(c,d,f)),h&&f&&typeof d=="number")return a&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function Rb(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||kb.test(e.slice(0,t))?e:""}const Pb=(e,t)=>typeof e=="string"?e===t:JSON.stringify(e)===JSON.stringify(t),Ab=(e,t)=>{if(!e||!t)return!1;const n=r=>{const{position:i,data:s,...o}=r||{};return o};return JSON.stringify(n(e.properties))===JSON.stringify(n(t.properties))&&Pb(e.children,t.children)},Uy=(e,t)=>Ab(e.node,t.node),Tc=E.createContext(null),Mb=()=>E.useContext(Tc)!==null,Nb=({children:e,...t})=>k.jsx(Tc.Provider,{value:t,children:e}),Lb=E.memo(Nb,Uy),Ob=({node:e,...t})=>k.jsx("pre",{...t}),zb=({node:e,...t})=>k.jsx("code",{...t}),bc=({node:e,components:{Pre:t,Code:n},code:r})=>k.jsx(t,{children:k.jsx(n,{node:e,children:r})}),Db=()=>null,jb=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:i},language:s,code:o})=>{const a=E.useMemo(()=>({Pre:t,Code:n}),[t,n]),l=s?r:bc;return k.jsxs(k.Fragment,{children:[k.jsx(i,{node:e,language:s,code:o}),k.jsx(l,{node:e,components:a,language:s??"unknown",code:o})]})};var Hy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Hy);var Fb=Hy.exports;const Vy=Bi(Fb),mh=({className:e,...t})=>({className:n,...r})=>({className:Vy(e,n),...t,...r}),Bb=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:i},componentsByLanguage:s={},children:o,...a})=>{var b,p,m;const l=E.useContext(Tc),u=mh(l),c=jn(y=>k.jsx(t,{...u(y)})),d=mh(a),f=jn(y=>k.jsx(n,{...d(y)})),h=((b=/language-(\w+)/.exec(a.className||""))==null?void 0:b[1])??"";if(typeof o!="string")return k.jsx(bc,{node:e,components:{Pre:c,Code:f},code:o});const w=((p=s[h])==null?void 0:p.SyntaxHighlighter)??r,S=((m=s[h])==null?void 0:m.CodeHeader)??i;return k.jsx(jb,{node:e,components:{Pre:c,Code:f,SyntaxHighlighter:w,CodeHeader:S},language:h||"unknown",code:o})},Ub=({node:e,components:t,componentsByLanguage:n,...r})=>Mb()?k.jsx(Bb,{node:e,components:t,componentsByLanguage:n,...r}):k.jsx(t.Code,{...r}),Hb=E.memo(Ub,(e,t)=>e.components===t.components&&e.componentsByLanguage===t.componentsByLanguage&&Uy(e,t)),{useSmooth:Vb,useSmoothStatus:$b,withSmoothContextProvider:Wb}=nk,qb=({components:e,componentsByLanguage:t,smooth:n=!0,preprocess:r,...i})=>{const s=Dg(),o=E.useMemo(()=>r?{...s,text:r(s.text)}:s,[s,r]),{text:a}=Vb(o,n),{pre:l=Ob,code:u=zb,SyntaxHighlighter:c=bc,CodeHeader:d=Db}=e??{},f=E.useMemo(()=>({Pre:l,Code:u,SyntaxHighlighter:c,CodeHeader:d}),[l,u,c,d]),h=jn(S=>k.jsx(Hb,{components:f,componentsByLanguage:t,...S})),w=E.useMemo(()=>{const{pre:S,code:b,SyntaxHighlighter:p,CodeHeader:m,...y}=e??{};return{...y,pre:Lb,code:h}},[h,e]);return k.jsx(Cb,{components:w,...i,children:a})},$y=E.forwardRef(({className:e,containerProps:t,containerComponent:n="div",...r},i)=>{const s=$b();return k.jsx(n,{"data-status":s.type,...t,className:Vy(e,t==null?void 0:t.className),ref:i,children:k.jsx(qb,{...r})})});$y.displayName="MarkdownTextPrimitive";const Qb=Wb($y);function Yb(){return k.jsx(ry,{className:"thread-item-row",children:k.jsx(O1,{className:"thread-item",children:k.jsx(iy,{fallback:"New Chat"})})})}function Gb(){return k.jsxs(ny,{className:"sidebar",children:[k.jsx("div",{className:"sidebar-header",children:"ChatGPT AWS"}),k.jsx(Zg,{className:"sidebar-btn",children:"+ New Chat"}),k.jsx("div",{className:"thread-list",children:k.jsx(ty,{components:{ThreadListItem:Yb}})})]})}function Wy(){return k.jsx(Qb,{className:"part-text markdown",components:{p:({children:e})=>k.jsx("p",{children:e})}})}function Kb(){return k.jsx(oc,{className:"message-row assistant",children:k.jsx("div",{className:"bubble assistant-bubble",children:k.jsx(ac,{components:{Text:Wy}})})})}function Jb(){return k.jsx(oc,{className:"message-row user",children:k.jsx("div",{className:"bubble user-bubble",children:k.jsx(ac,{components:{Text:Wy}})})})}function Xb(){return k.jsxs(lc,{className:"edit-composer",children:[k.jsx(cc,{placeholder:"Edit your message..."}),k.jsxs("div",{className:"composer-actions",children:[k.jsx(b1,{className:"composer-btn secondary"}),k.jsx(Vg,{className:"composer-btn primary"})]})]})}function Zb({children:e}){const t=Qg({autoScroll:!0,scrollToBottomOnRunStart:!0,scrollToBottomOnInitialize:!0,scrollToBottomOnThreadSwitch:!0});return k.jsx(Gg,{className:"thread-viewport",ref:t,children:e})}function eI(){return k.jsx("main",{className:"chat-panel",children:k.jsxs(Wg,{className:"thread-root",children:[k.jsx("div",{className:"chat-topbar",children:k.jsx("div",{className:"chat-title",children:"ChatGPT AWS"})}),k.jsxs(Zb,{children:[k.jsx(qg,{children:k.jsxs("div",{className:"empty-state",children:[k.jsx("h1",{children:"Build Better AWS Systems"}),k.jsx("p",{children:"Get architecture guidance, trade-offs, and implementation advice in real time."})]})}),k.jsx(N1,{components:{UserMessage:Jb,AssistantMessage:Kb,EditComposer:Xb}})]}),k.jsx(lc,{className:"composer",children:k.jsxs("div",{className:"composer-input-wrap",children:[k.jsx(cc,{className:"composer-input",placeholder:"Message ChatGPT...",rows:1,autoFocus:!0}),k.jsx(Vg,{className:"composer-icon-btn primary",children:"Send"})]})})]})})}function tI(){return k.jsxs("div",{className:"app-shell",children:[k.jsx(Gb,{}),k.jsx(eI,{})]})}function nI(){const e=q_(H1);return k.jsx(_k,{runtime:e,children:k.jsx(tI,{})})}Ba.createRoot(document.getElementById("root")).render(k.jsx(je.StrictMode,{children:k.jsx(nI,{})}));
